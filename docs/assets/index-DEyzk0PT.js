(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function BT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var zf={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function jT(){if(Cy)return Hl;Cy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=t,Hl.jsx=i,Hl.jsxs=i,Hl}var Dy;function qT(){return Dy||(Dy=1,zf.exports=jT()),zf.exports}var lt=qT(),kf={exports:{}},Fl={},Bf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function HT(){return Iy||(Iy=1,function(s){function t(H,nt){var ct=H.length;H.push(nt);t:for(;0<ct;){var jt=ct-1>>>1,I=H[jt];if(0<o(I,nt))H[jt]=nt,H[ct]=I,ct=jt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],ct=H.pop();if(ct!==nt){H[0]=ct;t:for(var jt=0,I=H.length,K=I>>>1;jt<K;){var it=2*(jt+1)-1,J=H[it],dt=it+1,wt=H[dt];if(0>o(J,ct))dt<I&&0>o(wt,J)?(H[jt]=wt,H[dt]=ct,jt=dt):(H[jt]=J,H[it]=ct,jt=it);else if(dt<I&&0>o(wt,ct))H[jt]=wt,H[dt]=ct,jt=dt;else break t}}return nt}function o(H,nt){var ct=H.sortIndex-nt.sortIndex;return ct!==0?ct:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,C=null,D=3,j=!1,X=!1,tt=!1,$=!1,gt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Vt(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=H)r(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Tt(H){if(tt=!1,Vt(H),!X)if(i(y)!==null)X=!0,xt||(xt=!0,x());else{var nt=i(_);nt!==null&&ne(Tt,nt.startTime-H)}}var xt=!1,M=-1,S=5,w=-1;function O(){return $?!0:!(s.unstable_now()-w<S)}function N(){if($=!1,xt){var H=s.unstable_now();w=H;var nt=!0;try{t:{X=!1,tt&&(tt=!1,at(M),M=-1),j=!0;var ct=D;try{e:{for(Vt(H),C=i(y);C!==null&&!(C.expirationTime>H&&O());){var jt=C.callback;if(typeof jt=="function"){C.callback=null,D=C.priorityLevel;var I=jt(C.expirationTime<=H);if(H=s.unstable_now(),typeof I=="function"){C.callback=I,Vt(H),nt=!0;break e}C===i(y)&&r(y),Vt(H)}else r(y);C=i(y)}if(C!==null)nt=!0;else{var K=i(_);K!==null&&ne(Tt,K.startTime-H),nt=!1}}break t}finally{C=null,D=ct,j=!1}nt=void 0}}finally{nt?x():xt=!1}}}var x;if(typeof ht=="function")x=function(){ht(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pe=R.port2;R.port1.onmessage=N,x=function(){pe.postMessage(null)}}else x=function(){gt(N,0)};function ne(H,nt){M=gt(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(H){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var ct=D;D=nt;try{return H()}finally{D=ct}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=D;D=H;try{return nt()}finally{D=ct}},s.unstable_scheduleCallback=function(H,nt,ct){var jt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?jt+ct:jt):ct=jt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ct+I,H={id:A++,callback:nt,priorityLevel:H,startTime:ct,expirationTime:I,sortIndex:-1},ct>jt?(H.sortIndex=ct,t(_,H),i(y)===null&&H===i(_)&&(tt?(at(M),M=-1):tt=!0,ne(Tt,ct-jt))):(H.sortIndex=I,t(y,H),X||j||(X=!0,xt||(xt=!0,x()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var nt=D;return function(){var ct=D;D=nt;try{return H.apply(this,arguments)}finally{D=ct}}}}(jf)),jf}var Vy;function FT(){return Vy||(Vy=1,Bf.exports=HT()),Bf.exports}var qf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function GT(){if(Oy)return Rt;Oy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function D(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,tt={};function $(I,K,it){this.props=I,this.context=K,this.refs=tt,this.updater=it||j}$.prototype.isReactComponent={},$.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},$.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function gt(){}gt.prototype=$.prototype;function at(I,K,it){this.props=I,this.context=K,this.refs=tt,this.updater=it||j}var ht=at.prototype=new gt;ht.constructor=at,X(ht,$.prototype),ht.isPureReactComponent=!0;var Vt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function M(I,K,it,J,dt,wt){return it=wt.ref,{$$typeof:s,type:I,key:K,ref:it!==void 0?it:null,props:wt}}function S(I,K){return M(I.type,K,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function O(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(it){return K[it]})}var N=/\/+/g;function x(I,K){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):K.toString(36)}function R(){}function pe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ne(I,K,it,J,dt){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var vt=!1;if(I===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(I.$$typeof){case s:case t:vt=!0;break;case A:return vt=I._init,ne(vt(I._payload),K,it,J,dt)}}if(vt)return dt=dt(I),vt=J===""?"."+x(I,0):J,Vt(dt)?(it="",vt!=null&&(it=vt.replace(N,"$&/")+"/"),ne(dt,K,it,"",function(Ht){return Ht})):dt!=null&&(w(dt)&&(dt=S(dt,it+(dt.key==null||I&&I.key===dt.key?"":(""+dt.key).replace(N,"$&/")+"/")+vt)),K.push(dt)),1;vt=0;var W=J===""?".":J+":";if(Vt(I))for(var ot=0;ot<I.length;ot++)J=I[ot],wt=W+x(J,ot),vt+=ne(J,K,it,wt,dt);else if(ot=D(I),typeof ot=="function")for(I=ot.call(I),ot=0;!(J=I.next()).done;)J=J.value,wt=W+x(J,ot++),vt+=ne(J,K,it,wt,dt);else if(wt==="object"){if(typeof I.then=="function")return ne(pe(I),K,it,J,dt);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(I,K,it){if(I==null)return I;var J=[],dt=0;return ne(I,J,"","",function(wt){return K.call(it,wt,dt++)}),J}function nt(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(it){(I._status===0||I._status===-1)&&(I._status=1,I._result=it)},function(it){(I._status===0||I._status===-1)&&(I._status=2,I._result=it)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var ct=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function jt(){}return Rt.Children={map:H,forEach:function(I,K,it){H(I,function(){K.apply(this,arguments)},it)},count:function(I){var K=0;return H(I,function(){K++}),K},toArray:function(I){return H(I,function(K){return K})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Rt.Component=$,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=at,Rt.StrictMode=r,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Tt.H.useMemoCache(I)}},Rt.cache=function(I){return function(){return I.apply(null,arguments)}},Rt.cloneElement=function(I,K,it){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var J=X({},I.props),dt=I.key,wt=void 0;if(K!=null)for(vt in K.ref!==void 0&&(wt=void 0),K.key!==void 0&&(dt=""+K.key),K)!xt.call(K,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&K.ref===void 0||(J[vt]=K[vt]);var vt=arguments.length-2;if(vt===1)J.children=it;else if(1<vt){for(var W=Array(vt),ot=0;ot<vt;ot++)W[ot]=arguments[ot+2];J.children=W}return M(I.type,dt,void 0,void 0,wt,J)},Rt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Rt.createElement=function(I,K,it){var J,dt={},wt=null;if(K!=null)for(J in K.key!==void 0&&(wt=""+K.key),K)xt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(dt[J]=K[J]);var vt=arguments.length-2;if(vt===1)dt.children=it;else if(1<vt){for(var W=Array(vt),ot=0;ot<vt;ot++)W[ot]=arguments[ot+2];dt.children=W}if(I&&I.defaultProps)for(J in vt=I.defaultProps,vt)dt[J]===void 0&&(dt[J]=vt[J]);return M(I,wt,void 0,void 0,null,dt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(I){return{$$typeof:g,render:I}},Rt.isValidElement=w,Rt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:nt}},Rt.memo=function(I,K){return{$$typeof:_,type:I,compare:K===void 0?null:K}},Rt.startTransition=function(I){var K=Tt.T,it={};Tt.T=it;try{var J=I(),dt=Tt.S;dt!==null&&dt(it,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(jt,ct)}catch(wt){ct(wt)}finally{Tt.T=K}},Rt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},Rt.use=function(I){return Tt.H.use(I)},Rt.useActionState=function(I,K,it){return Tt.H.useActionState(I,K,it)},Rt.useCallback=function(I,K){return Tt.H.useCallback(I,K)},Rt.useContext=function(I){return Tt.H.useContext(I)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(I,K){return Tt.H.useDeferredValue(I,K)},Rt.useEffect=function(I,K,it){var J=Tt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(I,K)},Rt.useId=function(){return Tt.H.useId()},Rt.useImperativeHandle=function(I,K,it){return Tt.H.useImperativeHandle(I,K,it)},Rt.useInsertionEffect=function(I,K){return Tt.H.useInsertionEffect(I,K)},Rt.useLayoutEffect=function(I,K){return Tt.H.useLayoutEffect(I,K)},Rt.useMemo=function(I,K){return Tt.H.useMemo(I,K)},Rt.useOptimistic=function(I,K){return Tt.H.useOptimistic(I,K)},Rt.useReducer=function(I,K,it){return Tt.H.useReducer(I,K,it)},Rt.useRef=function(I){return Tt.H.useRef(I)},Rt.useState=function(I){return Tt.H.useState(I)},Rt.useSyncExternalStore=function(I,K,it){return Tt.H.useSyncExternalStore(I,K,it)},Rt.useTransition=function(){return Tt.H.useTransition()},Rt.version="19.1.0",Rt}var Ny;function Rd(){return Ny||(Ny=1,qf.exports=GT()),qf.exports}var Hf={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function QT(){if(My)return Ke;My=1;var s=Rd();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ke.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:j}):A==="script"&&r.d.X(y,{crossOrigin:C,integrity:D,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ke.requestFormReset=function(y){r.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var xy;function YT(){if(xy)return Hf.exports;xy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hf.exports=QT(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function KT(){if(Uy)return Fl;Uy=1;var s=FT(),t=Rd(),i=YT();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===l)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=f;break}if(E===l){v=!0,l=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=h;break}if(E===l){v=!0,l=f,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),gt=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case $:return"Profiler";case tt:return"StrictMode";case Tt:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ht:return(e.displayName||"Context")+".Provider";case at:return(e._context.displayName||"Context")+".Consumer";case Vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:pe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return pe(e(n))}catch{}}return null}var ne=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},jt=[],I=-1;function K(e){return{current:e}}function it(e){0>I||(e.current=jt[I],jt[I]=null,I--)}function J(e,n){I++,jt[I]=e.current,e.current=n}var dt=K(null),wt=K(null),vt=K(null),W=K(null);function ot(e,n){switch(J(vt,n),J(wt,e),J(dt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ey(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ey(n),e=ny(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(dt),J(dt,e)}function Ht(){it(dt),it(wt),it(vt)}function At(e){e.memoizedState!==null&&J(W,e);var n=dt.current,a=ny(n,e.type);n!==a&&(J(wt,e),J(dt,a))}function Ge(e){wt.current===e&&(it(dt),it(wt)),W.current===e&&(it(W),zl._currentValue=ct)}var Un=Object.prototype.hasOwnProperty,Pa=s.unstable_scheduleCallback,La=s.unstable_cancelCallback,Ur=s.unstable_shouldYield,_o=s.unstable_requestPaint,Tn=s.unstable_now,Lc=s.unstable_getCurrentPriorityLevel,Pr=s.unstable_ImmediatePriority,Cs=s.unstable_UserBlockingPriority,za=s.unstable_NormalPriority,zc=s.unstable_LowPriority,Ds=s.unstable_IdlePriority,Lr=s.log,vo=s.unstable_setDisableYieldValue,ue=null,Yt=null;function un(e){if(typeof Lr=="function"&&vo(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ue,e)}catch{}}var Qe=Math.clz32?Math.clz32:ka,Eo=Math.log,kc=Math.LN2;function ka(e){return e>>>=0,e===0?32:31-(Eo(e)/kc|0)|0}var Ba=256,ja=4194304;function Pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Is(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Pn(l):(v&=E,v!==0?h=Pn(v):a||(a=E&~e,a!==0&&(h=Pn(a))))):(E=l&~f,E!==0?h=Pn(E):v!==0?h=Pn(v):a||(a=l&~e,a!==0&&(h=Pn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function qa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(){var e=Ba;return Ba<<=1,(Ba&4194048)===0&&(Ba=256),e}function Br(){var e=ja;return ja<<=1,(ja&62914560)===0&&(ja=4194304),e}function mi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jr(e,n,a,l,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Qe(a),Q=1<<F;E[F]=0,b[F]=-1;var k=z[F];if(k!==null)for(z[F]=null,F=0;F<k.length;F++){var B=k[F];B!==null&&(B.lane&=-536870913)}a&=~Q}l!==0&&Hn(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function Hn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Qe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function qr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Qe(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Hi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Ty(e.type))}function To(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var se=Math.random().toString(36).slice(2),Se="__reactFiber$"+se,ye="__reactProps$"+se,An="__reactContainer$"+se,Hr="__reactEvents$"+se,Bc="__reactListeners$"+se,Gi="__reactHandles$"+se,Ao="__reactResources$"+se,Ha="__reactMarker$"+se;function Qi(e){delete e[Se],delete e[ye],delete e[Hr],delete e[Bc],delete e[Gi]}function pi(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[An]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=ry(e);e!==null;){if(a=e[Se])return a;e=ry(e)}return n}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[Se]||e[An]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Je(e){var n=e[Ao];return n||(n=e[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[Ha]=!0}var Fr=new Set,Os={};function Ln(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(Os[e]=n,e=0;e<n.length;e++)Fr.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Fa={};function wo(e){return Un.call(Fa,e)?!0:Un.call(bo,e)?!1:So.test(e)?Fa[e]=!0:(bo[e]=!0,!1)}function Yi(e,n,a){if(wo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Qn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Le(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Ga,Ro;function _i(e){if(Ga===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ga=n&&n[1]||"",Ro=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+e+Ro}var Ns=!1;function Ms(e,n){if(!e||Ns)return"";Ns=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){k=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),z=E.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===z.length)for(l=b.length-1,h=z.length-1;1<=l&&0<=h&&b[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==z[h]){var F=`
`+b[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Ns=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_i(a):""}function Gr(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Ms(e.type,!1);case 11:return Ms(e.type.render,!1);case 1:return Ms(e.type,!0);case 31:return _i("Activity");default:return""}}function xs(e){try{var n="";do n+=Gr(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jc(e){var n=Qr(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Us(e){e._valueTracker||(e._valueTracker=jc(e))}function Yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Qr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qc=/[\n"\\]/g;function _e(e){return e.replace(qc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cn(e,n,a,l,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+We(n)):e.value!==""+We(n)&&(e.value=""+We(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ki(e,v,We(n)):a!=null?Ki(e,v,We(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function Ya(e,n,a,l,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+We(a):"",n=n!=null?""+We(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ki(e,n,a){n==="number"&&Qa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vi(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Zt(e,n,a){if(n!=null&&(n=""+We(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+We(a):""}function Ka(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=We(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Xa.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Kr(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Co(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function Xr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(e){return Fc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ei=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ai=null;function Zr(e){var n=Fn(e);if(n&&(e=n.stateNode)){var a=e[ye]||null;t:switch(e=n.stateNode,n.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_e(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[ye]||null;if(!h)throw Error(r(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Yr(l)}break t;case"textarea":Zt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&vi(e,!!a.multiple,n,!1)}}}var Yn=!1;function Do(e,n,a){if(Yn)return e(n,a);Yn=!0;try{var l=e(n);return l}finally{if(Yn=!1,(Ti!==null||Ai!==null)&&(Tu(),Ti&&(n=Ti,e=Ai,Ai=Ti=null,Zr(n),e)))for(n=0;n<e.length;n++)Zr(e[n])}}function Za(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wn=!1;if(zn)try{var $a={};Object.defineProperty($a,"passive",{get:function(){wn=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{wn=!1}var Kn=null,Xi=null,Si=null;function $r(){if(Si)return Si;var e,n=Xi,a=n.length,l,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function Xn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function Jr(){return!1}function Oe(e){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:Jr,this.isPropagationStopped=Jr,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Oe(Gt),Ja=A({},Gt,{view:0,detail:0}),Io=Oe(Ja),zs,ks,$n,Wa=A({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(zs=e.screenX-$n.screenX,ks=e.screenY-$n.screenY):ks=zs=0,$n=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:ks}}),Rn=Oe(Wa),Vo=A({},Wa,{dataTransfer:0}),Gc=Oe(Vo),ts=A({},Ja,{relatedTarget:0}),Bs=Oe(ts),Wr=A({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),js=Oe(Wr),Oo=A({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qs=Oe(Oo),Qc=A({},Gt,{data:0}),tl=Oe(Qc),es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mo[e])?!!n[e]:!1}function ns(){return el}var xo=A({},Ja,{key:function(e){if(e.key){var n=es[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?No[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hs=Oe(xo),Uo=A({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Oe(Uo),bi=A({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Po=Oe(bi),Lo=A({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zo=Oe(Lo),ko=A({},Wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fs=Oe(ko),tn=A({},Gt,{newState:0,oldState:0}),Bo=Oe(tn),jo=[9,13,27,32],Jn=zn&&"CompositionEvent"in window,u=null;zn&&"documentMode"in document&&(u=document.documentMode);var m=zn&&"TextEvent"in window&&!u,p=zn&&(!Jn||u&&8<u&&11>=u),T=" ",P=!1;function q(e,n){switch(e){case"keyup":return jo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function be(e,n){switch(e){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return e=n.data,e===T&&P?null:e;default:return null}}function Pt(e,n){if(Ut)return e==="compositionend"||!Jn&&q(e,n)?(e=$r(),Si=Xi=Kn=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function wi(e,n,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,n=Cu(n,"onChange"),0<n.length&&(a=new Ls("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var ze=null,Wn=null;function il(e){Zp(e,0)}function qo(e){var n=Gn(e);if(Yr(n))return e}function ym(e,n){if(e==="change")return n}var _m=!1;if(zn){var Yc;if(zn){var Kc="oninput"in document;if(!Kc){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Kc=typeof vm.oninput=="function"}Yc=Kc}else Yc=!1;_m=Yc&&(!document.documentMode||9<document.documentMode)}function Em(){ze&&(ze.detachEvent("onpropertychange",Tm),Wn=ze=null)}function Tm(e){if(e.propertyName==="value"&&qo(Wn)){var n=[];wi(n,Wn,e,bn(e)),Do(il,n)}}function pE(e,n,a){e==="focusin"?(Em(),ze=n,Wn=a,ze.attachEvent("onpropertychange",Tm)):e==="focusout"&&Em()}function yE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(Wn)}function _E(e,n){if(e==="click")return qo(n)}function vE(e,n){if(e==="input"||e==="change")return qo(n)}function EE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:EE;function al(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Un.call(n,h)||!hn(e[h],n[h]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sm(e,n){var a=Am(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Am(a)}}function bm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Qa(e.document)}return n}function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var TE=zn&&"documentMode"in document&&11>=document.documentMode,Gs=null,Zc=null,sl=null,$c=!1;function Rm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$c||Gs==null||Gs!==Qa(l)||(l=Gs,"selectionStart"in l&&Xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&al(sl,l)||(sl=l,l=Cu(Zc,"onSelect"),0<l.length&&(n=new Ls("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Gs)))}function is(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Qs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Jc={},Cm={};zn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function as(e){if(Jc[e])return Jc[e];if(!Qs[e])return e;var n=Qs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cm)return Jc[e]=n[a];return e}var Dm=as("animationend"),Im=as("animationiteration"),Vm=as("animationstart"),AE=as("transitionrun"),SE=as("transitionstart"),bE=as("transitioncancel"),Om=as("transitionend"),Nm=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function kn(e,n){Nm.set(e,n),Ln(n,[e])}var Mm=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var a=Mm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:xs(n)},Mm.set(e,n),n)}return{value:e,source:n,stack:xs(n)}}var Dn=[],Ys=0,th=0;function Ho(){for(var e=Ys,n=th=Ys=0;n<e;){var a=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&xm(a,h,f)}}function Fo(e,n,a,l){Dn[Ys++]=e,Dn[Ys++]=n,Dn[Ys++]=a,Dn[Ys++]=l,th|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function eh(e,n,a,l){return Fo(e,n,a,l),Go(e)}function Ks(e,n){return Fo(e,null,null,n),Go(e)}function xm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Qe(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Go(e){if(50<Vl)throw Vl=0,of=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Xs={};function wE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,a,l){return new wE(e,n,a,l)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,n){var a=e.alternate;return a===null?(a=fn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Um(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Qo(e,n,a,l,h,f){var v=0;if(l=e,typeof e=="function")nh(e)&&(v=1);else if(typeof e=="string")v=CT(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=fn(31,a,n,h),e.elementType=w,e.lanes=f,e;case X:return ss(a.children,h,f,n);case tt:v=8,h|=24;break;case $:return e=fn(12,a,n,h|2),e.elementType=$,e.lanes=f,e;case Tt:return e=fn(13,a,n,h),e.elementType=Tt,e.lanes=f,e;case xt:return e=fn(19,a,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:case ht:v=10;break t;case at:v=9;break t;case Vt:v=11;break t;case M:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=fn(v,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function ss(e,n,a,l){return e=fn(7,e,l,n),e.lanes=a,e}function ih(e,n,a){return e=fn(6,e,null,n),e.lanes=a,e}function ah(e,n,a){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zs=[],$s=0,Yo=null,Ko=0,In=[],Vn=0,rs=null,Ci=1,Di="";function ls(e,n){Zs[$s++]=Ko,Zs[$s++]=Yo,Yo=e,Ko=n}function Pm(e,n,a){In[Vn++]=Ci,In[Vn++]=Di,In[Vn++]=rs,rs=e;var l=Ci;e=Di;var h=32-Qe(l)-1;l&=~(1<<h),a+=1;var f=32-Qe(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-Qe(n)+h|a<<h|l,Di=f+e}else Ci=1<<f|a<<h|l,Di=e}function sh(e){e.return!==null&&(ls(e,1),Pm(e,1,0))}function rh(e){for(;e===Yo;)Yo=Zs[--$s],Zs[$s]=null,Ko=Zs[--$s],Zs[$s]=null;for(;e===rs;)rs=In[--Vn],In[Vn]=null,Di=In[--Vn],In[Vn]=null,Ci=In[--Vn],In[Vn]=null}var en=null,ce=null,Ft=!1,os=null,ti=!1,lh=Error(r(519));function us(e){var n=Error(r(418,""));throw ol(Cn(n,e)),lh}function Lm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Se]=e,n[ye]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Nt(Nl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Ya(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Us(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Ka(n,l.value,l.defaultValue,l.children),Us(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ty(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||us(e)}function zm(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:en=en.return}}function rl(e){if(e!==en)return!1;if(!Ft)return zm(e),Ft=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bf(e.type,e.memoizedProps)),a=!a),a&&ce&&us(e),zm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ce=jn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ce=null}}else n===27?(n=ce,ha(e.type)?(e=Df,Df=null,ce=e):ce=n):ce=en?jn(e.stateNode.nextSibling):null;return!0}function ll(){ce=en=null,Ft=!1}function km(){var e=os;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),os=null),e}function ol(e){os===null?os=[e]:os.push(e)}var oh=K(null),cs=null,Ii=null;function Zi(e,n,a){J(oh,n._currentValue),n._currentValue=a}function Vi(e){e._currentValue=oh.current,it(oh)}function uh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function ch(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uh(f.return,a,e),l||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),uh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ul(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===W.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(zl):e=[zl])}h=h.return}e!==null&&ch(n,e,a,l),n.flags|=262144}function Xo(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hs(e){cs=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Bm(cs,e)}function Zo(e,n){return cs===null&&hs(e),Bm(e,n)}function Bm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(e===null)throw Error(r(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return a}var RE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},CE=s.unstable_scheduleCallback,DE=s.unstable_NormalPriority,Re={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new RE,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&CE(DE,function(){e.controller.abort()})}var hl=null,fh=0,Js=0,Ws=null;function IE(e,n){if(hl===null){var a=hl=[];fh=0,Js=gf(),Ws={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fh++,n.then(jm,jm),n}function jm(){if(--fh===0&&hl!==null){Ws!==null&&(Ws.status="fulfilled");var e=hl;hl=null,Js=0,Ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function VE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qm=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&IE(e,n),qm!==null&&qm(e,n)};var fs=K(null);function dh(){var e=fs.current;return e!==null?e:ee.pooledCache}function $o(e,n){n===null?J(fs,fs.current):J(fs,n.pool)}function Hm(){var e=dh();return e===null?null:{parent:Re._currentValue,pool:e}}var fl=Error(r(460)),Fm=Error(r(474)),Jo=Error(r(542)),mh={then:function(){}};function Gm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wo(){}function Qm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Wo,Wo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Km(e),e;default:if(typeof n.status=="string")n.then(Wo,Wo);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Km(e),e}throw dl=n,fl}}var dl=null;function Ym(){if(dl===null)throw Error(r(459));var e=dl;return dl=null,e}function Km(e){if(e===fl||e===Jo)throw Error(r(483))}var $i=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Go(e),xm(e,null,a),n}return Fo(e,l,n,a),Go(e)}function ml(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,qr(e,a)}}function yh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var _h=!1;function gl(){if(_h){var e=Ws;if(e!==null)throw e}}function pl(e,n,a,l){_h=!1;var h=e.updateQueue;$i=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,z=b.next;b.next=null,v===null?f=z:v.next=z,v=b;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;v=0,F=z=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Lt&k)===k:(l&k)===k){k!==0&&k===Js&&(_h=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=e,pt=E;k=n;var Wt=a;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){Q=Et.call(Wt,Q,k);break t}Q=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,k=typeof Et=="function"?Et.call(Wt,Q,k):Et,k==null)break t;Q=A({},Q,k);break t;case 2:$i=!0}}k=E.callback,k!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=B,b=Q):F=F.next=B,v|=k;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),la|=v,e.lanes=v,e.memoizedState=Q}}function Xm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Zm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xm(a[e],n)}var tr=K(null),tu=K(0);function $m(e,n){e=Li,J(tu,e),J(tr,n),Li=e|n.baseLanes}function vh(){J(tu,Li),J(tr,tr.current)}function Eh(){Li=tu.current,it(tr),it(tu)}var ta=0,Ct=null,$t=null,ve=null,eu=!1,er=!1,ds=!1,nu=0,yl=0,nr=null,OE=0;function de(){throw Error(r(321))}function Th(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!hn(e[a],n[a]))return!1;return!0}function Ah(e,n,a,l,h,f){return ta=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?xg:Ug,ds=!1,f=a(l,h),ds=!1,er&&(f=Wm(n,a,l,h)),Jm(e),f}function Jm(e){H.H=ou;var n=$t!==null&&$t.next!==null;if(ta=0,ve=$t=Ct=null,eu=!1,yl=0,nr=null,n)throw Error(r(300));e===null||Me||(e=e.dependencies,e!==null&&Xo(e)&&(Me=!0))}function Wm(e,n,a,l){Ct=e;var h=0;do{if(er&&(nr=null),yl=0,er=!1,25<=h)throw Error(r(301));if(h+=1,ve=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=zE,f=n(a,l)}while(er);return f}function NE(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?_l(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Sh(){var e=nu!==0;return nu=0,e}function bh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wh(e){if(eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}eu=!1}ta=0,ve=$t=Ct=null,er=!1,yl=nu=0,nr=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Ct.memoizedState=ve=e:ve=ve.next=e,ve}function Ee(){if($t===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=ve===null?Ct.memoizedState:ve.next;if(n!==null)ve=n,$t=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},ve===null?Ct.memoizedState=ve=e:ve=ve.next=e}return ve}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var n=yl;return yl+=1,nr===null&&(nr=[]),e=Qm(nr,e,n),n=Ct,(ve===null?n.memoizedState:ve.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?xg:Ug),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===ht)return Ye(e)}throw Error(r(438,String(e)))}function Ch(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Rh(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=O;return n.index++,a}function Oi(e,n){return typeof n=="function"?n(e):n}function au(e){var n=Ee();return Dh(n,$t,e)}function Dh(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=v=null,b=null,z=n,F=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Lt&Q)===Q:(ta&Q)===Q){var k=z.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Js&&(F=!0);else if((ta&k)===k){z=z.next,k===Js&&(F=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Q,v=f):b=b.next=Q,Ct.lanes|=k,la|=k;Q=z.action,ds&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=k,v=f):b=b.next=k,Ct.lanes|=Q,la|=Q;z=z.next}while(z!==null&&z!==n);if(b===null?v=f:b.next=E,!hn(f,e.memoizedState)&&(Me=!0,F&&(a=Ws,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ih(e){var n=Ee(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);hn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function tg(e,n,a){var l=Ct,h=Ee(),f=Ft;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!hn(($t||h).memoizedState,a);v&&(h.memoizedState=a,Me=!0),h=h.queue;var E=ig.bind(null,l,h,e);if(vl(2048,8,E,[e]),h.getSnapshot!==n||v||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,ir(9,su(),ng.bind(null,l,h,a,n),null),ee===null)throw Error(r(349));f||(ta&124)!==0||eg(l,n,a)}return a}function eg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Rh(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ng(e,n,a,l){n.value=a,n.getSnapshot=l,ag(n)&&sg(e)}function ig(e,n,a){return a(function(){ag(n)&&sg(e)})}function ag(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!hn(e,a)}catch{return!0}}function sg(e){var n=Ks(e,2);n!==null&&yn(n,e,2)}function Vh(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),ds){un(!0);try{a()}finally{un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n}function rg(e,n,a,l){return e.baseState=a,Dh(e,$t,typeof l=="function"?l:Oi)}function ME(e,n,a,l,h){if(lu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,lg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function lg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,l),b=H.S;b!==null&&b(v,E),og(e,n,E)}catch(z){Oh(e,n,z)}finally{H.T=f}}else try{f=a(h,l),og(e,n,f)}catch(z){Oh(e,n,z)}}function og(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ug(e,n,l)},function(l){return Oh(e,n,l)}):ug(e,n,a)}function ug(e,n,a){n.status="fulfilled",n.value=a,cg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,lg(e,a)))}function Oh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,cg(n),n=n.next;while(n!==l)}e.action=null}function cg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hg(e,n){return n}function fg(e,n){if(Ft){var a=ee.formState;if(a!==null){t:{var l=Ct;if(Ft){if(ce){e:{for(var h=ce,f=ti;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=jn(h.nextSibling),l=h.data==="F!";break t}}us(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:n},a.queue=l,a=Og.bind(null,Ct,l),l.dispatch=a,l=Vh(!1),f=Ph.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=ME.bind(null,Ct,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function dg(e){var n=Ee();return mg(n,$t,e)}function mg(e,n,a){if(n=Dh(e,n,hg)[0],e=au(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=_l(n)}catch(v){throw v===fl?Jo:v}else l=n;n=Ee();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,ir(9,su(),xE.bind(null,h,a),null)),[l,f,e]}function xE(e,n){e.action=n}function gg(e){var n=Ee(),a=$t;if(a!==null)return mg(n,a,e);Ee(),n=n.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function ir(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Rh(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function su(){return{destroy:void 0,resource:void 0}}function pg(){return Ee().memoizedState}function ru(e,n,a,l){var h=nn();l=l===void 0?null:l,Ct.flags|=e,h.memoizedState=ir(1|n,su(),a,l)}function vl(e,n,a,l){var h=Ee();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&Th(l,$t.memoizedState.deps)?h.memoizedState=ir(n,f,a,l):(Ct.flags|=e,h.memoizedState=ir(1|n,f,a,l))}function yg(e,n){ru(8390656,8,e,n)}function _g(e,n){vl(2048,8,e,n)}function vg(e,n){return vl(4,2,e,n)}function Eg(e,n){return vl(4,4,e,n)}function Tg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ag(e,n,a){a=a!=null?a.concat([e]):null,vl(4,4,Tg.bind(null,n,e),a)}function Nh(){}function Sg(e,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function bg(e,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=e(),ds){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,n],l}function Mh(e,n,a){return a===void 0||(ta&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Cp(),Ct.lanes|=e,la|=e,a)}function wg(e,n,a,l){return hn(a,n)?a:tr.current!==null?(e=Mh(e,a,l),hn(e,n)||(Me=!0),e):(ta&42)===0?(Me=!0,e.memoizedState=a):(e=Cp(),Ct.lanes|=e,la|=e,n)}function Rg(e,n,a,l,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,Ph(e,!1,n,a);try{var b=h(),z=H.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var F=VE(b,l);El(e,n,F,pn(e))}else El(e,n,l,pn(e))}catch(Q){El(e,n,{then:function(){},status:"rejected",reason:Q},pn())}finally{nt.p=f,H.T=v}}function UE(){}function xh(e,n,a,l){if(e.tag!==5)throw Error(r(476));var h=Cg(e).queue;Rg(e,h,n,ct,a===null?UE:function(){return Dg(e),a(l)})}function Cg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dg(e){var n=Cg(e).next.queue;El(e,n,{},pn())}function Uh(){return Ye(zl)}function Ig(){return Ee().memoizedState}function Vg(){return Ee().memoizedState}function PE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();e=Ji(a);var l=Wi(n,e,a);l!==null&&(yn(l,n,a),ml(l,n,a)),n={cache:hh()},e.payload=n;return}n=n.return}}function LE(e,n,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lu(e)?Ng(n,a):(a=eh(e,n,a,l),a!==null&&(yn(a,e,l),Mg(a,n,l)))}function Og(e,n,a){var l=pn();El(e,n,a,l)}function El(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return Fo(e,n,h,0),ee===null&&Ho(),!1}catch{}finally{}if(a=eh(e,n,h,l),a!==null)return yn(a,e,l),Mg(a,n,l),!0}return!1}function Ph(e,n,a,l){if(l={lane:2,revertLane:gf(),action:l,hasEagerState:!1,eagerState:null,next:null},lu(e)){if(n)throw Error(r(479))}else n=eh(e,a,l,2),n!==null&&yn(n,e,2)}function lu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Ng(e,n){er=eu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Mg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,qr(e,a)}}var ou={readContext:Ye,use:iu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},xg={readContext:Ye,use:iu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:yg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ru(4194308,4,Tg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ru(4194308,4,e,n)},useInsertionEffect:function(e,n){ru(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var l=e();if(ds){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=nn();if(a!==void 0){var h=a(n);if(ds){un(!0);try{a(n)}finally{un(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=LE.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Vh(e);var n=e.queue,a=Og.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Nh,useDeferredValue:function(e,n){var a=nn();return Mh(a,e,n)},useTransition:function(){var e=Vh(!1);return e=Rg.bind(null,Ct,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ct,h=nn();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(Lt&124)!==0||eg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,yg(ig.bind(null,l,f,e),[e]),l.flags|=2048,ir(9,su(),ng.bind(null,l,f,a,n),null),a},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Ft){var a=Di,l=Ci;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=nu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=OE++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Uh,useFormState:fg,useActionState:fg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ph.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ch,useCacheRefresh:function(){return nn().memoizedState=PE.bind(null,Ct)}},Ug={readContext:Ye,use:iu,useCallback:Sg,useContext:Ye,useEffect:_g,useImperativeHandle:Ag,useInsertionEffect:vg,useLayoutEffect:Eg,useMemo:bg,useReducer:au,useRef:pg,useState:function(){return au(Oi)},useDebugValue:Nh,useDeferredValue:function(e,n){var a=Ee();return wg(a,$t.memoizedState,e,n)},useTransition:function(){var e=au(Oi)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Uh,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var a=Ee();return rg(a,$t,e,n)},useMemoCache:Ch,useCacheRefresh:Vg},zE={readContext:Ye,use:iu,useCallback:Sg,useContext:Ye,useEffect:_g,useImperativeHandle:Ag,useInsertionEffect:vg,useLayoutEffect:Eg,useMemo:bg,useReducer:Ih,useRef:pg,useState:function(){return Ih(Oi)},useDebugValue:Nh,useDeferredValue:function(e,n){var a=Ee();return $t===null?Mh(a,e,n):wg(a,$t.memoizedState,e,n)},useTransition:function(){var e=Ih(Oi)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Uh,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var a=Ee();return $t!==null?rg(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Vg},ar=null,Tl=0;function uu(e){var n=Tl;return Tl+=1,ar===null&&(ar=[]),Qm(ar,e,n)}function Al(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function cu(e,n){throw n.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pg(e){var n=e._init;return n(e._payload)}function Lg(e){function n(U,V){if(e){var L=U.deletions;L===null?(U.deletions=[V],U.flags|=16):L.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Ri(U,V),U.index=0,U.sibling=null,U}function f(U,V,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<V?(U.flags|=67108866,V):L):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,L,G){return V===null||V.tag!==6?(V=ih(L,U.mode,G),V.return=U,V):(V=h(V,L),V.return=U,V)}function b(U,V,L,G){var rt=L.type;return rt===X?F(U,V,L.props.children,G,L.key):V!==null&&(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Pg(rt)===V.type)?(V=h(V,L.props),Al(V,L),V.return=U,V):(V=Qo(L.type,L.key,L.props,null,U.mode,G),Al(V,L),V.return=U,V)}function z(U,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=ah(L,U.mode,G),V.return=U,V):(V=h(V,L.children||[]),V.return=U,V)}function F(U,V,L,G,rt){return V===null||V.tag!==7?(V=ss(L,U.mode,G,rt),V.return=U,V):(V=h(V,L),V.return=U,V)}function Q(U,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ih(""+V,U.mode,L),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return L=Qo(V.type,V.key,V.props,null,U.mode,L),Al(L,V),L.return=U,L;case j:return V=ah(V,U.mode,L),V.return=U,V;case S:var G=V._init;return V=G(V._payload),Q(U,V,L)}if(ne(V)||x(V))return V=ss(V,U.mode,L,null),V.return=U,V;if(typeof V.then=="function")return Q(U,uu(V),L);if(V.$$typeof===ht)return Q(U,Zo(U,V),L);cu(U,V)}return null}function k(U,V,L,G){var rt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(U,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===rt?b(U,V,L,G):null;case j:return L.key===rt?z(U,V,L,G):null;case S:return rt=L._init,L=rt(L._payload),k(U,V,L,G)}if(ne(L)||x(L))return rt!==null?null:F(U,V,L,G,null);if(typeof L.then=="function")return k(U,V,uu(L),G);if(L.$$typeof===ht)return k(U,V,Zo(U,L),G);cu(U,L)}return null}function B(U,V,L,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(V,U,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return U=U.get(G.key===null?L:G.key)||null,b(V,U,G,rt);case j:return U=U.get(G.key===null?L:G.key)||null,z(V,U,G,rt);case S:var It=G._init;return G=It(G._payload),B(U,V,L,G,rt)}if(ne(G)||x(G))return U=U.get(L)||null,F(V,U,G,rt,null);if(typeof G.then=="function")return B(U,V,L,uu(G),rt);if(G.$$typeof===ht)return B(U,V,L,Zo(V,G),rt);cu(V,G)}return null}function Et(U,V,L,G){for(var rt=null,It=null,ft=V,yt=V=0,Ue=null;ft!==null&&yt<L.length;yt++){ft.index>yt?(Ue=ft,ft=null):Ue=ft.sibling;var qt=k(U,ft,L[yt],G);if(qt===null){ft===null&&(ft=Ue);break}e&&ft&&qt.alternate===null&&n(U,ft),V=f(qt,V,yt),It===null?rt=qt:It.sibling=qt,It=qt,ft=Ue}if(yt===L.length)return a(U,ft),Ft&&ls(U,yt),rt;if(ft===null){for(;yt<L.length;yt++)ft=Q(U,L[yt],G),ft!==null&&(V=f(ft,V,yt),It===null?rt=ft:It.sibling=ft,It=ft);return Ft&&ls(U,yt),rt}for(ft=l(ft);yt<L.length;yt++)Ue=B(ft,U,yt,L[yt],G),Ue!==null&&(e&&Ue.alternate!==null&&ft.delete(Ue.key===null?yt:Ue.key),V=f(Ue,V,yt),It===null?rt=Ue:It.sibling=Ue,It=Ue);return e&&ft.forEach(function(pa){return n(U,pa)}),Ft&&ls(U,yt),rt}function pt(U,V,L,G){if(L==null)throw Error(r(151));for(var rt=null,It=null,ft=V,yt=V=0,Ue=null,qt=L.next();ft!==null&&!qt.done;yt++,qt=L.next()){ft.index>yt?(Ue=ft,ft=null):Ue=ft.sibling;var pa=k(U,ft,qt.value,G);if(pa===null){ft===null&&(ft=Ue);break}e&&ft&&pa.alternate===null&&n(U,ft),V=f(pa,V,yt),It===null?rt=pa:It.sibling=pa,It=pa,ft=Ue}if(qt.done)return a(U,ft),Ft&&ls(U,yt),rt;if(ft===null){for(;!qt.done;yt++,qt=L.next())qt=Q(U,qt.value,G),qt!==null&&(V=f(qt,V,yt),It===null?rt=qt:It.sibling=qt,It=qt);return Ft&&ls(U,yt),rt}for(ft=l(ft);!qt.done;yt++,qt=L.next())qt=B(ft,U,yt,qt.value,G),qt!==null&&(e&&qt.alternate!==null&&ft.delete(qt.key===null?yt:qt.key),V=f(qt,V,yt),It===null?rt=qt:It.sibling=qt,It=qt);return e&&ft.forEach(function(kT){return n(U,kT)}),Ft&&ls(U,yt),rt}function Wt(U,V,L,G){if(typeof L=="object"&&L!==null&&L.type===X&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var rt=L.key;V!==null;){if(V.key===rt){if(rt=L.type,rt===X){if(V.tag===7){a(U,V.sibling),G=h(V,L.props.children),G.return=U,U=G;break t}}else if(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Pg(rt)===V.type){a(U,V.sibling),G=h(V,L.props),Al(G,L),G.return=U,U=G;break t}a(U,V);break}else n(U,V);V=V.sibling}L.type===X?(G=ss(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Qo(L.type,L.key,L.props,null,U.mode,G),Al(G,L),G.return=U,U=G)}return v(U);case j:t:{for(rt=L.key;V!==null;){if(V.key===rt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(U,V.sibling),G=h(V,L.children||[]),G.return=U,U=G;break t}else{a(U,V);break}else n(U,V);V=V.sibling}G=ah(L,U.mode,G),G.return=U,U=G}return v(U);case S:return rt=L._init,L=rt(L._payload),Wt(U,V,L,G)}if(ne(L))return Et(U,V,L,G);if(x(L)){if(rt=x(L),typeof rt!="function")throw Error(r(150));return L=rt.call(L),pt(U,V,L,G)}if(typeof L.then=="function")return Wt(U,V,uu(L),G);if(L.$$typeof===ht)return Wt(U,V,Zo(U,L),G);cu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(U,V.sibling),G=h(V,L),G.return=U,U=G):(a(U,V),G=ih(L,U.mode,G),G.return=U,U=G),v(U)):a(U,V)}return function(U,V,L,G){try{Tl=0;var rt=Wt(U,V,L,G);return ar=null,rt}catch(ft){if(ft===fl||ft===Jo)throw ft;var It=fn(29,ft,null,U.mode);return It.lanes=G,It.return=U,It}finally{}}}var sr=Lg(!0),zg=Lg(!1),On=K(null),ei=null;function ea(e){var n=e.alternate;J(Ce,Ce.current&1),J(On,e),ei===null&&(n===null||tr.current!==null||n.memoizedState!==null)&&(ei=e)}function kg(e){if(e.tag===22){if(J(Ce,Ce.current),J(On,e),ei===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ei=e)}}else na()}function na(){J(Ce,Ce.current),J(On,On.current)}function Ni(e){it(On),ei===e&&(ei=null),it(Ce)}var Ce=K(0);function hu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Lh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=pn(),h=Ji(l);h.payload=n,a!=null&&(h.callback=a),n=Wi(e,h,l),n!==null&&(yn(n,e,l),ml(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=pn(),h=Ji(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Wi(e,h,l),n!==null&&(yn(n,e,l),ml(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=pn(),l=Ji(a);l.tag=2,n!=null&&(l.callback=n),n=Wi(e,l,a),n!==null&&(yn(n,e,a),ml(n,e,a))}};function Bg(e,n,a,l,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!al(a,l)||!al(h,f):!0}function jg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&zh.enqueueReplaceState(n,n.state,null)}function ms(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qg(e){fu(e)}function Hg(e){console.error(e)}function Fg(e){fu(e)}function du(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kh(e,n,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){du(e,n)},a}function Qg(e){return e=Ji(e),e.tag=3,e}function Yg(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Gg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Gg(n,a,l),typeof h!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function kE(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ul(n,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ei===null?cf():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ff(e,l,h)),!1;case 22:return a.flags|=65536,l===mh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ff(e,l,h)),!1}throw Error(r(435,a.tag))}return ff(e,l,h),cf(),!1}if(Ft)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==lh&&(e=Error(r(422),{cause:l}),ol(Cn(e,a)))):(l!==lh&&(n=Error(r(423),{cause:l}),ol(Cn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Cn(l,a),h=kh(e.stateNode,l,h),yh(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:l});if(f=Cn(f,a),Il===null?Il=[f]:Il.push(f),he!==4&&(he=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kh(a.stateNode,l,e),yh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(oa===null||!oa.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qg(h),Yg(h,e,a,l),yh(a,h),!1}a=a.return}while(a!==null);return!1}var Kg=Error(r(461)),Me=!1;function ke(e,n,a,l){n.child=e===null?zg(n,null,a,l):sr(n,e.child,a,l)}function Xg(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return hs(n),l=Ah(e,n,a,v,f,h),E=Sh(),e!==null&&!Me?(bh(e,n,h),Mi(e,n,h)):(Ft&&E&&sh(n),n.flags|=1,ke(e,n,l,h),n.child)}function Zg(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,$g(e,n,f,l,h)):(e=Qo(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yh(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&e.ref===n.ref)return Mi(e,n,h)}return n.flags|=1,e=Ri(f,l),e.ref=n.ref,e.return=n,n.child=e}function $g(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(al(f,l)&&e.ref===n.ref)if(Me=!1,n.pendingProps=l=f,Yh(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Mi(e,n,h)}return Bh(e,n,a,l,h)}function Jg(e,n,a){var l=n.pendingProps,h=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Wg(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$o(n,f!==null?f.cachePool:null),f!==null?$m(n,f):vh(),kg(n);else return n.lanes=n.childLanes=536870912,Wg(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?($o(n,f.cachePool),$m(n,f),na(),n.memoizedState=null):(e!==null&&$o(n,null),vh(),na());return ke(e,n,h,a),n.child}function Wg(e,n,a,l){var h=dh();return h=h===null?null:{parent:Re._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&$o(n,null),vh(),kg(n),e!==null&&ul(e,n,l,!0),null}function mu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Bh(e,n,a,l,h){return hs(n),a=Ah(e,n,a,l,void 0,h),l=Sh(),e!==null&&!Me?(bh(e,n,h),Mi(e,n,h)):(Ft&&l&&sh(n),n.flags|=1,ke(e,n,a,h),n.child)}function tp(e,n,a,l,h,f){return hs(n),n.updateQueue=null,a=Wm(n,l,a,h),Jm(e),l=Sh(),e!==null&&!Me?(bh(e,n,f),Mi(e,n,f)):(Ft&&l&&sh(n),n.flags|=1,ke(e,n,a,f),n.child)}function ep(e,n,a,l,h){if(hs(n),n.stateNode===null){var f=Xs,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ye(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ye(v):Xs,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Lh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&zh.enqueueReplaceState(f,f.state,null),pl(n,l,f,h),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=ms(a,E);f.props=b;var z=f.context,F=a.contextType;v=Xs,typeof F=="object"&&F!==null&&(v=Ye(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&jg(n,f,l,v),$i=!1;var k=n.memoizedState;f.state=k,pl(n,l,f,h),gl(),z=n.memoizedState,E||k!==z||$i?(typeof Q=="function"&&(Lh(n,a,Q,l),z=n.memoizedState),(b=$i||Bg(n,a,b,l,k,z,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(e,n),v=n.memoizedProps,F=ms(a,v),f.props=F,Q=n.pendingProps,k=f.context,z=a.contextType,b=Xs,typeof z=="object"&&z!==null&&(b=Ye(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||k!==b)&&jg(n,f,l,b),$i=!1,k=n.memoizedState,f.state=k,pl(n,l,f,h),gl();var B=n.memoizedState;v!==Q||k!==B||$i||e!==null&&e.dependencies!==null&&Xo(e.dependencies)?(typeof E=="function"&&(Lh(n,a,E,l),B=n.memoizedState),(F=$i||Bg(n,a,F,l,k,B,b)||e!==null&&e.dependencies!==null&&Xo(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=sr(n,e.child,null,h),n.child=sr(n,null,a,h)):ke(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Mi(e,n,h),e}function np(e,n,a,l){return ll(),n.flags|=256,ke(e,n,a,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(e){return{baseLanes:e,cachePool:Hm()}}function Hh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Nn),e}function ip(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?ea(n):na(),Ft){var E=ce,b;if(b=E){t:{for(b=E,E=ti;b.nodeType!==8;){if(!E){E=null;break t}if(b=jn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:rs!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},b=fn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,en=n,ce=null,b=!0):b=!1}b||us(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Cf(E)?n.lanes=32:n.lanes=536870912,null;Ni(n)}return E=l.children,l=l.fallback,h?(na(),h=n.mode,E=gu({mode:"hidden",children:E},h),l=ss(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=qh(a),h.childLanes=Hh(e,v,a),n.memoizedState=jh,l):(ea(n),Fh(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ea(n),n.flags&=-257,n=Gh(e,n,a)):n.memoizedState!==null?(na(),n.child=e.child,n.flags|=128,n=null):(na(),h=l.fallback,E=n.mode,l=gu({mode:"visible",children:l.children},E),h=ss(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,sr(n,e.child,null,a),l=n.child,l.memoizedState=qh(a),l.childLanes=Hh(e,v,a),n.memoizedState=jh,n=h);else if(ea(n),Cf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(r(419)),l.stack="",l.digest=v,ol({value:l,source:null,stack:null}),n=Gh(e,n,a)}else if(Me||ul(e,n,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=ee,v!==null&&(l=a&-a,l=(l&42)!==0?1:Hi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Ks(e,l),yn(v,e,l),Kg;E.data==="$?"||cf(),n=Gh(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ce=jn(E.nextSibling),en=n,Ft=!0,os=null,ti=!1,e!==null&&(In[Vn++]=Ci,In[Vn++]=Di,In[Vn++]=rs,Ci=e.id,Di=e.overflow,rs=n),n=Fh(n,l.children),n.flags|=4096);return n}return h?(na(),h=l.fallback,E=n.mode,b=e.child,z=b.sibling,l=Ri(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?h=Ri(z,h):(h=ss(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=e.child.memoizedState,E===null?E=qh(a):(b=E.cachePool,b!==null?(z=Re._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Hm(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Hh(e,v,a),n.memoizedState=jh,l):(ea(n),a=e.child,e=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Fh(e,n){return n=gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function gu(e,n){return e=fn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gh(e,n,a){return sr(n,e.child,null,a),e=Fh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ap(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),uh(e.return,n,a)}function Qh(e,n,a,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function sp(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ke(e,n,l.children,a),l=Ce.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,a,n);else if(e.tag===19)ap(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(J(Ce,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qh(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&hu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qh(n,!0,a,null,f);break;case"together":Qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),la|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ul(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Ri(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ri(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Yh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Xo(e)))}function BE(e,n,a){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),Zi(n,Re,e.memoizedState.cache),ll();break;case 27:case 5:At(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ip(e,n,a):(ea(n),e=Mi(e,n,a),e!==null?e.sibling:null);ea(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ul(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return sp(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ce,Ce.current),l)break;return null;case 22:case 23:return n.lanes=0,Jg(e,n,a);case 24:Zi(n,Re,e.memoizedState.cache)}return Mi(e,n,a)}function rp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Yh(e,a)&&(n.flags&128)===0)return Me=!1,BE(e,n,a);Me=(e.flags&131072)!==0}else Me=!1,Ft&&(n.flags&1048576)!==0&&Pm(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")nh(l)?(e=ms(l,e),n.tag=1,n=ep(null,n,l,e,a)):(n.tag=0,n=Bh(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Vt){n.tag=11,n=Xg(null,n,l,e,a);break t}else if(h===M){n.tag=14,n=Zg(null,n,l,e,a);break t}}throw n=pe(l)||l,Error(r(306,n,""))}}return n;case 0:return Bh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ms(l,n.pendingProps),ep(e,n,l,h,a);case 3:t:{if(ot(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ph(e,n),pl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Zi(n,Re,l),l!==f.cache&&ch(n,[Re],a,!0),gl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=np(e,n,l,a);break t}else if(l!==h){h=Cn(Error(r(424)),n),ol(h),n=np(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=jn(e.firstChild),en=n,Ft=!0,os=null,ti=!0,a=zg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){n=Mi(e,n,a);break t}ke(e,n,l,a)}n=n.child}return n;case 26:return mu(e,n),e===null?(a=cy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ft||(a=n.type,e=n.pendingProps,l=Iu(vt.current).createElement(a),l[Se]=n,l[ye]=e,je(l,a,e),fe(l),n.stateNode=l):n.memoizedState=cy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return At(n),e===null&&Ft&&(l=n.stateNode=ly(n.type,n.pendingProps,vt.current),en=n,ti=!0,h=ce,ha(n.type)?(Df=h,ce=jn(l.firstChild)):ce=h),ke(e,n,n.pendingProps.children,a),mu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((h=l=ce)&&(l=mT(l,n.type,n.pendingProps,ti),l!==null?(n.stateNode=l,en=n,ce=jn(l.firstChild),ti=!1,h=!0):h=!1),h||us(n)),At(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,bf(h,f)?l=null:v!==null&&bf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Ah(e,n,NE,null,null,a),zl._currentValue=h),mu(e,n),ke(e,n,l,a),n.child;case 6:return e===null&&Ft&&((e=a=ce)&&(a=gT(a,n.pendingProps,ti),a!==null?(n.stateNode=a,en=n,ce=null,e=!0):e=!1),e||us(n)),null;case 13:return ip(e,n,a);case 4:return ot(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=sr(n,null,l,a):ke(e,n,l,a),n.child;case 11:return Xg(e,n,n.type,n.pendingProps,a);case 7:return ke(e,n,n.pendingProps,a),n.child;case 8:return ke(e,n,n.pendingProps.children,a),n.child;case 12:return ke(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Zi(n,n.type,l.value),ke(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,hs(n),h=Ye(h),l=l(h),n.flags|=1,ke(e,n,l,a),n.child;case 14:return Zg(e,n,n.type,n.pendingProps,a);case 15:return $g(e,n,n.type,n.pendingProps,a);case 19:return sp(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=gu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ri(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Jg(e,n,a);case 24:return hs(n),l=Ye(Re),e===null?(h=dh(),h===null&&(h=ee,f=hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},gh(n),Zi(n,Re,h)):((e.lanes&a)!==0&&(ph(e,n),pl(n,null,null,a),gl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zi(n,Re,l)):(l=f.cache,Zi(n,Re,l),l!==h.cache&&ch(n,[Re],a,!0))),ke(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xi(e){e.flags|=4}function lp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gy(n)){if(n=On.current,n!==null&&((Lt&4194048)===Lt?ei!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ei))throw dl=mh,Fm;e.flags|=8192}}function pu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Br():536870912,e.lanes|=n,ur|=n)}function Sl(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function jE(e,n,a){var l=n.pendingProps;switch(rh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Re),Ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rl(n)?xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,km())),le(n),null;case 26:return a=n.memoizedState,e===null?(xi(n),a!==null?(le(n),lp(n,a)):(le(n),n.flags&=-16777217)):a?a!==e.memoizedState?(xi(n),le(n),lp(n,a)):(le(n),n.flags&=-16777217):(e.memoizedProps!==l&&xi(n),le(n),n.flags&=-16777217),null;case 27:Ge(n),a=vt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return le(n),null}e=dt.current,rl(n)?Lm(n):(e=ly(h,l,a),n.stateNode=e,xi(n))}return le(n),null;case 5:if(Ge(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return le(n),null}if(e=dt.current,rl(n))Lm(n);else{switch(h=Iu(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=n,e[ye]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xi(n)}}return le(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=vt.current,rl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ty(e.nodeValue,a)),e||us(n)}else e=Iu(e).createTextNode(l),e[Se]=n,n.stateNode=e}return le(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=rl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=km(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ni(n),n):(Ni(n),null)}if(Ni(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),pu(n,n.updateQueue),le(n),null;case 4:return Ht(),e===null&&vf(n.stateNode.containerInfo),le(n),null;case 10:return Vi(n.type),le(n),null;case 19:if(it(Ce),h=n.memoizedState,h===null)return le(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Sl(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=hu(e),f!==null){for(n.flags|=128,Sl(h,!1),e=f.updateQueue,n.updateQueue=e,pu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Um(a,e),a=a.sibling;return J(Ce,Ce.current&1|2),n.child}e=e.sibling}h.tail!==null&&Tn()>vu&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304)}else{if(!l)if(e=hu(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,pu(n,e),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ft)return le(n),null}else 2*Tn()-h.renderingStartTime>vu&&a!==536870912&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Tn(),n.sibling=null,e=Ce.current,J(Ce,l?e&1|2:e&1),n):(le(n),null);case 22:case 23:return Ni(n),Eh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),a=n.updateQueue,a!==null&&pu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&it(fs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Re),le(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function qE(e,n){switch(rh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vi(Re),Ht(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ge(n),null;case 13:if(Ni(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ll()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return it(Ce),null;case 4:return Ht(),null;case 10:return Vi(n.type),null;case 22:case 23:return Ni(n),Eh(),e!==null&&it(fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vi(Re),null;case 25:return null;default:return null}}function op(e,n){switch(rh(n),n.tag){case 3:Vi(Re),Ht();break;case 26:case 27:case 5:Ge(n);break;case 4:Ht();break;case 13:Ni(n);break;case 19:it(Ce);break;case 10:Vi(n.type);break;case 22:case 23:Ni(n),Eh(),e!==null&&it(fs);break;case 24:Vi(Re)}}function bl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){te(n,n.return,E)}}function ia(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var b=a,z=E;try{z()}catch(F){te(h,b,F)}}}l=l.next}while(l!==f)}}catch(F){te(n,n.return,F)}}function up(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Zm(n,a)}catch(l){te(e,e.return,l)}}}function cp(e,n,a){a.props=ms(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){te(e,n,l)}}function wl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){te(e,n,h)}}function ni(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,n,h)}else a.current=null}function hp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function Kh(e,n,a){try{var l=e.stateNode;uT(l,e.type,a,n),l[ye]=n}catch(h){te(e,e.return,h)}}function fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ha(e.type)||e.tag===4}function Xh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&(l===27&&ha(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Zh(e,n,a),e=e.sibling;e!==null;)Zh(e,n,a),e=e.sibling}function yu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yu(e,n,a),e=e.sibling;e!==null;)yu(e,n,a),e=e.sibling}function dp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,l,a),n[Se]=e,n[ye]=a}catch(f){te(e,e.return,f)}}var Ui=!1,me=!1,$h=!1,mp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function HE(e,n){if(e=e.containerInfo,Af=Uu,e=wm(e),Xc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,z=0,F=0,Q=e,k=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==f||l!==0&&Q.nodeType!==3||(b=v+l),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===e)break e;if(k===a&&++z===h&&(E=v),k===f&&++F===l&&(b=v),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sf={focusedElem:e,selectionRange:a},Uu=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Et=ms(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){te(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Rf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function gp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:aa(e,a),l&4&&bl(5,a);break;case 1:if(aa(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){te(a,a.return,v)}else{var h=ms(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){te(a,a.return,v)}}l&64&&up(a),l&512&&wl(a,a.return);break;case 3:if(aa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Zm(e,n)}catch(v){te(a,a.return,v)}}break;case 27:n===null&&l&4&&dp(a);case 26:case 5:aa(e,a),n===null&&l&4&&hp(a),l&512&&wl(a,a.return);break;case 12:aa(e,a);break;case 13:aa(e,a),l&4&&_p(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=JE.bind(null,a),pT(e,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||me,h=Ui;var f=me;Ui=l,(me=n)&&!f?sa(e,a,(a.subtreeFlags&8772)!==0):aa(e,a),Ui=h,me=f}break;case 30:break;default:aa(e,a)}}function pp(e){var n=e.alternate;n!==null&&(e.alternate=null,pp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,an=!1;function Pi(e,n,a){for(a=a.child;a!==null;)yp(e,n,a),a=a.sibling}function yp(e,n,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||ni(a,n),Pi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ni(a,n);var l=re,h=an;ha(a.type)&&(re=a.stateNode,an=!1),Pi(e,n,a),xl(a.stateNode),re=l,an=h;break;case 5:me||ni(a,n);case 6:if(l=re,h=an,re=null,Pi(e,n,a),re=l,an=h,re!==null)if(an)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){te(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){te(a,n,f)}break;case 18:re!==null&&(an?(e=re,sy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ql(e)):sy(re,a.stateNode));break;case 4:l=re,h=an,re=a.stateNode.containerInfo,an=!0,Pi(e,n,a),re=l,an=h;break;case 0:case 11:case 14:case 15:me||ia(2,a,n),me||ia(4,a,n),Pi(e,n,a);break;case 1:me||(ni(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cp(a,n,l)),Pi(e,n,a);break;case 21:Pi(e,n,a);break;case 22:me=(l=me)||a.memoizedState!==null,Pi(e,n,a),me=l;break;default:Pi(e,n,a)}}function _p(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ql(e)}catch(a){te(n,n.return,a)}}function FE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new mp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new mp),n;default:throw Error(r(435,e.tag))}}function Jh(e,n){var a=FE(e);n.forEach(function(l){var h=WE.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(ha(E.type)){re=E.stateNode,an=!1;break t}break;case 5:re=E.stateNode,an=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(re===null)throw Error(r(160));yp(f,v,h),re=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)vp(n,e),n=n.sibling}var Bn=null;function vp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),l&4&&(ia(3,e,e.return),bl(3,e),ia(5,e,e.return));break;case 1:dn(n,e),mn(e),l&512&&(me||a===null||ni(a,a.return)),l&64&&Ui&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(dn(n,e),mn(e),l&512&&(me||a===null||ni(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ha]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,l,a),f[Se]=e,fe(f),l=f;break t;case"link":var v=dy("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(l),je(f,l,a),h.head.appendChild(f);break;case"meta":if(v=dy("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(l),je(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Se]=e,fe(f),l=f}e.stateNode=l}else my(h,e.type,e.stateNode);else e.stateNode=fy(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?my(h,e.type,e.stateNode):fy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kh(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(n,e),mn(e),l&512&&(me||a===null||ni(a,a.return)),a!==null&&l&4&&Kh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,e),mn(e),l&512&&(me||a===null||ni(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(B){te(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Kh(e,h,a!==null?a.memoizedProps:h)),l&1024&&($h=!0);break;case 6:if(dn(n,e),mn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){te(e,e.return,B)}}break;case 3:if(Nu=null,h=Bn,Bn=Vu(n.containerInfo),dn(n,e),Bn=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(B){te(e,e.return,B)}$h&&($h=!1,Ep(e));break;case 4:l=Bn,Bn=Vu(e.stateNode.containerInfo),dn(n,e),mn(e),Bn=l;break;case 12:dn(n,e),mn(e);break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sf=Tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jh(e,l)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,z=Ui,F=me;if(Ui=z||h,me=F||b,dn(n,e),me=F,Ui=z,mn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||b||Ui||me||gs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){te(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){te(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jh(e,a))));break;case 19:dn(n,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jh(e,l)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(fp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Xh(e);yu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var E=Xh(e);yu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,z=Xh(e);Zh(e,z,b);break;default:throw Error(r(161))}}catch(F){te(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ep(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ep(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function aa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gp(e,n.alternate,n),n=n.sibling}function gs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ia(4,n,n.return),gs(n);break;case 1:ni(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cp(n,n.return,a),gs(n);break;case 27:xl(n.stateNode);case 26:case 5:ni(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}e=e.sibling}}function sa(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:sa(h,f,a),bl(4,f);break;case 1:if(sa(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Xm(b[h],E)}catch(z){te(l,l.return,z)}}a&&v&64&&up(f),wl(f,f.return);break;case 27:dp(f);case 26:case 5:sa(h,f,a),a&&l===null&&v&4&&hp(f),wl(f,f.return);break;case 12:sa(h,f,a);break;case 13:sa(h,f,a),a&&v&4&&_p(h,f);break;case 22:f.memoizedState===null&&sa(h,f,a),wl(f,f.return);break;case 30:break;default:sa(h,f,a)}n=n.sibling}}function Wh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e))}function ii(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tp(e,n,a,l),n=n.sibling}function Tp(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,a,l),h&2048&&bl(9,n);break;case 1:ii(e,n,a,l);break;case 3:ii(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e)));break;case 12:if(h&2048){ii(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){te(n,n.return,b)}}else ii(e,n,a,l);break;case 13:ii(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,a,l):Rl(e,n):f._visibility&2?ii(e,n,a,l):(f._visibility|=2,rr(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&Wh(v,n);break;case 24:ii(e,n,a,l),h&2048&&tf(n.alternate,n);break;default:ii(e,n,a,l)}}function rr(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=a,b=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:rr(f,v,E,b,h),bl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?rr(f,v,E,b,h):Rl(f,v):(F._visibility|=2,rr(f,v,E,b,h)),h&&z&2048&&Wh(v.alternate,v);break;case 24:rr(f,v,E,b,h),h&&z&2048&&tf(v.alternate,v);break;default:rr(f,v,E,b,h)}n=n.sibling}}function Rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&Wh(l.alternate,l);break;case 24:Rl(a,l),h&2048&&tf(l.alternate,l);break;default:Rl(a,l)}n=n.sibling}}var Cl=8192;function lr(e){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)Ap(e),e=e.sibling}function Ap(e){switch(e.tag){case 26:lr(e),e.flags&Cl&&e.memoizedState!==null&&IT(Bn,e.memoizedState,e.memoizedProps);break;case 5:lr(e);break;case 3:case 4:var n=Bn;Bn=Vu(e.stateNode.containerInfo),lr(e),Bn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,lr(e),Cl=n):lr(e));break;default:lr(e)}}function Sp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,wp(l,e)}Sp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bp(e),e=e.sibling}function bp(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&ia(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_u(e)):Dl(e);break;default:Dl(e)}}function _u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,wp(l,e)}Sp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ia(8,n,n.return),_u(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,_u(n));break;default:_u(n)}e=e.sibling}}function wp(e,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ia(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=e;xe!==null;){l=xe;var h=l.sibling,f=l.return;if(pp(l),l===a){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var GE={getCacheForType:function(e){var n=Ye(Re),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},QE=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Ot=null,Lt=0,Xt=0,gn=null,ra=!1,or=!1,ef=!1,Li=0,he=0,la=0,ps=0,nf=0,Nn=0,ur=0,Il=null,sn=null,af=!1,sf=0,vu=1/0,Eu=null,oa=null,Be=0,ua=null,cr=null,hr=0,rf=0,lf=null,Rp=null,Vl=0,of=null;function pn(){if((Kt&2)!==0&&Lt!==0)return Lt&-Lt;if(H.T!==null){var e=Js;return e!==0?e:gf()}return Fi()}function Cp(){Nn===0&&(Nn=(Lt&536870912)===0||Ft?kr():536870912);var e=On.current;return e!==null&&(e.flags|=32),Nn}function yn(e,n,a){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(fr(e,0),ca(e,Lt,Nn,!1)),gi(e,a),((Kt&2)===0||e!==ee)&&(e===ee&&((Kt&2)===0&&(ps|=a),he===4&&ca(e,Lt,Nn,!1)),ai(e))}function Dp(e,n,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||qa(e,n),h=l?XE(e,n):hf(e,n,!0),f=l;do{if(h===0){or&&!l&&ca(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!YE(a)){h=hf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;h=Il;var b=E.current.memoizedState.isDehydrated;if(b&&(fr(E,v).flags|=256),v=hf(E,v,!1),v!==2){if(ef&&!b){E.errorRecoveryDisabledLanes|=f,ps|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){fr(e,0),ca(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ca(l,n,Nn,!ra);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sf+300-Tn(),10<h)){if(ca(l,n,Nn,!ra),Is(l,0,!0)!==0)break t;l.timeoutHandle=iy(Ip.bind(null,l,a,sn,Eu,af,n,Nn,ps,ur,ra,f,2,-0,0),h);break t}Ip(l,a,sn,Eu,af,n,Nn,ps,ur,ra,f,0,-0,0)}}break}while(!0);ai(e)}function Ip(e,n,a,l,h,f,v,E,b,z,F,Q,k,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:DT},Ap(n),Q=VT(),Q!==null)){e.cancelPendingCommit=Q(Pp.bind(null,e,n,f,a,l,h,v,E,b,F,1,k,B)),ca(e,f,v,!z);return}Pp(e,n,f,a,l,h,v,E,b)}function YE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ca(e,n,a,l){n&=~nf,n&=~ps,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Qe(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Hn(e,a,n)}function Tu(){return(Kt&6)===0?(Ol(0),!1):!0}function uf(){if(Ot!==null){if(Xt===0)var e=Ot.return;else e=Ot,Ii=cs=null,wh(e),ar=null,Tl=0,e=Ot;for(;e!==null;)op(e.alternate,e),e=e.return;Ot=null}}function fr(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),uf(),ee=e,Ot=a=Ri(e.current,null),Lt=n,Xt=0,gn=null,ra=!1,or=qa(e,n),ef=!1,ur=Nn=nf=ps=la=he=0,sn=Il=null,af=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Qe(l),f=1<<h;n|=e[h],l&=~f}return Li=n,Ho(),a}function Vp(e,n){Ct=null,H.H=ou,n===fl||n===Jo?(n=Ym(),Xt=3):n===Fm?(n=Ym(),Xt=4):Xt=n===Kg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ot===null&&(he=1,du(e,Cn(n,e.current)))}function Op(){var e=H.H;return H.H=ou,e===null?ou:e}function Np(){var e=H.A;return H.A=GE,e}function cf(){he=4,ra||(Lt&4194048)!==Lt&&On.current!==null||(or=!0),(la&134217727)===0&&(ps&134217727)===0||ee===null||ca(ee,Lt,Nn,!1)}function hf(e,n,a){var l=Kt;Kt|=2;var h=Op(),f=Np();(ee!==e||Lt!==n)&&(Eu=null,fr(e,n)),n=!1;var v=he;t:do try{if(Xt!==0&&Ot!==null){var E=Ot,b=gn;switch(Xt){case 8:uf(),v=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var z=Xt;if(Xt=0,gn=null,dr(e,E,b,z),a&&or){v=0;break t}break;default:z=Xt,Xt=0,gn=null,dr(e,E,b,z)}}KE(),v=he;break}catch(F){Vp(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ii=cs=null,Kt=l,H.H=h,H.A=f,Ot===null&&(ee=null,Lt=0,Ho()),v}function KE(){for(;Ot!==null;)Mp(Ot)}function XE(e,n){var a=Kt;Kt|=2;var l=Op(),h=Np();ee!==e||Lt!==n?(Eu=null,vu=Tn()+500,fr(e,n)):or=qa(e,n);t:do try{if(Xt!==0&&Ot!==null){n=Ot;var f=gn;e:switch(Xt){case 1:Xt=0,gn=null,dr(e,n,f,1);break;case 2:case 9:if(Gm(f)){Xt=0,gn=null,xp(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),ai(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Gm(f)?(Xt=0,gn=null,xp(n)):(Xt=0,gn=null,dr(e,n,f,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||gy(v)){Xt=0,gn=null;var b=E.sibling;if(b!==null)Ot=b;else{var z=E.return;z!==null?(Ot=z,Au(z)):Ot=null}break e}}Xt=0,gn=null,dr(e,n,f,5);break;case 6:Xt=0,gn=null,dr(e,n,f,6);break;case 8:uf(),he=6;break t;default:throw Error(r(462))}}ZE();break}catch(F){Vp(e,F)}while(!0);return Ii=cs=null,H.H=l,H.A=h,Kt=a,Ot!==null?0:(ee=null,Lt=0,Ho(),he)}function ZE(){for(;Ot!==null&&!Ur();)Mp(Ot)}function Mp(e){var n=rp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,n===null?Au(e):Ot=n}function xp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=tp(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=tp(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:wh(n);default:op(a,n),n=Ot=Um(n,Li),n=rp(a,n,Li)}e.memoizedProps=e.pendingProps,n===null?Au(e):Ot=n}function dr(e,n,a,l){Ii=cs=null,wh(n),ar=null,Tl=0;var h=n.return;try{if(kE(e,h,n,a,Lt)){he=1,du(e,Cn(a,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;he=1,du(e,Cn(a,e.current)),Ot=null;return}n.flags&32768?(Ft||l===1?e=!0:or||(Lt&536870912)!==0?e=!1:(ra=e=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Up(n,e)):Au(n)}function Au(e){var n=e;do{if((n.flags&32768)!==0){Up(n,ra);return}e=n.return;var a=jE(n.alternate,n,Li);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);he===0&&(he=5)}function Up(e,n){do{var a=qE(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);he=6,Ot=null}function Pp(e,n,a,l,h,f,v,E,b){e.cancelPendingCommit=null;do Su();while(Be!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=th,jr(e,a,f,v,E,b),e===ee&&(Ot=ee=null,Lt=0),cr=n,ua=e,hr=a,rf=f,lf=h,Rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tT(za,function(){return jp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=nt.p,nt.p=2,v=Kt,Kt|=4;try{HE(e,n,a)}finally{Kt=v,nt.p=h,H.T=l}}Be=1,Lp(),zp(),kp()}}function Lp(){if(Be===1){Be=0;var e=ua,n=cr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var h=Kt;Kt|=4;try{vp(n,e);var f=Sf,v=wm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&bm(E.ownerDocument.documentElement,E)){if(b!==null&&Xc(E)){var z=b.start,F=b.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),Et=E.textContent.length,pt=Math.min(b.start,Et),Wt=b.end===void 0?pt:Math.min(b.end,Et);!B.extend&&pt>Wt&&(v=Wt,Wt=pt,pt=v);var U=Sm(E,pt),V=Sm(E,Wt);if(U&&V&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==V.node||B.focusOffset!==V.offset)){var L=Q.createRange();L.setStart(U.node,U.offset),B.removeAllRanges(),pt>Wt?(B.addRange(L),B.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),B.addRange(L))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Uu=!!Af,Sf=Af=null}finally{Kt=h,nt.p=l,H.T=a}}e.current=n,Be=2}}function zp(){if(Be===2){Be=0;var e=ua,n=cr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var h=Kt;Kt|=4;try{gp(e,n.alternate,n)}finally{Kt=h,nt.p=l,H.T=a}}Be=3}}function kp(){if(Be===4||Be===3){Be=0,_o();var e=ua,n=cr,a=hr,l=Rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,cr=ua=null,Bp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(oa=null),Vs(a),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(hr&3)!==0&&Su(),ai(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===of?Vl++:(Vl=0,of=e):Vl=0,Ol(0)}}function Bp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,cl(n)))}function Su(e){return Lp(),zp(),kp(),jp()}function jp(){if(Be!==5)return!1;var e=ua,n=rf;rf=0;var a=Vs(hr),l=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=lf,lf=null;var f=ua,v=hr;if(Be=0,cr=ua=null,hr=0,(Kt&6)!==0)throw Error(r(331));var E=Kt;if(Kt|=4,bp(f.current),Tp(f,f.current,v,a),Kt=E,Ol(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ue,f)}catch{}return!0}finally{nt.p=h,H.T=l,Bp(e,n)}}function qp(e,n,a){n=Cn(a,n),n=kh(e.stateNode,n,2),e=Wi(e,n,2),e!==null&&(gi(e,2),ai(e))}function te(e,n,a){if(e.tag===3)qp(e,e,a);else for(;n!==null;){if(n.tag===3){qp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oa===null||!oa.has(l))){e=Cn(a,e),a=Qg(2),l=Wi(n,a,2),l!==null&&(Yg(a,l,n,e),gi(l,2),ai(l));break}}n=n.return}}function ff(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new QE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(ef=!0,h.add(a),e=$E.bind(null,e,n,a),n.then(e,e))}function $E(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Lt&a)===a&&(he===4||he===3&&(Lt&62914560)===Lt&&300>Tn()-sf?(Kt&2)===0&&fr(e,0):nf|=a,ur===Lt&&(ur=0)),ai(e)}function Hp(e,n){n===0&&(n=Br()),e=Ks(e,n),e!==null&&(gi(e,n),ai(e))}function JE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Hp(e,a)}function WE(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Hp(e,a)}function tT(e,n){return Pa(e,n)}var bu=null,mr=null,df=!1,wu=!1,mf=!1,ys=0;function ai(e){e!==mr&&e.next===null&&(mr===null?bu=mr=e:mr=mr.next=e),wu=!0,df||(df=!0,nT())}function Ol(e,n){if(!mf&&wu){mf=!0;do for(var a=!1,l=bu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Qe(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Yp(l,f))}else f=Lt,f=Is(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qa(l,f)||(a=!0,Yp(l,f));l=l.next}while(a);mf=!1}}function eT(){Fp()}function Fp(){wu=df=!1;var e=0;ys!==0&&(cT()&&(e=ys),ys=0);for(var n=Tn(),a=null,l=bu;l!==null;){var h=l.next,f=Gp(l,n);f===0?(l.next=null,a===null?bu=h:a.next=h,h===null&&(mr=a)):(a=l,(e!==0||(f&3)!==0)&&(wu=!0)),l=h}Ol(e)}function Gp(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Qe(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&l)!==0)&&(h[v]=zr(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=Lt,a=Is(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&La(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qa(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&La(l),Vs(a)){case 2:case 8:a=Cs;break;case 32:a=za;break;case 268435456:a=Ds;break;default:a=za}return l=Qp.bind(null,e),a=Pa(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&La(l),e.callbackPriority=2,e.callbackNode=null,2}function Qp(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Su()&&e.callbackNode!==a)return null;var l=Lt;return l=Is(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Dp(e,l,n),Gp(e,Tn()),e.callbackNode!=null&&e.callbackNode===a?Qp.bind(null,e):null)}function Yp(e,n){if(Su())return null;Dp(e,n,!0)}function nT(){fT(function(){(Kt&6)!==0?Pa(Pr,eT):Fp()})}function gf(){return ys===0&&(ys=kr()),ys}function Kp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ps(""+e)}function Xp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function iT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Kp((h[ye]||null).action),v=l.submitter;v&&(n=(n=v[ye]||null)?Kp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ls("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ys!==0){var b=v?Xp(h,v):new FormData(h);xh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Xp(h,v):new FormData(h),xh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var pf=0;pf<Wc.length;pf++){var yf=Wc[pf],aT=yf.toLowerCase(),sT=yf[0].toUpperCase()+yf.slice(1);kn(aT,"on"+sT)}kn(Dm,"onAnimationEnd"),kn(Im,"onAnimationIteration"),kn(Vm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(AE,"onTransitionRun"),kn(SE,"onTransitionStart"),kn(bE,"onTransitionCancel"),kn(Om,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Zp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){fu(F)}h.currentTarget=null,f=b}else for(v=0;v<l.length;v++){if(E=l[v],b=E.instance,z=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){fu(F)}h.currentTarget=null,f=b}}}}function Nt(e,n){var a=n[Hr];a===void 0&&(a=n[Hr]=new Set);var l=e+"__bubble";a.has(l)||($p(n,e,2,!1),a.add(l))}function _f(e,n,a){var l=0;n&&(l|=4),$p(a,e,l,n)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[Ru]){e[Ru]=!0,Fr.forEach(function(a){a!=="selectionchange"&&(rT.has(a)||_f(a,!1,e),_f(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ru]||(n[Ru]=!0,_f("selectionchange",!1,n))}}function $p(e,n,a,l){switch(Ty(n)){case 2:var h=MT;break;case 8:h=xT;break;default:h=Mf}a=h.bind(null,n,a,e),h=void 0,!wn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ef(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=pi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Do(function(){var z=f,F=bn(a),Q=[];t:{var k=Nm.get(e);if(k!==void 0){var B=Ls,Et=e;switch(e){case"keypress":if(Xn(a)===0)break t;case"keydown":case"keyup":B=Hs;break;case"focusin":Et="focus",B=Bs;break;case"focusout":Et="blur",B=Bs;break;case"beforeblur":case"afterblur":B=Bs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Po;break;case Dm:case Im:case Vm:B=js;break;case Om:B=zo;break;case"scroll":case"scrollend":B=Io;break;case"wheel":B=Fs;break;case"copy":case"cut":case"paste":B=qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=nl;break;case"toggle":case"beforetoggle":B=Bo}var pt=(n&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),U=pt?k!==null?k+"Capture":null:k;pt=[];for(var V=z,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=Za(V,U),G!=null&&pt.push(Ml(V,G,L))),Wt)break;V=V.return}0<pt.length&&(k=new B(k,Et,null,a,F),Q.push({event:k,listeners:pt}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",k&&a!==Ei&&(Et=a.relatedTarget||a.fromElement)&&(pi(Et)||Et[An]))break t;if((B||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,B?(Et=a.relatedTarget||a.toElement,B=z,Et=Et?pi(Et):null,Et!==null&&(Wt=c(Et),pt=Et.tag,Et!==Wt||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(B=null,Et=z),B!==Et)){if(pt=Rn,G="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(pt=nl,G="onPointerLeave",U="onPointerEnter",V="pointer"),Wt=B==null?k:Gn(B),L=Et==null?k:Gn(Et),k=new pt(G,V+"leave",B,a,F),k.target=Wt,k.relatedTarget=L,G=null,pi(F)===z&&(pt=new pt(U,V+"enter",Et,a,F),pt.target=L,pt.relatedTarget=Wt,G=pt),Wt=G,B&&Et)e:{for(pt=B,U=Et,V=0,L=pt;L;L=gr(L))V++;for(L=0,G=U;G;G=gr(G))L++;for(;0<V-L;)pt=gr(pt),V--;for(;0<L-V;)U=gr(U),L--;for(;V--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=gr(pt),U=gr(U)}pt=null}else pt=null;B!==null&&Jp(Q,k,B,pt,!1),Et!==null&&Wt!==null&&Jp(Q,Wt,Et,pt,!0)}}t:{if(k=z?Gn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var rt=ym;else if(we(k))if(_m)rt=vE;else{rt=yE;var It=pE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Xr(z.elementType)&&(rt=ym):rt=_E;if(rt&&(rt=rt(e,z))){wi(Q,rt,a,F);break t}It&&It(e,k,z),e==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Ki(k,"number",k.value)}switch(It=z?Gn(z):window,e){case"focusin":(we(It)||It.contentEditable==="true")&&(Gs=It,Zc=z,sl=null);break;case"focusout":sl=Zc=Gs=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Rm(Q,a,F);break;case"selectionchange":if(TE)break;case"keydown":case"keyup":Rm(Q,a,F)}var ft;if(Jn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ut?q(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(p&&a.locale!=="ko"&&(Ut||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ut&&(ft=$r()):(Kn=F,Xi="value"in Kn?Kn.value:Kn.textContent,Ut=!0)),It=Cu(z,yt),0<It.length&&(yt=new tl(yt,e,null,a,F),Q.push({event:yt,listeners:It}),ft?yt.data=ft:(ft=et(a),ft!==null&&(yt.data=ft)))),(ft=m?be(e,a):Pt(e,a))&&(yt=Cu(z,"onBeforeInput"),0<yt.length&&(It=new tl("onBeforeInput","beforeinput",null,a,F),Q.push({event:It,listeners:yt}),It.data=ft)),iT(Q,e,z,a,F)}Zp(Q,n)})}function Ml(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Cu(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Za(e,a),h!=null&&l.unshift(Ml(e,h,f)),h=Za(e,n),h!=null&&l.push(Ml(e,h,f))),e.tag===3)return l;e=e.return}return[]}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jp(e,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,h?(z=Za(a,f),z!=null&&v.unshift(Ml(a,z,b))):h||(z=Za(a,f),z!=null&&v.push(Ml(a,z,b)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var lT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function Wp(e){return(typeof e=="string"?e:""+e).replace(lT,`
`).replace(oT,"")}function ty(e,n){return n=Wp(n),Wp(e)===n}function Du(){}function Jt(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(e,""+l);break;case"className":Qn(e,"class",l);break;case"tabIndex":Qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,a,l);break;case"style":Kr(e,l,f);break;case"data":if(n!=="object"){Qn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ps(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ps(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Du);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ps(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Yi(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hc.get(a)||a,Yi(e,a,l))}}function Tf(e,n,a,l,h,f){switch(a){case"style":Kr(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ye]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Yi(e,a,l)}}}function je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,v,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),l&&Jt(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=v=h=null,b=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":b=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Jt(e,n,l,F,a,null)}}Ya(e,f,E,b,z,v,h,!1),Us(e);return;case"select":Nt("invalid",e),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Jt(e,n,h,E,a,null)}n=f,a=v,e.multiple=!!l,n!=null?vi(e,!!l,n,!1):a!=null&&vi(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,n,v,E,a,null)}Ka(e,l,h,f),Us(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,n,b,l,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Nt(Nl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,z,l,a,null)}return;default:if(Xr(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Tf(e,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(e,n,E,l,a,null))}function uT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,z=null,F=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(B)||Jt(e,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=a[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":F=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==Q&&Jt(e,n,k,B,l,Q)}}cn(e,v,E,b,z,F,f,h);return;case"select":B=v=E=k=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Jt(e,n,f,null,l,b)}for(h in l)if(f=l[h],b=a[h],l.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Jt(e,n,h,f,l,b)}n=E,a=v,l=B,k!=null?vi(e,!!a,k,!1):!!l!=!!a&&(n!=null?vi(e,!!a,n,!0):vi(e,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":k=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,n,v,h,l,f)}Zt(e,k,B);return;case"option":for(var Et in a)if(k=a[Et],a.hasOwnProperty(Et)&&k!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Jt(e,n,Et,null,l,k)}for(b in l)if(k=l[b],B=a[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Jt(e,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)k=a[pt],a.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt)&&Jt(e,n,pt,null,l,k);for(z in l)if(k=l[z],B=a[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Jt(e,n,z,k,l,B)}return;default:if(Xr(n)){for(var Wt in a)k=a[Wt],a.hasOwnProperty(Wt)&&k!==void 0&&!l.hasOwnProperty(Wt)&&Tf(e,n,Wt,void 0,l,k);for(F in l)k=l[F],B=a[F],!l.hasOwnProperty(F)||k===B||k===void 0&&B===void 0||Tf(e,n,F,k,l,B);return}}for(var U in a)k=a[U],a.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Jt(e,n,U,null,l,k);for(Q in l)k=l[Q],B=a[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Jt(e,n,Q,k,l,B)}var Af=null,Sf=null;function Iu(e){return e.nodeType===9?e:e.ownerDocument}function ey(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ny(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function bf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function cT(){var e=window.event;return e&&e.type==="popstate"?e===wf?!1:(wf=e,!0):(wf=null,!1)}var iy=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(e){return ay.resolve(null).then(e).catch(dT)}:iy;function dT(e){setTimeout(function(){throw e})}function ha(e){return e==="head"}function sy(e,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&xl(v.documentElement),a&2&&xl(v.body),a&4)for(a=v.head,xl(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Ha]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),ql(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);ql(n)}function Rf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rf(a),Qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ha])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function gT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function Cf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function pT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Df=null;function ry(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function ly(e,n,a){switch(n=Iu(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function xl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qi(e)}var Mn=new Map,oy=new Set;function Vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=nt.d;nt.d={f:yT,r:_T,D:vT,C:ET,L:TT,m:AT,X:bT,S:ST,M:wT};function yT(){var e=zi.f(),n=Tu();return e||n}function _T(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?Dg(n):zi.r(e)}var pr=typeof document>"u"?null:document;function uy(e,n,a){var l=pr;if(l&&typeof n=="string"&&n){var h=_e(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),oy.has(h)||(oy.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),je(n,"link",e),fe(n),l.head.appendChild(n)))}}function vT(e){zi.D(e),uy("dns-prefetch",e,null)}function ET(e,n){zi.C(e,n),uy("preconnect",e,n)}function TT(e,n,a){zi.L(e,n,a);var l=pr;if(l&&e&&n){var h='link[rel="preload"][as="'+_e(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_e(a.imageSizes)+'"]')):h+='[href="'+_e(e)+'"]';var f=h;switch(n){case"style":f=yr(e);break;case"script":f=_r(e)}Mn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Mn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),je(n,"link",e),fe(n),l.head.appendChild(n)))}}function AT(e,n){zi.m(e,n);var a=pr;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_r(e)}if(!Mn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Mn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}l=a.createElement("link"),je(l,"link",e),fe(l),a.head.appendChild(l)}}}function ST(e,n,a){zi.S(e,n,a);var l=pr;if(l&&e){var h=Je(l).hoistableStyles,f=yr(e);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ul(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Mn.get(f))&&If(e,a);var b=v=l.createElement("link");fe(b),je(b,"link",e),b._p=new Promise(function(z,F){b.onload=z,b.onerror=F}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function bT(e,n){zi.X(e,n);var a=pr;if(a&&e){var l=Je(a).hoistableScripts,h=_r(e),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(e=A({src:e,async:!0},n),(n=Mn.get(h))&&Vf(e,n),f=a.createElement("script"),fe(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function wT(e,n){zi.M(e,n);var a=pr;if(a&&e){var l=Je(a).hoistableScripts,h=_r(e),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&Vf(e,n),f=a.createElement("script"),fe(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function cy(e,n,a,l){var h=(h=vt.current)?Vu(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=yr(a.href),a=Je(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=yr(a.href);var f=Je(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Ul(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),f||RT(h,e,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_r(a),a=Je(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function yr(e){return'href="'+_e(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function hy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function RT(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",a),fe(n),e.head.appendChild(n))}function _r(e){return'[src="'+_e(e)+'"]'}function Pl(e){return"script[async]"+e}function fy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+_e(a.href)+'"]');if(l)return n.instance=l,fe(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),je(l,"style",h),Ou(l,a.precedence,e),n.instance=l;case"stylesheet":h=yr(a.href);var f=e.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,fe(f),f;l=hy(a),(h=Mn.get(h))&&If(l,h),f=(e.ownerDocument||e).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),je(f,"link",l),n.state.loading|=4,Ou(f,a.precedence,e),n.instance=f;case"script":return f=_r(a.src),(h=e.querySelector(Pl(f)))?(n.instance=h,fe(h),h):(l=a,(h=Mn.get(f))&&(l=A({},a),Vf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,e));return n.instance}function Ou(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Nu=null;function dy(e,n,a){if(Nu===null){var l=new Map,h=Nu=new Map;h.set(a,l)}else h=Nu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ha]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function my(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function CT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ll=null;function DT(){}function IT(e,n,a){if(Ll===null)throw Error(r(475));var l=Ll;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=yr(a.href),f=e.querySelector(Ul(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Mu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,fe(f);return}f=e.ownerDocument||e,a=hy(a),(h=Mn.get(h))&&If(a,h),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),je(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Mu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function VT(){if(Ll===null)throw Error(r(475));var e=Ll;return e.stylesheets&&e.count===0&&Of(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Of(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Mu(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xu=null;function Of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xu=new Map,n.forEach(OT,e),xu=null,Mu.call(e))}function OT(e,n){if(!(n.state.loading&4)){var a=xu.get(e);if(a)var l=a.get(null);else{a=new Map,xu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Mu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var zl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function NT(e,n,a,l,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function py(e,n,a,l,h,f,v,E,b,z,F,Q){return e=new NT(e,n,a,v,E,b,z,Q),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),e.current=f,f.stateNode=e,n=hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},gh(f),e}function yy(e){return e?(e=Xs,e):Xs}function _y(e,n,a,l,h,f){h=yy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ji(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wi(e,l,n),a!==null&&(yn(a,e,n),ml(a,e,n))}function vy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Nf(e,n){vy(e,n),(e=e.alternate)&&vy(e,n)}function Ey(e){if(e.tag===13){var n=Ks(e,67108864);n!==null&&yn(n,e,67108864),Nf(e,67108864)}}var Uu=!0;function MT(e,n,a,l){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,Mf(e,n,a,l)}finally{nt.p=f,H.T=h}}function xT(e,n,a,l){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,Mf(e,n,a,l)}finally{nt.p=f,H.T=h}}function Mf(e,n,a,l){if(Uu){var h=xf(l);if(h===null)Ef(e,n,l,Pu,a),Ay(e,l);else if(PT(h,e,n,a,l))l.stopPropagation();else if(Ay(e,l),n&4&&-1<UT.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Pn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Qe(v);E.entanglements[1]|=b,v&=~b}ai(f),(Kt&6)===0&&(vu=Tn()+500,Ol(0))}}break;case 13:E=Ks(f,2),E!==null&&yn(E,f,2),Tu(),Nf(f,2)}if(f=xf(l),f===null&&Ef(e,n,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Ef(e,n,l,null,a)}}function xf(e){return e=bn(e),Uf(e)}var Pu=null;function Uf(e){if(Pu=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Pu=e,null}function Ty(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lc()){case Pr:return 2;case Cs:return 8;case za:case zc:return 32;case Ds:return 268435456;default:return 32}default:return 32}}var Pf=!1,fa=null,da=null,ma=null,kl=new Map,Bl=new Map,ga=[],UT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(e,n){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function jl(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&Ey(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function PT(e,n,a,l,h){switch(n){case"focusin":return fa=jl(fa,e,n,a,l,h),!0;case"dragenter":return da=jl(da,e,n,a,l,h),!0;case"mouseover":return ma=jl(ma,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,jl(kl.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Bl.set(f,jl(Bl.get(f)||null,e,n,a,l,h)),!0}return!1}function Sy(e){var n=pi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,To(e.priority,function(){if(a.tag===13){var l=pn();l=Hi(l);var h=Ks(a,l);h!==null&&yn(h,a,l),Nf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ei=l,a.target.dispatchEvent(l),Ei=null}else return n=Fn(a),n!==null&&Ey(n),e.blockedOn=a,!1;n.shift()}return!0}function by(e,n,a){Lu(e)&&a.delete(n)}function LT(){Pf=!1,fa!==null&&Lu(fa)&&(fa=null),da!==null&&Lu(da)&&(da=null),ma!==null&&Lu(ma)&&(ma=null),kl.forEach(by),Bl.forEach(by)}function zu(e,n){e.blockedOn===n&&(e.blockedOn=null,Pf||(Pf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LT)))}var ku=null;function wy(e){ku!==e&&(ku=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ku===e&&(ku=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Uf(l||a)===null)continue;break}var f=Fn(a);f!==null&&(e.splice(n,3),n-=3,xh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ql(e){function n(b){return zu(b,e)}fa!==null&&zu(fa,e),da!==null&&zu(da,e),ma!==null&&zu(ma,e),kl.forEach(n),Bl.forEach(n);for(var a=0;a<ga.length;a++){var l=ga[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ga.length&&(a=ga[0],a.blockedOn===null);)Sy(a),a.blockedOn===null&&ga.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[ye]||null;if(typeof f=="function")v||wy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ye]||null)E=v.formAction;else if(Uf(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),wy(a)}}}function Lf(e){this._internalRoot=e}Bu.prototype.render=Lf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=pn();_y(a,l,e,n,null,null)},Bu.prototype.unmount=Lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;_y(e.current,2,null,e,null,null),Tu(),n[An]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ga.length&&n!==0&&n<ga[a].priority;a++);ga.splice(a,0,e),a===0&&Sy(e)}};var Ry=t.version;if(Ry!=="19.1.0")throw Error(r(527,Ry,"19.1.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var zT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{ue=ju.inject(zT),Yt=ju}catch{}}return Fl.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",h=qg,f=Hg,v=Fg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=py(e,1,!1,null,null,a,l,h,f,v,E,null),e[An]=n.current,vf(e),new Lf(n)},Fl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,h="",f=qg,v=Hg,E=Fg,b=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=py(e,1,!0,n,a??null,l,h,f,v,E,b,z),n.context=yy(null),a=n.current,l=pn(),l=Hi(l),h=Ji(l),h.callback=null,Wi(a,h,l),a=l,n.current.lanes=a,gi(n,a),ai(n),e[An]=n.current,vf(e),new Bu(n)},Fl.version="19.1.0",Fl}var Py;function XT(){if(Py)return kf.exports;Py=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kf.exports=KT(),kf.exports}var ZT=XT(),Bt=Rd();const tc=BT(Bt);function $T({id:s,type:t,addTask:i}){const[r,o]=Bt.useState("");function c(g){o(g.target.value)}function d(g){g.preventDefault(),i(r),o("")}return lt.jsx(lt.Fragment,{children:lt.jsxs("form",{onSubmit:d,children:[lt.jsx("h2",{className:"label-wrapper",children:lt.jsx("label",{htmlFor:s,className:"label__lg",children:"What needs to be done?"})}),lt.jsx("input",{type:t,id:s,className:"input input__lg",name:"text",autoComplete:"off",value:r,onChange:c}),lt.jsx("button",{type:"submit",className:"btn btn__primary btn__lg",children:"Add"})]})})}function JT(s,t,i){s!="Clear_Storage"?t(s):i()}function WT({val:s,isPressed:t,setFilter:i,handleClearStorage:r}){return lt.jsxs("button",{type:"button",id:s=="Clear_Storage"?"clear":void 0,className:"btn toggle-btn","aria-pressed":t,onClick:()=>JT(s,i,r),children:[lt.jsx("span",{className:"visually-hidden",children:"Show "}),lt.jsx("span",{children:s}),lt.jsx("span",{className:"visually-hidden",children:"tasks"})]})}function t1({name:s,id:t,myDay:i,isChecked:r,toggleTaskCompleted:o,deleteTask:c,editTask:d,detectHyperlink:g,toggleTomyDay:y,isStarred:_,toggleStarred:A}){const C=Bt.useRef(null),D=Bt.useRef(!1),j=Bt.useRef(!1),X=Bt.useRef(!1),tt=Bt.useRef(!1),[$,gt]=Bt.useState(!1),[at,ht]=Bt.useState(s);function Vt(N){const x=Bt.useRef();return Bt.useEffect(()=>{x.current=N}),x.current}function Tt(N){N.preventDefault(),d(t,at),gt(!1)}function xt(N){ht(N.target.value)}const M=g(at),S=lt.jsxs("form",{onSubmit:Tt,children:[lt.jsx("div",{children:lt.jsx("input",{id:`edit-${t}`,type:"text",value:at,onChange:xt,ref:C},t)}),lt.jsxs("div",{className:"btn-group",children:[lt.jsxs("button",{type:"button",className:"btn",onClick:()=>gt(!1),children:["Cancel ",lt.jsxs("span",{className:"visually-hidden",children:["renaming ",at]})]}),lt.jsxs("button",{type:"submit",className:"btn btn__danger",children:["Save ",lt.jsxs("span",{className:"visually-hidden",children:["renaming ",at]})]})]})]}),w=lt.jsxs(lt.Fragment,{children:[lt.jsxs("div",{className:"c-cb",children:[lt.jsx("input",{id:`view-${t}`,type:"checkbox",checked:r,onChange:()=>o(t)}),lt.jsx("label",{className:"todo-label",htmlFor:`view-${t}`,children:M?lt.jsxs(lt.Fragment,{children:[M.text+" ",lt.jsx("a",{href:M.link,target:"_blank",rel:"noopener noreferrer",children:M.alias})]}):at})]}),lt.jsxs("div",{className:"btn-group",children:[lt.jsxs("button",{type:"button",className:"btn",onClick:()=>gt(!0),ref:j,disabled:r,children:["Edit ",lt.jsx("span",{className:"visually-hidden",children:at})]}),lt.jsxs("button",{ref:D,type:"button",className:"btn btn__danger",onClick:()=>c(t),disabled:r,children:["Delete ",lt.jsx("span",{className:"visually-hidden",children:at})]}),i?lt.jsxs("button",{ref:X,type:"button",className:"btn btn__danger",onClick:()=>y(t),disabled:r,children:["Remove from myDay ",lt.jsx("span",{className:"visually-hidden",children:at})]}):lt.jsxs("button",{ref:X,type:"button",className:"btn btn__danger",onClick:()=>y(t),disabled:r,children:["Add to myDay ",lt.jsx("span",{className:"visually-hidden",children:at})]}),lt.jsx("button",{type:"button",ref:tt,className:"btn star",onClick:()=>A(t),"aria-label":"star-button",disabled:r,children:_?"★":"✧"})]})]});Bt.useEffect(()=>{D.current&&D.current.disabled&&(D.current.className="btn__disabled"),D.current&&!D.current.disabled&&(D.current.className="btn btn__danger"),j.current&&j.current.disabled&&(j.current.className="btn__disabled"),j.current&&!j.current.disabled&&(j.current.className="btn"),X.current&&X.current.disabled&&(X.current.className="btn__disabled"),X.current&&!X.current.disabled&&(X.current.className="btn btn__danger"),tt.current&&tt.current.disabled&&(tt.current.className="btn star_disabled"),tt.current&&!tt.current.disabled&&(_?tt.current.className="btn star_checked":tt.current.className="btn star")},[r]);const O=Vt($);return Bt.useEffect(()=>{!O&&$?C.current.focus():O&&!$&&j.current.focus()},[O,$]),lt.jsx(lt.Fragment,{children:$?S:w})}let e1=(s=21)=>crypto.getRandomValues(new Uint8Array(s)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");var Ff,Ly;function n1(){if(Ly)return Ff;Ly=1;var s={linear:function(t,i,r,o){var c=r-i;return c*t/o+i},easeInQuad:function(t,i,r,o){var c=r-i;return c*(t/=o)*t+i},easeOutQuad:function(t,i,r,o){var c=r-i;return-c*(t/=o)*(t-2)+i},easeInOutQuad:function(t,i,r,o){var c=r-i;return(t/=o/2)<1?c/2*t*t+i:-c/2*(--t*(t-2)-1)+i},easeInCubic:function(t,i,r,o){var c=r-i;return c*(t/=o)*t*t+i},easeOutCubic:function(t,i,r,o){var c=r-i;return c*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(t,i,r,o){var c=r-i;return(t/=o/2)<1?c/2*t*t*t+i:c/2*((t-=2)*t*t+2)+i},easeInQuart:function(t,i,r,o){var c=r-i;return c*(t/=o)*t*t*t+i},easeOutQuart:function(t,i,r,o){var c=r-i;return-c*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(t,i,r,o){var c=r-i;return(t/=o/2)<1?c/2*t*t*t*t+i:-c/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(t,i,r,o){var c=r-i;return c*(t/=o)*t*t*t*t+i},easeOutQuint:function(t,i,r,o){var c=r-i;return c*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(t,i,r,o){var c=r-i;return(t/=o/2)<1?c/2*t*t*t*t*t+i:c/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(t,i,r,o){var c=r-i;return-c*Math.cos(t/o*(Math.PI/2))+c+i},easeOutSine:function(t,i,r,o){var c=r-i;return c*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(t,i,r,o){var c=r-i;return-c/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(t,i,r,o){var c=r-i;return t==0?i:c*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(t,i,r,o){var c=r-i;return t==o?i+c:c*(-Math.pow(2,-10*t/o)+1)+i},easeInOutExpo:function(t,i,r,o){var c=r-i;return t===0?i:t===o?i+c:(t/=o/2)<1?c/2*Math.pow(2,10*(t-1))+i:c/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(t,i,r,o){var c=r-i;return-c*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(t,i,r,o){var c=r-i;return c*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(t,i,r,o){var c=r-i;return(t/=o/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+i:c/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(t,i,r,o){var c=r-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o)===1?i+c:(g||(g=o*.3),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),-(d*Math.pow(2,10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g))+i)},easeOutElastic:function(t,i,r,o){var c=r-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o)===1?i+c:(g||(g=o*.3),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),d*Math.pow(2,-10*t)*Math.sin((t*o-y)*(2*Math.PI)/g)+c+i)},easeInOutElastic:function(t,i,r,o){var c=r-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o/2)===2?i+c:(g||(g=o*(.3*1.5)),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),t<1?-.5*(d*Math.pow(2,10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g))+i:d*Math.pow(2,-10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g)*.5+c+i)},easeInBack:function(t,i,r,o,c){var d=r-i;return c===void 0&&(c=1.70158),d*(t/=o)*t*((c+1)*t-c)+i},easeOutBack:function(t,i,r,o,c){var d=r-i;return c===void 0&&(c=1.70158),d*((t=t/o-1)*t*((c+1)*t+c)+1)+i},easeInOutBack:function(t,i,r,o,c){var d=r-i;return c===void 0&&(c=1.70158),(t/=o/2)<1?d/2*(t*t*(((c*=1.525)+1)*t-c))+i:d/2*((t-=2)*t*(((c*=1.525)+1)*t+c)+2)+i},easeInBounce:function(t,i,r,o){var c=r-i,d;return d=s.easeOutBounce(o-t,0,c,o),c-d+i},easeOutBounce:function(t,i,r,o){var c=r-i;return(t/=o)<1/2.75?c*(7.5625*t*t)+i:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+i:c*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,r,o){var c=r-i,d;return t<o/2?(d=s.easeInBounce(t*2,0,c,o),d*.5+i):(d=s.easeOutBounce(t*2-o,0,c,o),d*.5+c*.5+i)}};return Ff=s,Ff}var i1=n1();function a1(s){return s*Math.PI/180}function _n(s,t){return s+Math.random()*(t-s)}function s1(s,t){return Math.floor(s+Math.random()*(t-s+1))}var Kl;(function(s){s[s.Circle=0]="Circle",s[s.Square=1]="Square",s[s.Strip=2]="Strip"})(Kl||(Kl={}));var ya;(function(s){s[s.Positive=1]="Positive",s[s.Negative=-1]="Negative"})(ya||(ya={}));const r1=1e3/60;class l1{constructor(t,i,r,o){this.getOptions=i;const{colors:c,initialVelocityX:d,initialVelocityY:g}=this.getOptions();this.context=t,this.x=r,this.y=o,this.w=_n(5,20),this.h=_n(5,20),this.radius=_n(5,10),this.vx=typeof d=="number"?_n(-d,d):_n(d.min,d.max),this.vy=typeof g=="number"?_n(-g,0):_n(g.min,g.max),this.shape=s1(0,2),this.angle=a1(_n(0,360)),this.angularSpin=_n(-.2,.2),this.color=c[Math.floor(Math.random()*c.length)],this.rotateY=_n(0,1),this.rotationDirection=_n(0,1)?ya.Positive:ya.Negative}update(t){const{gravity:i,wind:r,friction:o,opacity:c,drawShape:d}=this.getOptions(),g=t/r1;this.x+=this.vx*g,this.y+=this.vy*g,this.vy+=i*g,this.vx+=r*g,this.vx*=o**g,this.vy*=o**g,this.rotateY>=1&&this.rotationDirection===ya.Positive?this.rotationDirection=ya.Negative:this.rotateY<=-1&&this.rotationDirection===ya.Negative&&(this.rotationDirection=ya.Positive);const y=.1*this.rotationDirection*g;if(this.rotateY+=y,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=c,this.context.lineCap="round",this.context.lineWidth=2,d&&typeof d=="function")d.call(this,this.context);else switch(this.shape){case Kl.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Kl.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Kl.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class o1{constructor(t,i){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=o=>{this.particles.splice(o,1)},this.getParticle=()=>{const o=_n(this.x,this.w+this.x),c=_n(this.y,this.h+this.y);return new l1(this.context,this.getOptions,o,c)},this.animate=o=>{const{canvas:c,context:d,particlesGenerated:g,lastNumberOfPieces:y}=this,{run:_,recycle:A,numberOfPieces:C,debug:D,tweenFunction:j,tweenDuration:X}=this.getOptions();if(!_)return!1;const tt=this.particles.length,$=A?tt:g;if($<C){y!==C&&(this.tweenProgress=0,this.tweenFrom=$,this.lastNumberOfPieces=C),this.tweenProgress=Math.min(X,Math.max(0,this.tweenProgress+o));const gt=j(this.tweenProgress,this.tweenFrom,C,X),at=Math.round(gt-$);for(let ht=0;ht<at;ht++)this.particles.push(this.getParticle());this.particlesGenerated+=at}D&&(d.font="12px sans-serif",d.fillStyle="#333",d.textAlign="right",d.fillText(`Particles: ${tt}`,c.width-10,c.height-20));for(let gt=this.particles.length-1;gt>=0;gt--){const at=this.particles[gt];at.update(o),(at.y>c.height||at.y<-100||at.x>c.width+100||at.x<-100)&&(A&&$<=C?this.particles[gt]=this.getParticle():this.removeParticleAt(gt))}return tt>0||$<C},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=i}}const Cd={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:i1.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class u1{constructor(t,i){this.lastFrameTime=0,this.setOptionsWithDefaults=o=>{const c={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...c,...Cd,...o},Object.assign(this,o.confettiSource)},this.update=(o=0)=>{const{options:{run:c,onConfettiComplete:d,frameRate:g},canvas:y,context:_}=this,A=Math.min(o-this.lastFrameTime,50);if(g&&A<1e3/g){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=o-(g?A%g:0),c&&(_.fillStyle="white",_.clearRect(0,0,y.width,y.height)),this.generator.animate(A)?this.rafId=requestAnimationFrame(this.update):(d&&typeof d=="function"&&this.generator.particlesGenerated>0&&d.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new o1(this.canvas,()=>this.options),this.options=i,this.update()}get options(){return this._options}set options(t){var o,c;const i=(o=this._options)==null?void 0:o.run,r=(c=this._options)==null?void 0:c.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&i===!1&&this.update()}}const c1=tc.createRef();class Dd extends tc.Component{constructor(t){super(t),this.canvas=tc.createRef(),this.canvas=t.canvasRef||c1}componentDidMount(){if(this.canvas.current){const t=Gf(this.props)[0];this.confetti=new u1(this.canvas.current,t)}}componentDidUpdate(){const t=Gf(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,i]=Gf(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...i.style};return lt.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...i,style:r})}}Dd.defaultProps={...Cd};Dd.displayName="ReactConfetti";function Gf(s){const t={},i={},r={},o=[...Object.keys(Cd),"confettiSource","drawShape","onConfettiComplete","frameRate"],c=["canvasRef"];for(const d in s){const g=s[d];o.includes(d)?t[d]=g:c.includes(d)?c[d]=g:r[d]=g}return[t,r,i]}const h1=tc.forwardRef((s,t)=>lt.jsx(Dd,{canvasRef:t,...s})),f1=()=>{};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},d1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,j=_&63;y||(j=64,d||(D=64)),r.push(i[A],i[C],i[D],i[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(nv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):d1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const C=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||C==null)throw new m1;const D=c<<2|g>>4;if(r.push(D),_!==64){const j=g<<4&240|_>>2;if(r.push(j),C!==64){const X=_<<6&192|C;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class m1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g1=function(s){const t=nv(s);return iv.encodeByteArray(t,!0)},ec=function(s){return g1(s).replace(/\./g,"")},p1=function(s){try{return iv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=()=>y1().__FIREBASE_DEFAULTS__,v1=()=>{if(typeof process>"u"||typeof zy>"u")return;const s=zy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},E1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&p1(s[1]);return t&&JSON.parse(t)},Id=()=>{try{return f1()||_1()||v1()||E1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},T1=s=>{var t,i;return(i=(t=Id())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},A1=s=>{const t=T1(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},av=()=>{var s;return(s=Id())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[ec(JSON.stringify(i)),ec(JSON.stringify(d)),""].join(".")}const Xl={};function R1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?s.emulator.push(t):s.prod.push(t);return s}function C1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let ky=!1;function D1(s,t){if(typeof window>"u"||typeof document>"u"||!Vd(window.location.host)||Xl[s]===t||Xl[s]||ky)return;Xl[s]=t;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=R1().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,j){D.setAttribute("width","24"),D.setAttribute("id",j),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{ky=!0,d()},D}function A(D,j){D.setAttribute("id",j),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=C1(r),j=i("text"),X=document.getElementById(j)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),gt=i("preprendIcon"),at=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ht=D.element;g(ht),A($,tt);const Vt=_();y(at,gt),ht.append(at,X,$,Vt),document.body.appendChild(ht)}c?(X.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V1(){var s;const t=(s=Id())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function N1(){return!V1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sv(){try{return typeof indexedDB=="object"}catch{return!1}}function rv(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}function M1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FirebaseError";class Ma extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=x1,Object.setPrototypeOf(this,Ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?U1(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ma(o,g,r)}}function U1(s,t){return s.replace(P1,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const P1=/\{\$([^}]+)}/g;function eo(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=t[o];if(By(c)&&By(d)){if(!eo(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function By(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1e3,z1=2,k1=4*60*60*1e3,B1=.5;function jy(s,t=L1,i=z1){const r=t*Math.pow(i,s),o=Math.round(B1*r*(Math.random()-.5)*2);return Math.min(k1,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(s){return s&&s._delegate?s._delegate:s}class ki{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new S1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(H1(t))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=_s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_s){return this.instances.has(t)}getOptions(t=_s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=_s){return this.component?this.component.multipleInstances?t:_s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q1(s){return s===_s?void 0:s}function H1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new j1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const G1={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Q1=kt.INFO,Y1={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},K1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=Y1[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Od{constructor(t){this.name=t,this._logLevel=Q1,this._logHandler=K1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?G1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const X1=(s,t)=>t.some(i=>s instanceof i);let qy,Hy;function Z1(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $1(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lv=new WeakMap,id=new WeakMap,ov=new WeakMap,Qf=new WeakMap,Nd=new WeakMap;function J1(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(va(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&lv.set(i,s)}).catch(()=>{}),Nd.set(t,s),t}function W1(s){if(id.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});id.set(s,t)}let ad={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return id.get(s);if(t==="objectStoreNames")return s.objectStoreNames||ov.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return va(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function tA(s){ad=s(ad)}function eA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Yf(this),t,...i);return ov.set(r,t.sort?t.sort():[t]),va(r)}:$1().includes(s)?function(...t){return s.apply(Yf(this),t),va(lv.get(this))}:function(...t){return va(s.apply(Yf(this),t))}}function nA(s){return typeof s=="function"?eA(s):(s instanceof IDBTransaction&&W1(s),X1(s,Z1())?new Proxy(s,ad):s)}function va(s){if(s instanceof IDBRequest)return J1(s);if(Qf.has(s))return Qf.get(s);const t=nA(s);return t!==s&&(Qf.set(s,t),Nd.set(t,s)),t}const Yf=s=>Nd.get(s);function uv(s,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),g=va(d);return r&&d.addEventListener("upgradeneeded",y=>{r(va(d.result),y.oldVersion,y.newVersion,va(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const iA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],Kf=new Map;function Fy(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kf.get(t))return Kf.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=aA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Kf.set(t,c),c}tA(s=>({...s,get:(t,i,r)=>Fy(t,i)||s.get(t,i,r),has:(t,i)=>!!Fy(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function rA(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sd="@firebase/app",Gy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Od("@firebase/app"),lA="@firebase/app-compat",oA="@firebase/analytics-compat",uA="@firebase/analytics",cA="@firebase/app-check-compat",hA="@firebase/app-check",fA="@firebase/auth",dA="@firebase/auth-compat",mA="@firebase/database",gA="@firebase/data-connect",pA="@firebase/database-compat",yA="@firebase/functions",_A="@firebase/functions-compat",vA="@firebase/installations",EA="@firebase/installations-compat",TA="@firebase/messaging",AA="@firebase/messaging-compat",SA="@firebase/performance",bA="@firebase/performance-compat",wA="@firebase/remote-config",RA="@firebase/remote-config-compat",CA="@firebase/storage",DA="@firebase/storage-compat",IA="@firebase/firestore",VA="@firebase/ai",OA="@firebase/firestore-compat",NA="firebase",MA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]",xA={[sd]:"fire-core",[lA]:"fire-core-compat",[uA]:"fire-analytics",[oA]:"fire-analytics-compat",[hA]:"fire-app-check",[cA]:"fire-app-check-compat",[fA]:"fire-auth",[dA]:"fire-auth-compat",[mA]:"fire-rtdb",[gA]:"fire-data-connect",[pA]:"fire-rtdb-compat",[yA]:"fire-fn",[_A]:"fire-fn-compat",[vA]:"fire-iid",[EA]:"fire-iid-compat",[TA]:"fire-fcm",[AA]:"fire-fcm-compat",[SA]:"fire-perf",[bA]:"fire-perf-compat",[wA]:"fire-rc",[RA]:"fire-rc-compat",[CA]:"fire-gcs",[DA]:"fire-gcs-compat",[IA]:"fire-fst",[OA]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[NA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,UA=new Map,ld=new Map;function Qy(s,t){try{s.container.addComponent(t)}catch(i){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ba(s){const t=s.name;if(ld.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;ld.set(t,s);for(const i of nc.values())Qy(i,s);for(const i of UA.values())Qy(i,s);return!0}function uo(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function PA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new yc("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=MA;function cv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:rd,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw Ea.create("bad-app-name",{appName:String(o)});if(i||(i=av()),!i)throw Ea.create("no-options");const c=nc.get(o);if(c){if(eo(i,c.options)&&eo(r,c.config))return c;throw Ea.create("duplicate-app",{appName:o})}const d=new F1(o);for(const y of ld.values())d.addComponent(y);const g=new zA(i,r,d);return nc.set(o,g),g}function hv(s=rd){const t=nc.get(s);if(!t&&s===rd&&av())return cv();if(!t)throw Ea.create("no-app",{appName:s});return t}function ri(s,t,i){var r;let o=(r=xA[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}ba(new ki(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-heartbeat-database",jA=1,no="firebase-heartbeat-store";let Xf=null;function fv(){return Xf||(Xf=uv(BA,jA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ea.create("idb-open",{originalErrorMessage:s.message})})),Xf}async function qA(s){try{const i=(await fv()).transaction(no),r=await i.objectStore(no).get(dv(s));return await i.done,r}catch(t){if(t instanceof Ma)Bi.warn(t.message);else{const i=Ea.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(i.message)}}}async function Yy(s,t){try{const r=(await fv()).transaction(no,"readwrite");await r.objectStore(no).put(t,dv(s)),await r.done}catch(i){if(i instanceof Ma)Bi.warn(i.message);else{const r=Ea.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Bi.warn(r.message)}}}function dv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,FA=30;class GA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new YA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ky();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>FA){const d=KA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ky(),{heartbeatsToSend:r,unsentEntries:o}=QA(this._heartbeatsCache.heartbeats),c=ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Bi.warn(i),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function QA(s,t=HA){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Xy(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class YA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sv()?rv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Xy(s){return ec(JSON.stringify({version:2,heartbeats:s})).length}function KA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(s){ba(new ki("platform-logger",t=>new sA(t),"PRIVATE")),ba(new ki("heartbeat",t=>new GA(t),"PRIVATE")),ri(sd,Gy,s),ri(sd,Gy,"esm2017"),ri("fire-js","")}XA("");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,mv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(O,N,x){for(var R=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)R[pe-2]=arguments[pe];return S.prototype[N].apply(O,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)O[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)O[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],N=M.g[2];var x=M.g[3],R=S+(x^w&(N^x))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+O[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+O[2]+606105819&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+O[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+O[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+O[6]+2821735955&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+O[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+O[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+O[10]+4294925233&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+O[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+O[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+O[14]+2792965006&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+O[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^x&(w^N))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+O[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+O[11]+643717713&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+O[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+O[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+O[15]+3634488961&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+O[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+O[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+O[3]+4107603335&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+O[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+O[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+O[7]+1735328473&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+O[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^x)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+O[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+O[11]+1839030562&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+O[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+O[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+O[7]+4139469664&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+O[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+O[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+O[3]+3572445317&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+O[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+O[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+O[15]+530742520&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+O[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~x))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+O[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+O[14]+2878612391&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+O[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+O[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+O[10]+4293915773&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+O[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+O[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+O[6]+2734768916&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+O[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+O[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+O[2]+718787259&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+x&4294967295}r.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,O=this.B,N=this.h,x=0;x<S;){if(N==0)for(;x<=w;)o(this,M,x),x+=this.blockSize;if(typeof M=="string"){for(;x<S;)if(O[N++]=M.charCodeAt(x++),N==this.blockSize){o(this,O),N=0;break}}else for(;x<S;)if(O[N++]=M[x++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)M[w++]=this.g[S]>>>O&255;return M};function c(M,S){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function d(M,S){this.h=S;for(var w=[],O=!0,N=M.length-1;0<=N;N--){var x=M[N]|0;O&&x==S||(w[N]=x,O=!1)}this.g=w}var g={};function y(M){return-128<=M&&128>M?c(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return $(_(-M));for(var S=[],w=1,O=0;M>=w;O++)S[O]=M/w|0,w*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return $(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),O=C,N=0;N<M.length;N+=8){var x=Math.min(8,M.length-N),R=parseInt(M.substring(N,N+x),S);8>x?(x=_(Math.pow(S,x)),O=O.j(x).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var C=y(0),D=y(1),j=y(16777216);s=d.prototype,s.m=function(){if(tt(this))return-$(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);M+=(0<=O?O:4294967296+O)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(tt(this))return"-"+$(this).toString(M);for(var S=_(Math.pow(M,6)),w=this,O="";;){var N=Vt(w,S).g;w=gt(w,N.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=N,X(w))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function tt(M){return M.h==-1}s.l=function(M){return M=gt(this,M),tt(M)?-1:X(M)?0:1};function $(M){for(var S=M.g.length,w=[],O=0;O<S;O++)w[O]=~M.g[O];return new d(w,~M.h).add(D)}s.abs=function(){return tt(this)?$(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0,N=0;N<=S;N++){var x=O+(this.i(N)&65535)+(M.i(N)&65535),R=(x>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);O=R>>>16,x&=65535,R&=65535,w[N]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function gt(M,S){return M.add($(S))}s.j=function(M){if(X(this)||X(M))return C;if(tt(this))return tt(M)?$(this).j($(M)):$($(this).j(M));if(tt(M))return $(this.j($(M)));if(0>this.l(j)&&0>M.l(j))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<M.g.length;N++){var x=this.i(O)>>>16,R=this.i(O)&65535,pe=M.i(N)>>>16,ne=M.i(N)&65535;w[2*O+2*N]+=R*ne,at(w,2*O+2*N),w[2*O+2*N+1]+=x*ne,at(w,2*O+2*N+1),w[2*O+2*N+1]+=R*pe,at(w,2*O+2*N+1),w[2*O+2*N+2]+=x*pe,at(w,2*O+2*N+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function at(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ht(M,S){this.g=M,this.h=S}function Vt(M,S){if(X(S))throw Error("division by zero");if(X(M))return new ht(C,C);if(tt(M))return S=Vt($(M),S),new ht($(S.g),$(S.h));if(tt(S))return S=Vt(M,$(S)),new ht($(S.g),S.h);if(30<M.g.length){if(tt(M)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,O=S;0>=O.l(M);)w=Tt(w),O=Tt(O);var N=xt(w,1),x=xt(O,1);for(O=xt(O,2),w=xt(w,2);!X(O);){var R=x.add(O);0>=R.l(M)&&(N=N.add(w),x=R),O=xt(O,1),w=xt(w,1)}return S=gt(M,N.j(S)),new ht(N,S)}for(N=C;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),x=_(w),R=x.j(S);tt(R)||0<R.l(M);)w-=O,x=_(w),R=x.j(S);X(x)&&(x=D),N=N.add(x),M=gt(M,R)}return new ht(N,M)}s.A=function(M){return Vt(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&M.i(O);return new d(w,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|M.i(O);return new d(w,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^M.i(O);return new d(w,this.h^M.h)};function Tt(M){for(var S=M.g.length+1,w=[],O=0;O<S;O++)w[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(w,M.h)}function xt(M,S){var w=S>>5;S%=32;for(var O=M.g.length-w,N=[],x=0;x<O;x++)N[x]=0<S?M.i(x+w)>>>S|M.i(x+w+1)<<32-S:M.i(x+w);return new d(N,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ta=d}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gv,Gl,pv,Ku,od,yv,_v,vv;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var p=0,T=!1,P={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,D.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,P,q){for(var et=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)et[Ut-2]=arguments[Ut];return m.prototype[P].apply(T,et)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const P=u.length||0,q=T.length||0;u.length=P+q;for(let et=0;et<q;et++)u[P+et]=T[et]}else u.push(T)}}class gt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var Tt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function xt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,p){const T=ne.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new gt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ct=!1,jt=new pe,I=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){x(p)}var m=ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function wt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{Vt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}X(wt,J);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),ot=0;function Ht(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++ot,this.da=this.fa=!1}function At(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u){this.src=u,this.g={},this.h=0}Ge.prototype.add=function(u,m,p,T,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Pa(u,m,T,P);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new Ht(m,this.src,q,!!T,P),m.fa=p,u.push(m)),m};function Un(u,m){var p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(T,P,1),q&&(At(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Pa(u,m,p,T){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return P}return-1}var La="closure_lm_"+(1e6*Math.random()|0),Ur={};function _o(u,m,p,T,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)_o(u,m[q],p,T,P);return null}return p=vo(p),u&&u[W]?u.K(m,p,_(T)?!!T.capture:!1,P):Tn(u,m,p,!1,T,P)}function Tn(u,m,p,T,P,q){if(!m)throw Error("Invalid event type");var et=_(P)?!!P.capture:!!P,Ut=Ds(u);if(Ut||(u[La]=Ut=new Ge(u)),p=Ut.add(m,p,T,et,q),p.proxy)return p;if(T=Lc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)dt||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(za(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Lc(){function u(p){return m.call(u.src,u.listener,p)}const m=zc;return u}function Pr(u,m,p,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Pr(u,m[q],p,T,P);else T=_(T)?!!T.capture:!!T,p=vo(p),u&&u[W]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Pa(q,p,T,P),-1<p&&(At(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ds(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pa(m,p,T,P)),(p=-1<u?m[u]:null)&&Cs(p))}function Cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[W])Un(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(za(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ds(m))?(Un(p,u),p.h==0&&(p.src=null,m[La]=null)):At(u)}}}function za(u){return u in Ur?Ur[u]:Ur[u]="on"+u}function zc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Cs(u),u=p.call(T,m)}return u}function Ds(u){return u=u[La],u instanceof Ge?u:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(u){return typeof u=="function"?u:(u[Lr]||(u[Lr]=function(m){return u.handleEvent(m)}),u[Lr])}function ue(){it.call(this),this.i=new Ge(this),this.M=this,this.F=null}X(ue,it),ue.prototype[W]=!0,ue.prototype.removeEventListener=function(u,m,p,T){Pr(this,u,m,p,T)};function Yt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var P=m;m=new J(T,u),O(m,P)}if(P=!0,p)for(var q=p.length-1;0<=q;q--){var et=m.g=p[q];P=un(et,T,!0,m)&&P}if(et=m.g=u,P=un(et,T,!0,m)&&P,P=un(et,T,!1,m)&&P,p)for(q=0;q<p.length;q++)et=m.g=p[q],P=un(et,T,!1,m)&&P}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)At(p[T]);delete u.g[m],u.h--}}this.F=null},ue.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ue.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function un(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==p){var Ut=et.listener,be=et.ha||et.src;et.fa&&Un(u.i,et),P=Ut.call(be,T)!==!1&&P}}return P&&!T.defaultPrevented}function Qe(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Eo(u){u.g=Qe(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){it.call(this),this.h=u,this.g={}}X(ka,it);var Ba=[];function ja(u){xt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Cs(m)},u),u.g={}}ka.prototype.N=function(){ka.aa.N.call(this),ja(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=g.JSON.stringify,Is=g.JSON.parse,qa=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function zr(){}zr.prototype.h=null;function kr(u){return u.h||(u.h=u.i())}function Br(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){J.call(this,"d")}X(gi,J);function jr(){J.call(this,"c")}X(jr,J);var Hn={},qr=null;function Hi(){return qr=qr||new ue}Hn.La="serverreachability";function Vs(u){J.call(this,Hn.La,u)}X(Vs,J);function Fi(u){const m=Hi();Yt(m,new Vs(m))}Hn.STAT_EVENT="statevent";function To(u,m){J.call(this,Hn.STAT_EVENT,u),this.stat=m}X(To,J);function se(u){const m=Hi();Yt(m,new To(m,u))}Hn.Ma="timingevent";function Se(u,m){J.call(this,Hn.Ma,u),this.size=m}X(Se,J);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Hr(u,m,p,T,P,q){u.info(function(){if(u.g)if(q)for(var et="",Ut=q.split("&"),be=0;be<Ut.length;be++){var Pt=Ut[be].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var we=Ne.split("_");et=2<=we.length&&we[1]=="type"?et+(Ne+"="+Pt+"&"):et+(Ne+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+et})}function Bc(u,m,p,T,P,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+q+" "+et})}function Gi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ha(u,p)+(T?" "+T:"")})}function Ao(u,m){u.info(function(){return"TIMEOUT: "+m})}An.prototype.info=function(){};function Ha(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<P.length;et++)P[et]=""}}}}return Pn(p)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Gn(){}X(Gn,zr),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Fn=new Gn;function Je(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Fr={},Os={};function Ln(u,m,p){u.L=1,u.v=Ka(cn(m)),u.m=p,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Fa(u),u.A=cn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Zr(p.i,"t",T),u.C=0,p=u.j.J,u.h=new fe,u.g=zo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new kc(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ba[0]=P.toString()),P=Ba);for(var q=0;q<P.length;q++){var et=_o(p,P[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),Hr(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&Rn(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const we=Rn(this.g);var m=this.g.Ba();const wi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||Vo(this.g)))){this.J||we!=4||m==7||(m==8||0>=wi?Fi(3):Fi(2)),Yi(this);var p=this.g.Z();this.X=p;e:if(So(this)){var T=Vo(this.g);u="";var P=T.length,q=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Qn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,Bc(this.i,this.u,this.A,this.l,this.R,we,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,be=this.g;if((Ut=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Ut)){var Pt=Ut;break e}}Pt=null}if(p=Pt)Gi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ga(this,p);else{this.o=!1,this.s=3,se(12),Le(this),Qn(this);break t}}if(this.P){p=!0;let ze;for(;!this.J&&this.C<et.length;)if(ze=bo(this,et),ze==Os){we==4&&(this.s=4,se(14),p=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==Fr){this.s=4,se(15),Gi(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else Gi(this.i,this.l,ze,null),Ga(this,ze);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||et.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)Gi(this.i,this.l,et,"[Invalid Chunked Response]"),Le(this),Qn(this);else if(0<et.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),ns(Ne),Ne.M=!0,se(11))}}else Gi(this.i,this.l,et,null),Ga(this,et);we==4&&Le(this),this.o&&!this.J&&(we==4?Uo(this.j,this):(this.o=!1,Fa(this)))}else Gc(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Le(this),Qn(this)}}}catch{}finally{}};function So(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Os:(p=Number(m.substring(p,T)),isNaN(p)?Fr:(T+=1,T+p>m.length?Os:(m=m.slice(T,T+p),u.C=T+p,m)))}Je.prototype.cancel=function(){this.J=!0,Le(this)};function Fa(u){u.S=Date.now()+u.I,wo(u,u.I)}function wo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(D(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ao(this.i,this.A),this.L!=2&&(Fi(),se(17)),Le(this),this.s=2,Qn(this)):wo(this,this.S-u)};function Qn(u){u.j.G==0||u.J||Uo(u.j,u)}function Le(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ja(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ga(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Gr(p.h,u))){if(!u.K&&Gr(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Hs(p),js(p);else break t;el(p),se(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=ye(D(p.Za,p),6e3));if(1>=Ms(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else bi(p,11)}else if((u.K||p.g==u)&&Hs(p),!at(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let Pt=P[m];if(p.T=Pt[0],Pt=Pt[1],p.G==2)if(Pt[0]=="c"){p.K=Pt[1],p.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const we=Pt[4];we!=null&&(p.Aa=we,p.j.info("SVER="+p.Aa));const wi=Pt[5];wi!=null&&typeof wi=="number"&&0<wi&&(T=1.5*wi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const ze=u.g;if(ze){const Wn=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var q=T.h;q.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xs(q,q.h),q.h=null))}if(T.D){const il=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(T.ya=il,Zt(T.I,T.D,il))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=Lo(T,T.J?T.ia:null,T.W),et.K){We(T.h,et);var Ut=et,be=T.L;be&&(Ut.I=be),Ut.B&&(Yi(Ut),Fa(Ut)),T.g=et}else Mo(T);0<p.i.length&&qs(p)}else Pt[0]!="stop"&&Pt[0]!="close"||bi(p,7);else p.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?bi(p,7):Wr(p):Pt[0]!="noop"&&p.l&&p.l.ta(Pt),p.v=0)}}Fi(4)}catch{}}var Ro=class{constructor(u,m){this.g=u,this.map=m}};function _i(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ns(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ms(u){return u.h?1:u.g?u.g.size:0}function Gr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xs(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_i.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qr(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Us(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Yr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Us(u),T=jc(u),P=T.length,q=0;q<P;q++)m.call(void 0,T[q],p&&p[q],u)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),P=null;if(0<=T){var q=u[p].substring(0,T);P=u[p].substring(T+1)}else q=u[p];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function _e(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _e){this.h=u.h,Ya(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,p=new Ei;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),vi(this,p),this.m=u.m}else u&&(m=String(u).match(Qa))?(this.h=!1,Ya(this,m[1]||"",!0),this.o=Sn(m[2]||""),this.g=Sn(m[3]||"",!0),Ki(this,m[4]),this.l=Sn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=Sn(m[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}_e.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xa(m,Kr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xa(m,Kr,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Xa(p,p.charAt(0)=="/"?Hc:Xr,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Xa(p,Ps)),u.join("")};function cn(u){return new _e(u)}function Ya(u,m,p){u.j=p?Sn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,p){m instanceof Ei?(u.i=m,Do(u.i,u.h)):(p||(m=Xa(m,Fc)),u.i=new Ei(m,u.h))}function Zt(u,m,p){u.i.set(m,p)}function Ka(u){return Zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Sn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Co),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Co(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Kr=/[#\/\?@]/g,Xr=/[#\?:]/g,Hc=/[#\?]/g,Fc=/[#\?@]/g,Ps=/#/g;function Ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&qc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Ei.prototype,s.add=function(u,m){bn(this),this.i=null,u=Yn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ti(u,m){bn(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ai(u,m){return bn(u),m=Yn(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)},s.na=function(){bn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const P=u[T];for(let q=0;q<P.length;q++)p.push(m[T])}return p},s.V=function(u){bn(this);let m=[];if(typeof u=="string")Ai(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return bn(this),this.i=null,u=Yn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Zr(u,m,p){Ti(u,m),0<p.length&&(u.i=null,u.g.set(Yn(u,m),tt(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var P=q;et[T]!==""&&(P+="="+encodeURIComponent(String(et[T]))),u.push(P)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Do(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(p,T){var P=T.toLowerCase();T!=P&&(Ti(this,T),Zr(this,P,p))},u)),u.j=m}function Za(u,m){const p=new An;if(g.Image){const T=new Image;T.onload=j(wn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(wn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(wn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(wn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function zn(u,m){const p=new An,T=new AbortController,P=setTimeout(()=>{T.abort(),wn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?wn(p,"TestPingServer: ok",!0,m):wn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),wn(p,"TestPingServer: error",!1,m)})}function wn(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function $a(){this.g=new qa}function Kn(u,m,p){const T=p||"";try{Yr(u,function(P,q){let et=P;_(P)&&(et=Pn(P)),m.push(T+q+"="+encodeURIComponent(et))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Xi,zr),Xi.prototype.g=function(){return new Si(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function Si(u,m){ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Si,ue),s=Si.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$r(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $r(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xn(this):Zn(this),this.readyState==3&&$r(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},s.Qa=function(u){this.g&&(this.response=u,Xn(this))},s.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jr(u){let m="";return xt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Oe(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Jr(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Zt(u,m,p))}function Gt(u){ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Gt,ue);var Ls=/^https?$/i,Ja=["POST","PUT"];s=Gt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?kr(this.o):kr(Fn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Io(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ja,m,void 0))||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Io(this,q)}};function Io(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zs(u),$n(u)}function zs(u){u.A||(u.A=!0,Yt(u,"complete"),Yt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Yt(this,"complete"),Yt(this,"abort"),$n(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Gt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ks(this):this.bb())},s.bb=function(){ks(this)};function ks(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Rn(u)!=4||u.Z()!=2)){if(u.u&&Rn(u)==4)Qe(u.Ea,0,u);else if(Yt(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var P=String(u.D).match(Qa)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Ls.test(P?P.toLowerCase():"")}p=T}if(p)Yt(u,"complete"),Yt(u,"success");else{u.m=6;try{var q=2<Rn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",zs(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){Wa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Yt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Wa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Is(m)}};function Vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gc(u){const m={};u=(u.g&&2<=Rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(at(u[T]))continue;var p=N(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[P]||[];m[P]=q,q.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Bs(u){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,u),this.cb=ts("retryDelaySeedMs",1e4,u),this.Wa=ts("forwardChannelMaxRetries",2,u),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(u&&u.concurrentRequestLimit),this.Da=new $a,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Bs.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){se(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Lo(this,null,this.W),qs(this)};function Wr(u){if(Oo(u),u.G==3){var m=u.U++,p=cn(u.I);if(Zt(p,"SID",u.K),Zt(p,"RID",m),Zt(p,"TYPE","terminate"),es(u,p),m=new Je(u,u.j,m),m.L=2,m.v=Ka(cn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=zo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fa(m)}Po(u)}function js(u){u.g&&(ns(u),u.g.cancel(),u.g=null)}function Oo(u){js(u),u.u&&(g.clearTimeout(u.u),u.u=null),Hs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function qs(u){if(!Ns(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||I(),ct||(nt(),ct=!0),jt.add(m,u),u.B=0}}function Qc(u,m){return Ms(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(D(u.Ga,u,m),nl(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Je(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=No(this,P,m),p=cn(this.I),Zt(p,"RID",u),Zt(p,"CVER",22),this.D&&Zt(p,"X-HTTP-Session-Id",this.D),es(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Jr(q)))+"&"+m:this.m&&Oe(p,this.m,q)),xs(this.h,P),this.Ua&&Zt(p,"TYPE","init"),this.P?(Zt(p,"$req",m),Zt(p,"SID","null"),P.T=!0,Ln(P,p,null)):Ln(P,p,m),this.G=2}}else this.G==3&&(u?tl(this,u):this.i.length==0||Ns(this.h)||tl(this))};function tl(u,m){var p;m?p=m.l:p=u.U++;const T=cn(u.I);Zt(T,"SID",u.K),Zt(T,"RID",p),Zt(T,"AID",u.T),es(u,T),u.m&&u.o&&Oe(T,u.m,u.o),p=new Je(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=No(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xs(u.h,p),Ln(p,T,m)}function es(u,m){u.H&&xt(u.H,function(p,T){Zt(m,T,p)}),u.l&&Yr({},function(p,T){Zt(m,T,p)})}function No(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const et=["count="+p];q==-1?0<p?(q=P[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Ut=!0;for(let be=0;be<p;be++){let Pt=P[be].g;const Ne=P[be].map;if(Pt-=q,0>Pt)q=Math.max(0,P[be].g-100),Ut=!1;else try{Kn(Ne,et,"req"+Pt+"_")}catch{T&&T(Ne)}}if(Ut){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||I(),ct||(nt(),ct=!0),jt.add(m,u),u.v=0}}function el(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(D(u.Fa,u),nl(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(D(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),js(this),xo(this))};function ns(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);Zt(m,"RID","rpc"),Zt(m,"SID",u.K),Zt(m,"AID",u.T),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Zt(m,"TO",u.ja),Zt(m,"TYPE","xmlhttp"),es(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ka(cn(m)),p.m=null,p.P=!0,yi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,js(this),el(this),se(19))};function Hs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Uo(u,m){var p=null;if(u.g==m){Hs(u),ns(u),u.g=null;var T=2}else if(Gr(u.h,m))p=m.D,We(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=Hi(),Yt(T,new Se(T,p)),qs(u)}else Mo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Qc(u,m)||T==2&&el(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function nl(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const P=!T;T=new _e(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ya(T,"https"),Ka(T),P?Za(T.toString(),p):zn(T.toString(),p)}else se(2);u.G=0,u.l&&u.l.sa(m),Po(u),Oo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Po(u){if(u.G=0,u.ka=[],u.l){const m=Qr(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function Lo(u,m,p){var T=p instanceof _e?cn(p):new _e(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ki(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new _e(null);T&&Ya(q,T),m&&(q.g=m),P&&Ki(q,P),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Zt(T,p,m),Zt(T,"VER",u.la),es(u,T),T}function zo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Gt(new Xi({eb:p})):new Gt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}s=ko.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Fs(){}Fs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ue.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!at(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}X(tn,ue),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Wr(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Pn(u),u=p);m.i.push(new Ro(m.Ya++,u)),m.G==3&&qs(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Wr(this.g),delete this.g,tn.aa.N.call(this)};function Bo(u){gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(Bo,gi);function jo(){jr.call(this),this.status=1}X(jo,jr);function Jn(u){this.g=u}X(Jn,ko),Jn.prototype.ua=function(){Yt(this.g,"a")},Jn.prototype.ta=function(u){Yt(this.g,new Bo(u))},Jn.prototype.sa=function(u){Yt(this.g,new jo)},Jn.prototype.ra=function(){Yt(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,vv=function(){return new Fs},_v=function(){return Hi()},yv=Hn,od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Ku=Qi,pi.COMPLETE="complete",pv=pi,Br.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Gl=Br,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,gv=Gt}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore",Jy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ze=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Or="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Od("@firebase/firestore");function vr(){return Ts.logLevel}function st(s,...t){if(Ts.logLevel<=kt.DEBUG){const i=t.map(Md);Ts.debug(`Firestore (${Or}): ${s}`,...i)}}function ji(s,...t){if(Ts.logLevel<=kt.ERROR){const i=t.map(Md);Ts.error(`Firestore (${Or}): ${s}`,...i)}}function wa(s,...t){if(Ts.logLevel<=kt.WARN){const i=t.map(Md);Ts.warn(`Firestore (${Or}): ${s}`,...i)}}function Md(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,Ev(s,r,i)}function Ev(s,t,i){let r=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ji(r),new Error(r)}function Qt(s,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||Ev(t,o,r)}function bt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ma{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class $A{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class JA{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Aa,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Aa)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new Tv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class WA{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tS{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new WA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const r=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Wy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=nS(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=t.charAt(o[c]%62))}return r}}function Dt(s,t){return s<t?-1:s>t?1:0}function ud(s,t){let i=0;for(;i<s.length&&i<t.length;){const r=s.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return Dt(r,o);{const c=Av(),d=iS(c.encode(t_(s,i)),c.encode(t_(t,i)));return d!==0?d:Dt(r,o)}}i+=r>65535?2:1}return Dt(s.length,t.length)}function t_(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function iS(s,t){for(let i=0;i<s.length&&i<t.length;++i)if(s[i]!==t[i])return Dt(s[i],t[i]);return Dt(s.length,t.length)}function Rr(s,t,i){return s.length===t.length&&s.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class si{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof si?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const c=si.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const r=si.isNumericId(t),o=si.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?si.extractNumericId(t).compare(si.extractNumericId(i)):ud(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ta.fromString(t.substring(4,t.length-2))}}class ie extends si{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const aS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends si{construct(t,i,r){return new He(t,i,r)}static isValidIdentifier(t){return aS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new He([e_])}static fromServerFormat(t){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ie.fromString(t))}static fromName(t){return new mt(ie.fromString(t).popFirst(5))}static empty(){return new mt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(s,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function sS(s,t,i,r){if(t===!0&&r===!0)throw new ut(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function n_(s){if(!mt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i_(s){if(mt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function bv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ud(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Ra(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ud(s);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s,t){const i={typeString:s};return t&&(i.value=t),i}function co(s,t){if(!bv(s))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=-62135596800,s_=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*s_);return new ae(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<a_)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(co(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-a_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ae("string",ae._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ae(0,0))}static max(){return new St(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function rS(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new Ca(o,mt.empty(),t)}function lS(s){return new Ca(s.readTime,s.key,io)}class Ca{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ca(St.min(),mt.empty(),io)}static max(){return new Ca(St.max(),mt.empty(),io)}}function oS(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:Dt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nr(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==uS)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Y.reject(i)}static resolve(t){return new Y((i,r)=>{i(t)})}static reject(t){return new Y((i,r)=>{r(t)})}static waitFor(t){return new Y((i,r)=>{let o=0,c=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>r(y))}),d=!0,c===o&&i()})}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next(o=>o?Y.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,c)=>{r.push(i.call(this,o,c))}),this.waitFor(r)}static mapArray(t,i){return new Y((r,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next(A=>{d[_]=A,++g,g===c&&r(d)},A=>o(A))}})}static doWhile(t,i){return new Y((r,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):r()};c()})}}function hS(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Mr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}_c.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function vc(s){return s==null}function ic(s){return s===0&&1/s==-1/0}function fS(s){return typeof s=="number"&&Number.isInteger(s)&&!ic(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="";function dS(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=r_(t)),t=mS(s.get(i),t);return r_(t)}function mS(s,t){let i=t;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case wv:i+="";break;default:i+=c}}return i}function r_(s){return s+wv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function xa(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Rv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hu(this.root,t,this.comparator,!0)}}class Hu{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??qe.RED,this.left=o??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,c){return new qe(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,o,c){return this}insert(t,i,r){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(t){return new o_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class o_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new vn([])}unionWith(t){let i=new Ve(He.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Rr(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cv("Invalid base64 string: "+c):c}}(t);return new Fe(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const gS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(s){if(Qt(!!s,39018),typeof s=="string"){let t=0;const i=gS.exec(s);if(Qt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ia(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="server_timestamp",Iv="__type__",Vv="__previous_value__",Ov="__local_write_time__";function Ld(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[Iv])===null||i===void 0?void 0:i.stringValue)===Dv}function Ec(s){const t=s.mapValue.fields[Vv];return Ld(t)?Ec(t):t}function ao(s){const t=Da(s.mapValue.fields[Ov].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,i,r,o,c,d,g,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const ac="(default)";class so{constructor(t,i){this.projectId=t,this.database=i||ac}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===ac}isEqual(t){return t instanceof so&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__type__",yS="__max__",Fu={mapValue:{}},Mv="__vector__",sc="value";function Va(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ld(s)?4:vS(s)?9007199254740991:_S(s)?10:11:_t(28295,{value:s})}function fi(s,t){if(s===t)return!0;const i=Va(s);if(i!==Va(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ao(s).isEqual(ao(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Da(o.timestampValue),g=Da(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(o,c){return Ia(o.bytesValue).isEqual(Ia(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)}(s,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),g=ge(c.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return Rr(s.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(l_(d)!==l_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!fi(d[y],g[y])))return!1;return!0}(s,t);default:return _t(52216,{left:s})}}function ro(s,t){return(s.values||[]).find(i=>fi(i,t))!==void 0}function Cr(s,t){if(s===t)return 0;const i=Va(s),r=Va(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(s,t);case 3:return u_(s.timestampValue,t.timestampValue);case 4:return u_(ao(s),ao(t));case 5:return ud(s.stringValue,t.stringValue);case 6:return function(c,d){const g=Ia(c),y=Ia(d);return g.compareTo(y)}(s.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Dt(g[_],y[_]);if(A!==0)return A}return Dt(g.length,y.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Dt(ge(c.latitude),ge(d.latitude));return g!==0?g:Dt(ge(c.longitude),ge(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return c_(s.arrayValue,t.arrayValue);case 10:return function(c,d){var g,y,_,A;const C=c.fields||{},D=d.fields||{},j=(g=C[sc])===null||g===void 0?void 0:g.arrayValue,X=(y=D[sc])===null||y===void 0?void 0:y.arrayValue,tt=Dt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:c_(j,X)}(s.mapValue,t.mapValue);case 11:return function(c,d){if(c===Fu.mapValue&&d===Fu.mapValue)return 0;if(c===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let C=0;C<y.length&&C<A.length;++C){const D=ud(y[C],A[C]);if(D!==0)return D;const j=Cr(g[y[C]],_[A[C]]);if(j!==0)return j}return Dt(y.length,A.length)}(s.mapValue,t.mapValue);default:throw _t(23264,{le:i})}}function u_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Dt(s,t);const i=Da(s),r=Da(t),o=Dt(i.seconds,r.seconds);return o!==0?o:Dt(i.nanos,r.nanos)}function c_(s,t){const i=s.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Cr(i[o],r[o]);if(c)return c}return Dt(i.length,r.length)}function Dr(s){return cd(s)}function cd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=Da(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ia(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return mt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=cd(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${cd(i.fields[d])}`;return o+"}"}(s.mapValue):_t(61005,{value:s})}function Xu(s){switch(Va(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ec(s);return t?16+Xu(t):16;case 5:return 2*s.stringValue.length;case 6:return Ia(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+Xu(c),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return xa(r.fields,(c,d)=>{o+=c.length+Xu(d)}),o}(s.mapValue);default:throw _t(13486,{value:s})}}function hd(s){return!!s&&"integerValue"in s}function zd(s){return!!s&&"arrayValue"in s}function h_(s){return!!s&&"nullValue"in s}function f_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zu(s){return!!s&&"mapValue"in s}function _S(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nv])===null||i===void 0?void 0:i.stringValue)===Mv}function Zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return xa(s.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Zl(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zl(s.arrayValue.values[i]);return t}return Object.assign({},s)}function vS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Zu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(i)}setAll(t){let i=He.emptyPath(),r={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Zl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(t){const i=this.field(t.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){xa(i,(o,c)=>t[o]=c);for(const o of r)delete t[o]}clone(){return new ln(Zl(this.value))}}function xv(s){const t=[];return xa(s.fields,(i,r)=>{const o=new He([i]);if(Zu(r)){const c=xv(r.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,r,o,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,St.min(),St.min(),St.min(),ln.empty(),0)}static newFoundDocument(t,i,r,o){return new $e(t,1,i,St.min(),r,o,0)}static newNoDocument(t,i){return new $e(t,2,i,St.min(),St.min(),ln.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,St.min(),St.min(),ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,i){this.position=t,this.inclusive=i}}function d_(s,t,i){let r=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),i.key):r=Cr(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function m_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!fi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,i="asc"){this.field=t,this.dir=i}}function ES(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{}class De extends Uv{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new AS(t,i,r):i==="array-contains"?new wS(t,r):i==="in"?new RS(t,r):i==="not-in"?new CS(t,r):i==="array-contains-any"?new DS(t,r):new De(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new SS(t,r):new bS(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cr(i,this.value)):i!==null&&Va(this.value)===Va(i)&&this.matchesComparison(Cr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends Uv{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new di(t,i)}matches(t){return Pv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Pv(s){return s.op==="and"}function Lv(s){return TS(s)&&Pv(s)}function TS(s){for(const t of s.filters)if(t instanceof di)return!1;return!0}function fd(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+Dr(s.value);if(Lv(s))return s.filters.map(t=>fd(t)).join(",");{const t=s.filters.map(i=>fd(i)).join(",");return`${s.op}(${t})`}}function zv(s,t){return s instanceof De?function(r,o){return o instanceof De&&r.op===o.op&&r.field.isEqual(o.field)&&fi(r.value,o.value)}(s,t):s instanceof di?function(r,o){return o instanceof di&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,d,g)=>c&&zv(d,o.filters[g]),!0):!1}(s,t):void _t(19439)}function kv(s){return s instanceof De?function(i){return`${i.field.canonicalString()} ${i.op} ${Dr(i.value)}`}(s):s instanceof di?function(i){return i.op.toString()+" {"+i.getFilters().map(kv).join(" ,")+"}"}(s):"Filter"}class AS extends De{constructor(t,i,r){super(t,i,r),this.key=mt.fromName(r.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class SS extends De{constructor(t,i){super(t,"in",i),this.keys=Bv("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class bS extends De{constructor(t,i){super(t,"not-in",i),this.keys=Bv("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Bv(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>mt.fromName(r.referenceValue))}class wS extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zd(i)&&ro(i.arrayValue,this.value)}}class RS extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class CS extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ro(this.value.arrayValue,i)}}class DS extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>ro(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,i=null,r=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function g_(s,t=null,i=[],r=[],o=null,c=null,d=null){return new IS(s,t,i,r,o,c,d)}function kd(s){const t=bt(s);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>fd(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),vc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Dr(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Dr(r)).join(",")),t.Pe=i}return t.Pe}function Bd(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ES(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!zv(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!m_(s.startAt,t.startAt)&&m_(s.endAt,t.endAt)}function dd(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i=null,r=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function VS(s,t,i,r,o,c,d,g){return new Tc(s,t,i,r,o,c,d,g)}function jv(s){return new Tc(s)}function p_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function OS(s){return s.collectionGroup!==null}function $l(s){const t=bt(s);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(He.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new lc(c,r))}),i.has(He.keyField().canonicalString())||t.Te.push(new lc(He.keyField(),r))}return t.Te}function li(s){const t=bt(s);return t.Ie||(t.Ie=NS(t,$l(s))),t.Ie}function NS(s,t){if(s.limitType==="F")return g_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new lc(o.field,c)});const i=s.endAt?new rc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new rc(s.startAt.position,s.startAt.inclusive):null;return g_(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function md(s,t,i){return new Tc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ac(s,t){return Bd(li(s),li(t))&&s.limitType===t.limitType}function qv(s){return`${kd(li(s))}|lt:${s.limitType}`}function Er(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>kv(o)).join(", ")}]`),vc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>Dr(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>Dr(o)).join(",")),`Target(${r})`}(li(s))}; limitType=${s.limitType})`}function Sc(s,t){return t.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):mt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,t)&&function(r,o){for(const c of $l(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,t)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(s,t)&&function(r,o){return!(r.startAt&&!function(d,g,y){const _=d_(d,g,y);return d.inclusive?_<=0:_<0}(r.startAt,$l(r),o)||r.endAt&&!function(d,g,y){const _=d_(d,g,y);return d.inclusive?_>=0:_>0}(r.endAt,$l(r),o))}(s,t)}function MS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Hv(s){return(t,i)=>{let r=!1;for(const o of $l(s)){const c=xS(o,t,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function xS(s,t,i){const r=s.field.isKeyField()?mt.comparator(t.key,i.key):function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Cr(y,_):_t(42886)}(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){xa(this.inner,(i,r)=>{for(const[o,c]of r)t(o,c)})}isEmpty(){return Rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new oe(mt.comparator);function qi(){return US}const Fv=new oe(mt.comparator);function Ql(...s){let t=Fv;for(const i of s)t=t.insert(i.key,i);return t}function Gv(s){let t=Fv;return s.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function vs(){return Jl()}function Qv(){return Jl()}function Jl(){return new ws(s=>s.toString(),(s,t)=>s.isEqual(t))}const PS=new oe(mt.comparator),LS=new Ve(mt.comparator);function Mt(...s){let t=LS;for(const i of s)t=t.add(i);return t}const zS=new Ve(Dt);function kS(){return zS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(t)?"-0":t}}function Yv(s){return{integerValue:""+s}}function BS(s,t){return fS(t)?Yv(t):jd(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function jS(s,t,i){return s instanceof oc?function(o,c){const d={fields:{[Iv]:{stringValue:Dv},[Ov]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ld(c)&&(c=Ec(c)),c&&(d.fields[Vv]=c),{mapValue:d}}(i,t):s instanceof lo?Xv(s,t):s instanceof oo?Zv(s,t):function(o,c){const d=Kv(o,c),g=y_(d)+y_(o.Ee);return hd(d)&&hd(o.Ee)?Yv(g):jd(o.serializer,g)}(s,t)}function qS(s,t,i){return s instanceof lo?Xv(s,t):s instanceof oo?Zv(s,t):i}function Kv(s,t){return s instanceof uc?function(r){return hd(r)||function(c){return!!c&&"doubleValue"in c}(r)}(t)?t:{integerValue:0}:null}class oc extends bc{}class lo extends bc{constructor(t){super(),this.elements=t}}function Xv(s,t){const i=$v(t);for(const r of s.elements)i.some(o=>fi(o,r))||i.push(r);return{arrayValue:{values:i}}}class oo extends bc{constructor(t){super(),this.elements=t}}function Zv(s,t){let i=$v(t);for(const r of s.elements)i=i.filter(o=>!fi(o,r));return{arrayValue:{values:i}}}class uc extends bc{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function y_(s){return ge(s.integerValue||s.doubleValue)}function $v(s){return zd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function HS(s,t){return s.field.isEqual(t.field)&&function(r,o){return r instanceof lo&&o instanceof lo||r instanceof oo&&o instanceof oo?Rr(r.elements,o.elements,fi):r instanceof uc&&o instanceof uc?fi(r.Ee,o.Ee):r instanceof oc&&o instanceof oc}(s.transform,t.transform)}class FS{constructor(t,i){this.version=t,this.transformResults=i}}class qn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new qn}static exists(t){return new qn(void 0,t)}static updateTime(t){return new qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $u(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class wc{}function Jv(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new qd(s.key,qn.none()):new ho(s.key,s.data,qn.none());{const i=s.data,r=ln.empty();let o=new Ve(He.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Ua(s.key,r,new vn(o.toArray()),qn.none())}}function GS(s,t,i){s instanceof ho?function(o,c,d){const g=o.value.clone(),y=v_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,i):s instanceof Ua?function(o,c,d){if(!$u(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=v_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Wv(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function Wl(s,t,i,r){return s instanceof ho?function(c,d,g,y){if(!$u(c.precondition,d))return g;const _=c.value.clone(),A=E_(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,t,i,r):s instanceof Ua?function(c,d,g,y){if(!$u(c.precondition,d))return g;const _=E_(c.fieldTransforms,y,d),A=d.data;return A.setAll(Wv(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(s,t,i,r):function(c,d,g){return $u(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,i)}function QS(s,t){let i=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),c=Kv(r.transform,o||null);c!=null&&(i===null&&(i=ln.empty()),i.set(r.field,c))}return i||null}function __(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Rr(r,o,(c,d)=>HS(c,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ho extends wc{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ua extends wc{constructor(t,i,r,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Wv(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}}),t}function v_(s,t,i){const r=new Map;Qt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=t.data.field(c.field);r.set(c.field,qS(d,g,i[o]))}return r}function E_(s,t,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,jS(c,d,t))}return r}class qd extends wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YS extends wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&GS(c,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Wl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Wl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=Qv();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=Jv(d,g);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Rr(this.mutations,t.mutations,(i,r)=>__(i,r))&&Rr(this.baseMutations,t.baseMutations,(i,r)=>__(i,r))}}class Hd{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Qt(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let o=function(){return PS}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Hd(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,zt;function $S(s){switch(s){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function t0(s){if(s===void 0)return ji("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Te.OK:return Z.OK;case Te.CANCELLED:return Z.CANCELLED;case Te.UNKNOWN:return Z.UNKNOWN;case Te.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Te.INTERNAL:return Z.INTERNAL;case Te.UNAVAILABLE:return Z.UNAVAILABLE;case Te.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Te.NOT_FOUND:return Z.NOT_FOUND;case Te.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Te.ABORTED:return Z.ABORTED;case Te.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Te.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:s})}}(zt=Te||(Te={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Ta([4294967295,4294967295],0);function T_(s){const t=Av().encode(s),i=new mv;return i.update(t),new Uint8Array(i.digest())}function A_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ta([i,r],0),new Ta([o,c],0)]}class Fd{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Ta.fromNumber(this.fe)}pe(t,i,r){let o=t.add(i.multiply(Ta.fromNumber(r)));return o.compare(JS)===1&&(o=new Ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=T_(t),[r,o]=A_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(r,o,c);if(!this.ye(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fd(c,o,i);return r.forEach(g=>d.insert(g)),d}insert(t){if(this.fe===0)return;const i=T_(t),[r,o]=A_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(r,o,c);this.we(d)}}we(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i,r,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,fo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rc(St.min(),o,new oe(Dt),qi(),Mt())}}class fo{constructor(t,i,r,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new fo(r,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,i,r,o){this.Se=t,this.removedTargetIds=i,this.key=r,this.be=o}}class e0{constructor(t,i){this.targetId=t,this.De=i}}class n0{constructor(t,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class S_{constructor(){this.ve=0,this.Ce=b_(),this.Fe=Fe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Mt(),i=Mt(),r=Mt();return this.Ce.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:c})}}),new fo(this.Fe,this.Me,t,i,r)}ke(){this.xe=!1,this.Ce=b_()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class WS{constructor(t){this.We=t,this.Ge=new Map,this.ze=qi(),this.je=Gu(),this.Je=Gu(),this.He=new oe(Dt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,i=>{const r=this.tt(i);switch(t.state){case 0:this.nt(i)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),r.Be(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach((r,o)=>{this.nt(o)&&i(o)})}it(t){const i=t.targetId,r=t.De.count,o=this.st(i);if(o){const c=o.target;if(dd(c))if(r===0){const d=new mt(c.path);this.Xe(i,d,$e.newNoDocument(d,St.min()))}else Qt(r===1,20013,{expectedCount:r});else{const d=this.ot(i);if(d!==r){const g=this._t(t),y=g?this.ut(g,t,d):1;if(y!==0){this.rt(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Ia(r).toUint8Array()}catch(y){if(y instanceof Cv)return wa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Fd(d,o,c)}catch(y){return wa(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(t,i,r){return i.De.count===r-this.ht(t,i.targetId)?0:2}ht(t,i){const r=this.We.getRemoteKeysForTarget(i);let o=0;return r.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(i,c,null),o++)}),o}Pt(t){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&dd(g.target)){const y=new mt(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,$e.newNoDocument(y,t))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let r=Mt();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const _=this.st(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(t));const o=new Rc(t,i,this.He,this.ze,r);return this.ze=qi(),this.je=Gu(),this.Je=Gu(),this.He=new oe(Dt),o}Ze(t,i){if(!this.nt(t))return;const r=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,r),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,r){if(!this.nt(t))return;const o=this.tt(t);this.It(t,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),r&&(this.ze=this.ze.insert(i,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new S_,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Ve(Dt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new S_),this.We.getRemoteKeysForTarget(t).forEach(i=>{this.Xe(t,i,null)})}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Gu(){return new oe(mt.comparator)}function b_(){return new oe(mt.comparator)}const tb={asc:"ASCENDING",desc:"DESCENDING"},eb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nb={and:"AND",or:"OR"};class ib{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gd(s,t){return s.useProto3Json||vc(t)?t:{value:t}}function cc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function i0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function ab(s,t){return cc(s,t.toTimestamp())}function oi(s){return Qt(!!s,49232),St.fromTimestamp(function(i){const r=Da(i);return new ae(r.seconds,r.nanos)}(s))}function Gd(s,t){return pd(s,t).canonicalString()}function pd(s,t){const i=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(s).child("documents");return t===void 0?i:i.child(t)}function a0(s){const t=ie.fromString(s);return Qt(u0(t),10190,{key:t.toString()}),t}function yd(s,t){return Gd(s.databaseId,t.path)}function Zf(s,t){const i=a0(t);if(i.get(1)!==s.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(r0(i))}function s0(s,t){return Gd(s.databaseId,t)}function sb(s){const t=a0(s);return t.length===4?ie.emptyPath():r0(t)}function _d(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function r0(s){return Qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function w_(s,t,i){return{name:yd(s,t),fields:i.value.mapValue.fields}}function rb(s,t){let i;if("targetChange"in t){t.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Z.UNKNOWN:t0(_.code);return new ut(A,_.message||"")}(d);i=new n0(r,o,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Zf(s,r.document.name),c=oi(r.document.updateTime),d=r.document.createTime?oi(r.document.createTime):St.min(),g=new ln({mapValue:{fields:r.document.fields}}),y=$e.newFoundDocument(o,c,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Ju(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Zf(s,r.document),c=r.readTime?oi(r.readTime):St.min(),d=$e.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Ju([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Zf(s,r.document),c=r.removedTargetIds||[];i=new Ju([],c,o,null)}else{if(!("filter"in t))return _t(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new ZS(o,c),g=r.targetId;i=new e0(g,d)}}return i}function lb(s,t){let i;if(t instanceof ho)i={update:w_(s,t.key,t.value)};else if(t instanceof qd)i={delete:yd(s,t.key)};else if(t instanceof Ua)i={update:w_(s,t.key,t.data),updateMask:pb(t.fieldMask)};else{if(!(t instanceof YS))return _t(16599,{Rt:t.type});i={verify:yd(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const g=d.transform;if(g instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw _t(20930,{transform:d.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:ab(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)}(s,t.precondition)),i}function ob(s,t){return s&&s.length>0?(Qt(t!==void 0,14353),s.map(i=>function(o,c){let d=o.updateTime?oi(o.updateTime):oi(c);return d.isEqual(St.min())&&(d=oi(c)),new FS(d,o.transformResults||[])}(i,t))):[]}function ub(s,t){return{documents:[s0(s,t.path)]}}function cb(s,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=s0(s,o);const c=function(_){if(_.length!==0)return o0(di.create(_,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:Tr(D.field),direction:db(D.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{Vt:i,parent:o}}function hb(s){let t=sb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const D=l0(C);return D instanceof di&&Lv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(D=>function(X){return new lc(Ar(X.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(C){let D;return D=typeof C=="object"?C.value:C,vc(D)?null:D}(i.limit));let y=null;i.startAt&&(y=function(C){const D=!!C.before,j=C.values||[];return new rc(j,D)}(i.startAt));let _=null;return i.endAt&&(_=function(C){const D=!C.before,j=C.values||[];return new rc(j,D)}(i.endAt)),VS(t,o,d,c,g,"F",y,_)}function fb(s,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function l0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ar(i.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ar(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ar(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ar(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(s):s.fieldFilter!==void 0?function(i){return De.create(Ar(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return di.create(i.compositeFilter.filters.map(r=>l0(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(s):_t(30097,{filter:s})}function db(s){return tb[s]}function mb(s){return eb[s]}function gb(s){return nb[s]}function Tr(s){return{fieldPath:s.canonicalString()}}function Ar(s){return He.fromServerFormat(s.fieldPath)}function o0(s){return s instanceof De?function(i){if(i.op==="=="){if(f_(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NAN"}};if(h_(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(f_(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NAN"}};if(h_(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(i.field),op:mb(i.op),value:i.value}}}(s):s instanceof di?function(i){const r=i.getFilters().map(o=>o0(o));return r.length===1?r[0]:{compositeFilter:{op:gb(i.op),filters:r}}}(s):_t(54877,{filter:s})}function pb(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function u0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,i,r,o,c=St.min(),d=St.min(),g=Fe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new _a(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.gt=t}}function _b(s){const t=hb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.Dn=new Eb}addToCollectionParentIndex(t,i){return this.Dn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Ca.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Ca.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Eb{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ve(ie.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c0=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(c0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ir(0)}static ur(){return new Ir(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LruGarbageCollector",Tb=1048576;function D_([s,t],[i,r]){const o=Dt(s,i);return o===0?Dt(t,r):o}class Ab{constructor(t){this.Tr=t,this.buffer=new Ve(D_),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();D_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Sb{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){st(C_,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Mr(i)?st(C_,"Ignoring IndexedDB error during garbage collection: ",i):await Nr(i)}await this.Rr(3e5)})}}class bb{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(_c.ue);const r=new Ab(i);return this.Vr.forEachTarget(t,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(R_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.pr(t,i))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let r,o,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(t,o))).next(C=>(r=C,g=Date.now(),this.removeTargets(t,r,i))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(t,r))).next(C=>(_=Date.now(),vr()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${C} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:C})))}}function wb(s,t){return new bb(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.changes=new ws(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Wl(r.mutation,o,vn.empty(),ae.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Mt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Mt()){const o=vs();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(c=>{let d=Ql();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const r=vs();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Mt()))}populateOverlays(t,i,r){const o=[];return r.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,r,o){let c=qi();const d=Jl(),g=function(){return Jl()}();return i.forEach((y,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ua)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Wl(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,vn.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var C;return g.set(_,new Cb(A,(C=d.get(_))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const r=Jl();let o=new oe((d,g)=>d-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||vn.empty();A=g.applyToLocalView(_,A),r.set(y,A);const C=(o.get(g.batchId)||Mt()).add(y);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,C=Qv();A.forEach(D=>{if(!c.has(D)){const j=Jv(i.get(D),r.get(D));j!==null&&C.set(D,j),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,C))}return Y.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):OS(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-c.size):Y.resolve(vs());let g=io,y=c;return d.next(_=>Y.forEach(_,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next(D=>{y=y.insert(A,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,y,_,Mt())).next(A=>({batchId:g,changes:Gv(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next(r=>{let o=Ql();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(t,c).next(g=>Y.forEach(g,y=>{const _=function(C,D){return new Tc(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,o).next(A=>{A.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,o))).next(d=>{c.forEach((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))});let g=Ql();return d.forEach((y,_)=>{const A=c.get(y);A!==void 0&&Wl(A.mutation,_,vn.empty(),ae.now()),Sc(i,_)&&(g=g.insert(y,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:_b(o.bundledQuery),readTime:oi(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.overlays=new oe(mt.comparator),this.kr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=vs();return Y.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,c)=>{this.wt(t,i,c)}),Y.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const o=vs(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let c=new oe((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=vs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=vs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return Y.resolve(g)}wt(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new XS(i,r));let c=this.kr.get(i);c===void 0&&(c=Mt(),this.kr.set(i,c)),this.kr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.qr=new Ve(Pe.Qr),this.$r=new Ve(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Wr(new Pe(t,i))}Gr(t,i){t.forEach(r=>this.removeReference(r,i))}zr(t){const i=new mt(new ie([])),r=new Pe(i,t),o=new Pe(i,t+1),c=[];return this.$r.forEachInRange([r,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new mt(new ie([])),r=new Pe(i,t),o=new Pe(i,t+1);let c=Mt();return this.$r.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Pe(t,0),r=this.qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return mt.comparator(t.key,i.key)||Dt(t.Hr,i.Hr)}static Ur(t,i){return Dt(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ve(Pe.Qr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KS(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Pd:this.er-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([r,o],d=>{const g=this.Zr(d.Hr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(Dt);return i.forEach(o=>{const c=new Pe(o,0),d=new Pe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{r=r.add(g.Hr)})}),Y.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let c=r;mt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new mt(c),0);let g=new Ve(Dt);return this.Yr.forEachWhile(y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Hr)),!0)},d),Y.resolve(this.ei(g))}ei(t){const i=[];return t.forEach(r=>{const o=this.Zr(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Y.forEach(i.mutations,o=>{const c=new Pe(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=r})}rr(t){}containsKey(t,i){const r=new Pe(i,0),o=this.Yr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this.ni=t,this.docs=function(){return new oe(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let r=qi();return i.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))}),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let c=qi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||oS(lS(A),r)<=0||(o.has(A.key)||Sc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,r,o){_t(9500)}ri(t,i){return Y.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new xb(this)}getSize(t){return Y.resolve(this.size)}}class xb extends Rb{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(t,o)):this.Or.removeEntry(r)}),Y.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t){this.persistence=t,this.ii=new ws(i=>kd(i),Bd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new Qd,this.targetCount=0,this._i=Ir.ar()}forEachTarget(t,i){return this.ii.forEach((r,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.si&&(this.si=i),Y.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new Ir(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.hr(i),Y.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let o=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),Y.waitFor(c).next(()=>o)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.ii.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this.oi.Kr(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this.oi.Gr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this.oi.Jr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i){this.ai={},this.overlays={},this.ui=new _c(0),this.ci=!1,this.ci=!0,this.li=new Ob,this.referenceDelegate=t(this),this.hi=new Ub(this),this.indexManager=new vb,this.remoteDocumentCache=function(o){return new Mb(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new yb(i),this.Ti=new Ib(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Vb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ai[t.toKey()];return r||(r=new Nb(i,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,r){st("MemoryPersistence","Starting transaction:",t);const o=new Pb(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(t,i){return Y.or(Object.values(this.ai).map(r=>()=>r.containsKey(t,i)))}}class Pb extends cS{constructor(t){super(),this.currentSequenceNumber=t}}class Yd{constructor(t){this.persistence=t,this.Ai=new Qd,this.Ri=null}static Vi(t){return new Yd(t)}get mi(){if(this.Ri)return this.Ri;throw _t(60996)}addReference(t,i,r){return this.Ai.addReference(r,i),this.mi.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ai.removeReference(r,i),this.mi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>r.removeTargetData(t,i))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,r=>{const o=mt.fromPath(r);return this.fi(t,o).next(c=>{c||i.removeEntry(o,St.min())})}).next(()=>(this.Ri=null,i.apply(t)))}updateLimboDocument(t,i){return this.fi(t,i).next(r=>{r?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(t){return 0}fi(t,i){return Y.or([()=>Y.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class hc{constructor(t,i){this.persistence=t,this.gi=new ws(r=>dS(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=wb(this,i)}static Vi(t,i){return new hc(t,i)}Ii(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}yr(t){let i=0;return this.gr(t,r=>{i++}).next(()=>i)}gr(t,i){return Y.forEach(this.gi,(r,o)=>this.Sr(t,r,o).next(c=>c?Y.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(t,d=>this.Sr(t,d,i).next(g=>{g||(r++,c.removeEntry(d,St.min()))})).next(()=>c.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.gi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.gi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),Y.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Xu(t.data.value)),i}Sr(t,i,r){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.gi.get(i);return Y.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Is=r,this.ds=o}static Es(t,i){let r=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Kd(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return N1()?8:hS(I1())>0?6:4}()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,r,o){const c={result:null};return this.ps(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(t,i,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Lb;return this.ws(t,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,i,d,g.size)})}).next(()=>c.result)}Ss(t,i,r,o){return r.documentReadCount<this.Vs?(vr()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Er(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(vr()<=kt.DEBUG&&st("QueryEngine","Query:",Er(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(vr()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Er(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(i))):Y.resolve())}ps(t,i){if(p_(i))return Y.resolve(null);let r=li(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=md(i,null,"F"),r=li(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Mt(...c);return this.gs.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,r).next(y=>{const _=this.bs(i,g);return this.Ds(i,_,d,y.readTime)?this.ps(t,md(i,null,"F")):this.vs(t,_,i,y)}))})))}ys(t,i,r,o){return p_(i)||o.isEqual(St.min())?Y.resolve(null):this.gs.getDocuments(t,r).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,r,o)?Y.resolve(null):(vr()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Er(i)),this.vs(t,d,i,rS(o,io)).next(g=>g))})}bs(t,i){let r=new Ve(Hv(t));return i.forEach((o,c)=>{Sc(t,c)&&(r=r.add(c))}),r}Ds(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(t,i,r){return vr()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Er(i)),this.gs.getDocumentsMatchingQuery(t,i,Ca.min(),r)}vs(t,i,r,o){return this.gs.getDocumentsMatchingQuery(t,r,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="LocalStore",kb=3e8;class Bb{constructor(t,i,r,o){this.persistence=t,this.Cs=i,this.serializer=o,this.Fs=new oe(Dt),this.Ms=new ws(c=>kd(c),Bd),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Db(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Fs))}}function jb(s,t,i,r){return new Bb(s,t,i,r)}async function f0(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],g=[];let y=Mt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:g}))})})}function qb(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,y,_,A){const C=_.batch,D=C.keys();let j=Y.resolve();return D.forEach(X=>{j=j.next(()=>A.getEntry(y,X)).next(tt=>{const $=_.docVersions.get(X);Qt($!==null,48541),tt.version.compareTo($)<0&&(C.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(y,C))}(i,r,t,c).next(()=>c.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function d0(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.hi.getLastRemoteSnapshotVersion(i))}function Hb(s,t){const i=bt(s),r=t.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];t.targetChanges.forEach((A,C)=>{const D=o.get(C);if(!D)return;g.push(i.hi.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.hi.addMatchingKeys(c,A.addedDocuments,C)));let j=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?j=j.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,r)),o=o.insert(C,j),function(tt,$,gt){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=kb?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0}(D,j,A)&&g.push(i.hi.updateTargetData(c,j))});let y=qi(),_=Mt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(Fb(c,d,t.documentUpdates).next(A=>{y=A.Ls,_=A.ks})),!r.isEqual(St.min())){const A=i.hi.getLastRemoteSnapshotVersion(c).next(C=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(A)}return Y.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(i.Fs=o,c))}function Fb(s,t,i){let r=Mt(),o=Mt();return i.forEach(c=>r=r.add(c)),t.getEntries(s,r).next(c=>{let d=qi();return i.forEach((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):st(Xd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)}),{Ls:d,ks:o}})}function Gb(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Pd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Qb(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.hi.getTargetData(r,t).next(c=>c?(o=c,Y.resolve(o)):i.hi.allocateTargetId(r).next(d=>(o=new _a(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(r.targetId,r),i.Ms.set(t,r.targetId)),r})}async function vd(s,t,i){const r=bt(s),o=r.Fs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Mr(d))throw d;st(Xd,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(o.target)}function I_(s,t,i){const r=bt(s);let o=St.min(),c=Mt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(y,_,A){const C=bt(y),D=C.Ms.get(A);return D!==void 0?Y.resolve(C.Fs.get(D)):C.hi.getTargetData(_,A)}(r,d,li(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>r.Cs.getDocumentsMatchingQuery(d,t,i?o:St.min(),i?c:Mt())).next(g=>(Yb(r,MS(t),g),{documents:g,qs:c})))}function Yb(s,t,i){let r=s.xs.get(t)||St.min();i.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.xs.set(t,r)}class V_{constructor(){this.activeTargetIds=kS()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Kb{constructor(){this.Fo=new V_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,r){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new V_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class N_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(O_,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){st(O_,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Ed(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RestConnection",Zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $b{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===ac?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,i,r,o,c){const d=Ed(),g=this.Go(t,i.toUriEncodedString());st($f,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,c);const{host:_}=new URL(g),A=Vd(_);return this.jo(t,g,y,r,A).then(C=>(st($f,`Received RPC '${t}' ${d}: `,C),C),C=>{throw wa($f,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",r),C})}Jo(t,i,r,o,c,d){return this.Wo(t,i,r,o,c)}zo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Or}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),r&&r.headers.forEach((o,c)=>t[c]=o)}Go(t,i){const r=Zb[t];return`${this.$o}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class Wb extends $b{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,r,o,c){const d=Ed();return new Promise((g,y)=>{const _=new gv;_.setWithCredentials(!0),_.listenOnce(pv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ku.NO_ERROR:const C=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case Ku.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),y(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const D=_.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j==null?void 0:j.error;if(X&&X.status&&X.message){const tt=function(gt){const at=gt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(at)>=0?at:Z.UNKNOWN}(X.status);y(new ut(tt,X.message))}else y(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{c_:t,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(o);st(Xe,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)})}P_(t,i,r){const o=Ed(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vv(),g=_v(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${A}`,y);const C=d.createWebChannel(A,y);this.T_(C);let D=!1,j=!1;const X=new Jb({Ho:$=>{j?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(D||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),C.open(),D=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,$),C.send($))},Yo:()=>C.close()}),tt=($,gt,at)=>{$.listen(gt,ht=>{try{at(ht)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return tt(C,Gl.EventType.OPEN,()=>{j||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),X.s_())}),tt(C,Gl.EventType.CLOSE,()=>{j||(j=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),X.__(),this.I_(C))}),tt(C,Gl.EventType.ERROR,$=>{j||(j=!0,wa(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),X.__(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),tt(C,Gl.EventType.MESSAGE,$=>{var gt;if(!j){const at=$.data[0];Qt(!!at,16349);const ht=at,Vt=(ht==null?void 0:ht.error)||((gt=ht[0])===null||gt===void 0?void 0:gt.error);if(Vt){st(Xe,`RPC '${t}' stream ${o} received error:`,Vt);const Tt=Vt.status;let xt=function(w){const O=Te[w];if(O!==void 0)return t0(O)}(Tt),M=Vt.message;xt===void 0&&(xt=Z.INTERNAL,M="Unknown error status: "+Tt+" with message "+Vt.message),j=!0,X.__(new ut(xt,M)),C.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,at),X.a_(at)}}),tt(g,yv.STAT_EVENT,$=>{$.stat===od.PROXY?st(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===od.NOPROXY&&st(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.o_()},0),X}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(i=>i===t)}}function Jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(s){return new ib(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,i,r=1e3,o=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=r,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class g0{constructor(t,i,r,o,c,d,g,y){this.Fi=t,this.w_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new m0(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===i&&this.W_(r,o)},r=>{t(()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(t,i){const r=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return st(M_,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget(()=>this.b_===t?i():(st(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t2 extends g0{constructor(t,i,r,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=rb(this.serializer,t),r=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?oi(d.readTime):St.min()}(t);return this.listener.J_(i,r)}H_(t){const i={};i.database=_d(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=dd(y)?{documents:ub(c,y)}:{query:cb(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=i0(c,d.resumeToken);const _=gd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=cc(c,d.snapshotVersion.toTimestamp());const _=gd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const r=fb(this.serializer,t);r&&(i.labels=r),this.k_(i)}Y_(t){const i={};i.database=_d(this.serializer),i.removeTarget=t,this.k_(i)}}class e2 extends g0{constructor(t,i,r,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=ob(t.writeResults,t.commitTime),r=oi(t.commitTime);return this.listener.ta(r,i)}na(){const t={};t.database=_d(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>lb(this.serializer,r))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{}class i2 extends n2{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,pd(i,r),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())})}Jo(t,i,r,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(t,pd(i,r),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class a2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ji(i),this._a=!1):st("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="RemoteStore";class s2{constructor(t,i,r,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{r.enqueueAndForget(async()=>{Rs(this)&&(st(As,"Restarting streams for network reachability change."),await async function(y){const _=bt(y);_.Ia.add(4),await mo(_),_.Aa.set("Unknown"),_.Ia.delete(4),await Dc(_)}(this))})}),this.Aa=new a2(r,o)}}async function Dc(s){if(Rs(s))for(const t of s.da)await t(!0)}async function mo(s){for(const t of s.da)await t(!1)}function p0(s,t){const i=bt(s);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Wd(i)?Jd(i):xr(i).x_()&&$d(i,t))}function Zd(s,t){const i=bt(s),r=xr(i);i.Ta.delete(t),r.x_()&&y0(i,t),i.Ta.size===0&&(r.x_()?r.B_():Rs(i)&&i.Aa.set("Unknown"))}function $d(s,t){if(s.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}xr(s).H_(t)}function y0(s,t){s.Ra.$e(t),xr(s).Y_(t)}function Jd(s){s.Ra=new WS({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>s.Ta.get(t)||null,lt:()=>s.datastore.serializer.databaseId}),xr(s).start(),s.Aa.aa()}function Wd(s){return Rs(s)&&!xr(s).M_()&&s.Ta.size>0}function Rs(s){return bt(s).Ia.size===0}function _0(s){s.Ra=void 0}async function r2(s){s.Aa.set("Online")}async function l2(s){s.Ta.forEach((t,i)=>{$d(s,t)})}async function o2(s,t){_0(s),Wd(s)?(s.Aa.la(t),Jd(s)):s.Aa.set("Unknown")}async function u2(s,t,i){if(s.Aa.set("Online"),t instanceof n0&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(s,t)}catch(r){st(As,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fc(s,r)}else if(t instanceof Ju?s.Ra.Ye(t):t instanceof e0?s.Ra.it(t):s.Ra.et(t),!i.isEqual(St.min()))try{const r=await d0(s.localStore);i.compareTo(r)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ta.get(_);A&&c.Ta.set(_,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,_)=>{const A=c.Ta.get(y);if(!A)return;c.Ta.set(y,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),y0(c,y);const C=new _a(A.target,y,_,A.sequenceNumber);$d(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){st(As,"Failed to raise snapshot:",r),await fc(s,r)}}async function fc(s,t,i){if(!Mr(t))throw t;s.Ia.add(1),await mo(s),s.Aa.set("Offline"),i||(i=()=>d0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{st(As,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await Dc(s)})}function v0(s,t){return t().catch(i=>fc(s,i,t))}async function Ic(s){const t=bt(s),i=Oa(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Pd;for(;c2(t);)try{const o=await Gb(t.localStore,r);if(o===null){t.Pa.length===0&&i.B_();break}r=o.batchId,h2(t,o)}catch(o){await fc(t,o)}E0(t)&&T0(t)}function c2(s){return Rs(s)&&s.Pa.length<10}function h2(s,t){s.Pa.push(t);const i=Oa(s);i.x_()&&i.Z_&&i.X_(t.mutations)}function E0(s){return Rs(s)&&!Oa(s).M_()&&s.Pa.length>0}function T0(s){Oa(s).start()}async function f2(s){Oa(s).na()}async function d2(s){const t=Oa(s);for(const i of s.Pa)t.X_(i.mutations)}async function m2(s,t,i){const r=s.Pa.shift(),o=Hd.from(r,t,i);await v0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Ic(s)}async function g2(s,t){t&&Oa(s).Z_&&await async function(r,o){if(function(d){return $S(d)&&d!==Z.ABORTED}(o.code)){const c=r.Pa.shift();Oa(r).N_(),await v0(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Ic(r)}}(s,t),E0(s)&&T0(s)}async function x_(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),st(As,"RemoteStore received new credentials");const r=Rs(i);i.Ia.add(3),await mo(i),r&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Dc(i)}async function p2(s,t){const i=bt(s);t?(i.Ia.delete(2),await Dc(i)):t||(i.Ia.add(2),await mo(i),i.Aa.set("Unknown"))}function xr(s){return s.Va||(s.Va=function(i,r,o){const c=bt(i);return c.ia(),new t2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:r2.bind(null,s),e_:l2.bind(null,s),n_:o2.bind(null,s),J_:u2.bind(null,s)}),s.da.push(async t=>{t?(s.Va.N_(),Wd(s)?Jd(s):s.Aa.set("Unknown")):(await s.Va.stop(),_0(s))})),s.Va}function Oa(s){return s.ma||(s.ma=function(i,r,o){const c=bt(i);return c.ia(),new e2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:f2.bind(null,s),n_:g2.bind(null,s),ea:d2.bind(null,s),ta:m2.bind(null,s)}),s.da.push(async t=>{t?(s.ma.N_(),await Ic(s)):(await s.ma.stop(),s.Pa.length>0&&(st(As,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,i,r,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,c){const d=Date.now()+r,g=new tm(t,i,d,o,c);return g.start(r),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(s,t){if(ji("AsyncQueue",`${t}: ${s}`),Mr(s))return new ut(Z.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{static emptySet(t){return new Sr(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=Ql(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Sr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Sr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.fa=new oe(mt.comparator)}track(t){const i=t.doc.key,r=this.fa.get(i);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(i,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(i):t.type===1&&r.type===2?this.fa=this.fa.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):_t(63341,{At:t,ga:r}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal((i,r)=>{t.push(r)}),t}}class Vr{constructor(t,i,r,o,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Vr(t,i,Sr.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ac(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class _2{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,r){const o=bt(i),c=o.queries;o.queries=P_(),c.forEach((d,g)=>{for(const y of g.wa)y.onError(r)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function P_(){return new ws(s=>qv(s),Ac)}async function v2(s,t){const i=bt(s);let r=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.ba()&&(r=2):(c=new y2,r=t.ba()?0:1);try{switch(r){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=em(d,`Initialization of query '${Er(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.wa.push(t),t.va(i.onlineState),c.ya&&t.Ca(c.ya)&&nm(i)}async function E2(s,t){const i=bt(s),r=t.query;let o=3;const c=i.queries.get(r);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=t.ba()?0:1:!c.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function T2(s,t){const i=bt(s);let r=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(o)&&(r=!0);d.ya=o}}r&&nm(i)}function A2(s,t,i){const r=bt(s),o=r.queries.get(t);if(o)for(const c of o.wa)c.onError(i);r.queries.delete(t)}function nm(s){s.Da.forEach(t=>{t.next()})}var Td,L_;(L_=Td||(Td={})).Fa="default",L_.Cache="cache";class S2{constructor(t,i,r){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Vr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const r=i!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=Vr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t){this.key=t}}class S0{constructor(t){this.key=t}}class b2{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Mt(),this.mutatedKeys=Mt(),this.Xa=Hv(t),this.eu=new Sr(this.Xa)}get tu(){return this.Ha}nu(t,i){const r=i?i.ru:new U_,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,C)=>{const D=o.get(A),j=Sc(this.query,C)?C:null,X=!!D&&this.mutatedKeys.has(D.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;D&&j?D.data.isEqual(j.data)?X!==tt&&(r.track({type:3,doc:j}),$=!0):this.iu(D,j)||(r.track({type:2,doc:j}),$=!0,(y&&this.Xa(j,y)>0||_&&this.Xa(j,_)<0)&&(g=!0)):!D&&j?(r.track({type:0,doc:j}),$=!0):D&&!j&&(r.track({type:1,doc:D}),$=!0,(y||_)&&(g=!0)),$&&(j?(d=d.add(j),c=tt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{eu:d,ru:r,Ds:g,mutatedKeys:c}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort((A,C)=>function(j,X){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{At:$})}};return tt(j)-tt(X)}(A.type,C.type)||this.Xa(A.doc,C.doc)),this.su(r),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,_=y!==this.Ya;return this.Ya=y,d.length!==0||_?{snapshot:new Vr(this.query,t.eu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new U_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Mt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const i=[];return t.forEach(r=>{this.Za.has(r)||i.push(new S0(r))}),this.Za.forEach(r=>{t.has(r)||i.push(new A0(r))}),i}uu(t){this.Ha=t.qs,this.Za=Mt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return Vr.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const im="SyncEngine";class w2{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class R2{constructor(t){this.key=t,this.lu=!1}}class C2{constructor(t,i,r,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new ws(g=>qv(g),Ac),this.Tu=new Map,this.Iu=new Set,this.du=new oe(mt.comparator),this.Eu=new Map,this.Au=new Qd,this.Ru={},this.Vu=new Map,this.mu=Ir.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function D2(s,t,i=!0){const r=I0(s);let o;const c=r.Pu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await b0(r,t,i,!0),o}async function I2(s,t){const i=I0(s);await b0(i,t,!0,!1)}async function b0(s,t,i,r){const o=await Qb(s.localStore,li(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await V2(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&p0(s.remoteStore,o),g}async function V2(s,t,i,r,o){s.gu=(C,D,j)=>async function(tt,$,gt,at){let ht=$.view.nu(gt);ht.Ds&&(ht=await I_(tt.localStore,$.query,!1).then(({documents:M})=>$.view.nu(M,ht)));const Vt=at&&at.targetChanges.get($.targetId),Tt=at&&at.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(ht,tt.isPrimaryClient,Vt,Tt);return k_(tt,$.targetId,xt._u),xt.snapshot}(s,C,D,j);const c=await I_(s.localStore,t,!0),d=new b2(t,c.qs),g=d.nu(c.documents),y=fo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);k_(s,i,_._u);const A=new w2(t,i,d);return s.Pu.set(t,A),s.Tu.has(i)?s.Tu.get(i).push(t):s.Tu.set(i,[t]),_.snapshot}async function O2(s,t,i){const r=bt(s),o=r.Pu.get(t),c=r.Tu.get(o.targetId);if(c.length>1)return r.Tu.set(o.targetId,c.filter(d=>!Ac(d,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await vd(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Zd(r.remoteStore,o.targetId),Ad(r,o.targetId)}).catch(Nr)):(Ad(r,o.targetId),await vd(r.localStore,o.targetId,!0))}async function N2(s,t){const i=bt(s),r=i.Pu.get(t),o=i.Tu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Zd(i.remoteStore,r.targetId))}async function M2(s,t,i){const r=B2(s);try{const o=await function(d,g){const y=bt(d),_=ae.now(),A=g.reduce((j,X)=>j.add(X.key),Mt());let C,D;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=qi(),tt=Mt();return y.Os.getEntries(j,A).next($=>{X=$,X.forEach((gt,at)=>{at.isValidDocument()||(tt=tt.add(gt))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,X)).next($=>{C=$;const gt=[];for(const at of g){const ht=QS(at,C.get(at.key).overlayedDocument);ht!=null&&gt.push(new Ua(at.key,ht,xv(ht.value.mapValue),qn.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,gt,g)}).next($=>{D=$;const gt=$.applyToLocalDocumentSet(C,tt);return y.documentOverlayCache.saveOverlays(j,$.batchId,gt)})}).then(()=>({batchId:D.batchId,changes:Gv(C)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let _=d.Ru[d.currentUser.toKey()];_||(_=new oe(Dt)),_=_.insert(g,y),d.Ru[d.currentUser.toKey()]=_}(r,o.batchId,i),await go(r,o.changes),await Ic(r.remoteStore)}catch(o){const c=em(o,"Failed to persist write");i.reject(c)}}async function w0(s,t){const i=bt(s);try{const r=await Hb(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Qt(d.lu,14607):o.removedDocuments.size>0&&(Qt(d.lu,42227),d.lu=!1))}),await go(i,r,t)}catch(r){await Nr(r)}}function z_(s,t,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Pu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=bt(d);y.onlineState=g;let _=!1;y.queries.forEach((A,C)=>{for(const D of C.wa)D.va(g)&&(_=!0)}),_&&nm(y)}(r.eventManager,t),o.length&&r.hu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function x2(s,t,i){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Eu.get(t),c=o&&o.key;if(c){let d=new oe(mt.comparator);d=d.insert(c,$e.newNoDocument(c,St.min()));const g=Mt().add(c),y=new Rc(St.min(),new Map,new oe(Dt),d,g);await w0(r,y),r.du=r.du.remove(c),r.Eu.delete(t),am(r)}else await vd(r.localStore,t,!1).then(()=>Ad(r,t,i)).catch(Nr)}async function U2(s,t){const i=bt(s),r=t.batch.batchId;try{const o=await qb(i.localStore,t);C0(i,r,null),R0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await go(i,o)}catch(o){await Nr(o)}}async function P2(s,t,i){const r=bt(s);try{const o=await function(d,g){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next(C=>(Qt(C!==null,37113),A=C.keys(),y.mutationQueue.removeMutationBatch(_,C))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>y.localDocuments.getDocuments(_,A))})}(r.localStore,t);C0(r,t,i),R0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await go(r,o)}catch(o){await Nr(o)}}function R0(s,t){(s.Vu.get(t)||[]).forEach(i=>{i.resolve()}),s.Vu.delete(t)}function C0(s,t,i){const r=bt(s);let o=r.Ru[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),r.Ru[r.currentUser.toKey()]=o}}function Ad(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Tu.get(t))s.Pu.delete(r),i&&s.hu.pu(r,i);s.Tu.delete(t),s.isPrimaryClient&&s.Au.zr(t).forEach(r=>{s.Au.containsKey(r)||D0(s,r)})}function D0(s,t){s.Iu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Zd(s.remoteStore,i),s.du=s.du.remove(t),s.Eu.delete(i),am(s))}function k_(s,t,i){for(const r of i)r instanceof A0?(s.Au.addReference(r.key,t),L2(s,r)):r instanceof S0?(st(im,"Document no longer in limbo: "+r.key),s.Au.removeReference(r.key,t),s.Au.containsKey(r.key)||D0(s,r.key)):_t(19791,{yu:r})}function L2(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Iu.has(r)||(st(im,"New document in limbo: "+i),s.Iu.add(r),am(s))}function am(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Iu.values().next().value;s.Iu.delete(t);const i=new mt(ie.fromString(t)),r=s.mu.next();s.Eu.set(r,new R2(i)),s.du=s.du.insert(i,r),p0(s.remoteStore,new _a(li(jv(i.path)),r,"TargetPurposeLimboResolution",_c.ue))}}async function go(s,t,i){const r=bt(s),o=[],c=[],d=[];r.Pu.isEmpty()||(r.Pu.forEach((g,y)=>{d.push(r.gu(y,t,i).then(_=>{var A;if((_||i)&&r.isPrimaryClient){const C=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(_){o.push(_);const C=Kd.Es(y.targetId,_);c.push(C)}}))}),await Promise.all(d),r.hu.J_(o),await async function(y,_){const A=bt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Y.forEach(_,D=>Y.forEach(D.Is,j=>A.persistence.referenceDelegate.addReference(C,D.targetId,j)).next(()=>Y.forEach(D.ds,j=>A.persistence.referenceDelegate.removeReference(C,D.targetId,j)))))}catch(C){if(!Mr(C))throw C;st(Xd,"Failed to update sequence numbers: "+C)}for(const C of _){const D=C.targetId;if(!C.fromCache){const j=A.Fs.get(D),X=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion(X);A.Fs=A.Fs.insert(D,tt)}}}(r.localStore,c))}async function z2(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){st(im,"User change. New user:",t.toKey());const r=await f0(i.localStore,t);i.currentUser=t,function(c,d){c.Vu.forEach(g=>{g.forEach(y=>{y.reject(new ut(Z.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await go(i,r.Bs)}}function k2(s,t){const i=bt(s),r=i.Eu.get(t);if(r&&r.lu)return Mt().add(r.key);{let o=Mt();const c=i.Tu.get(t);if(!c)return o;for(const d of c){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function I0(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=k2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=x2.bind(null,t),t.hu.J_=T2.bind(null,t.eventManager),t.hu.pu=A2.bind(null,t.eventManager),t}function B2(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=U2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=P2.bind(null,t),t}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return jb(this.persistence,new zb,t.initialUser,this.serializer)}Du(t){return new h0(Yd.Vi,this.serializer)}bu(t){return new Kb}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class j2 extends dc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Qt(this.persistence.referenceDelegate instanceof hc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Sb(r,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new h0(r=>hc.Vi(r,i),this.serializer)}}class Sd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await p2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _2}()}createDatastore(t){const i=Cc(t.databaseInfo.databaseId),r=function(c){return new Wb(c)}(t.databaseInfo);return function(c,d,g,y){return new i2(c,d,g,y)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,c,d,g){return new s2(r,o,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>z_(this.syncEngine,i,0),function(){return N_.C()?new N_:new Xb}())}createSyncEngine(t,i){return function(o,c,d,g,y,_,A){const C=new C2(o,c,d,g,y,_);return A&&(C.fu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=bt(o);st(As,"RemoteStore shutting down."),c.Ia.add(5),await mo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Sd.provider={build:()=>new Sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="FirestoreClient";class H2{constructor(t,i,r,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{st(Na,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(st(Na,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=em(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Wf(s,t){s.asyncQueue.verifyOperationInProgress(),st(Na,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await f0(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>{wa("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{wa("Terminating Firestore due to IndexedDb database deletion failed",o)})}),s._offlineComponents=t}async function B_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await F2(s);st(Na,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener(r=>x_(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>x_(t.remoteStore,o)),s._onlineComponents=t}async function F2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Na,"Using user provided OfflineComponentProvider");try{await Wf(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;wa("Error using user provided cache. Falling back to memory cache: "+i),await Wf(s,new dc)}}else st(Na,"Using default OfflineComponentProvider"),await Wf(s,new j2(void 0));return s._offlineComponents}async function V0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Na,"Using user provided OnlineComponentProvider"),await B_(s,s._uninitializedComponentsProvider._online)):(st(Na,"Using default OnlineComponentProvider"),await B_(s,new Sd))),s._onlineComponents}function G2(s){return V0(s).then(t=>t.syncEngine)}async function Q2(s){const t=await V0(s),i=t.eventManager;return i.onListen=D2.bind(null,t.syncEngine),i.onUnlisten=O2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=I2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=N2.bind(null,t.syncEngine),i}function Y2(s,t,i={}){const r=new Aa;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,_){const A=new q2({next:D=>{A.Ou(),d.enqueueAndForget(()=>E2(c,C)),D.fromCache&&y.source==="server"?_.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),C=new S2(g,A,{includeMetadataChanges:!0,ka:!0});return v2(c,C)}(await Q2(s),s.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firestore.googleapis.com",q_=!0;class H_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N0,this.ssl=q_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:q_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=c0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Tb)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O0((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vc{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZA;switch(r.type){case"firstParty":return new tS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=j_.get(i);r&&(st("ComponentProvider","Removing Datastore"),j_.delete(i),r.terminate())}(this),Promise.resolve()}}function K2(s,t,i,r={}){var o;s=Ra(s,Vc);const c=Vd(t),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),y=`${t}:${i}`;c&&(b1(`https://${y}`),D1("Firestore",!0)),d.host!==N0&&d.host!==y&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:r});if(!eo(_,g)&&(s._setSettings(_),r.mockUserToken)){let A,C;if(typeof r.mockUserToken=="string")A=r.mockUserToken,C=Ze.MOCK_USER;else{A=w1(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ze(D)}s._authCredentials=new $A(new Tv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Oc(this.firestore,t,this._query)}}class Ie{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(co(i,Ie._jsonSchema))return new Ie(t,r||null,new mt(ie.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ae("string",Ie._jsonSchemaVersion),referencePath:Ae("string")};class Sa extends Oc{constructor(t,i,r){super(t,i,jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new mt(t))}withConverter(t){return new Sa(this.firestore,t,this._path)}}function M0(s,t,...i){if(s=hi(s),Sv("collection","path",t),s instanceof Vc){const r=ie.fromString(t,...i);return i_(r),new Sa(s,null,r)}{if(!(s instanceof Ie||s instanceof Sa))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ie.fromString(t,...i));return i_(r),new Sa(s.firestore,null,r)}}function sm(s,t,...i){if(s=hi(s),arguments.length===1&&(t=xd.newId()),Sv("doc","path",t),s instanceof Vc){const r=ie.fromString(t,...i);return n_(r),new Ie(s,null,new mt(r))}{if(!(s instanceof Ie||s instanceof Sa))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ie.fromString(t,...i));return n_(r),new Ie(s.firestore,s instanceof Sa?s.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class G_{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new m0(this,"async_queue_retry"),this.oc=()=>{const r=Jf();r&&st(F_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const i=Jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Aa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Mr(t))throw t;st(F_,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const i=this._c.then(()=>(this.nc=!0,t().catch(r=>{throw this.tc=r,this.nc=!1,ji("INTERNAL UNHANDLED ERROR: ",Q_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=i,i}enqueueAfterDelay(t,i,r){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const o=tm.createAndSchedule(this,t,i,r,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&_t(47125,{hc:Q_(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function Q_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class po extends Vc{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new G_(t),this._firestoreClient=void 0,await t}}}function X2(s,t){const i=typeof s=="object"?s:hv(),r=typeof s=="string"?s:ac,o=uo(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=A1("firestore");c&&K2(o,...c)}return o}function x0(s){if(s._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Z2(s),s._firestoreClient}function Z2(s){var t,i,r;const o=s._freezeSettings(),c=function(g,y,_,A){return new pS(g,y,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,O0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new H2(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Fe.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(co(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ae("string",xn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(t){if(co(t,ui._jsonSchema))return new ui(t.latitude,t.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Ae("string",ui._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(co(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new ci(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Ae("string",ci._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^__.*__$/;class J2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Ua(t,this.data,this.fieldMask,i,this.fieldTransforms):new ho(t,this.data,i,this.fieldTransforms)}}class U0{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Ua(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function P0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ec:s})}}class lm{constructor(t,i,r,o,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new lm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:r,mc:!1});return o.fc(t),o}gc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return mc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(P0(this.Ec)&&$2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class W2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Cc(t)}Dc(t,i,r,o=!1){return new lm({Ec:t,methodName:i,bc:r,path:He.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L0(s){const t=s._freezeSettings(),i=Cc(s._databaseId);return new W2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function tw(s,t,i,r,o,c={}){const d=s.Dc(c.merge||c.mergeFields?2:0,t,i,o);om("Data must be an object, but it was:",d,r);const g=z0(r,d);let y,_;if(c.merge)y=new vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const D=bd(t,C,i);if(!d.contains(D))throw new ut(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);B0(A,D)||A.push(D)}y=new vn(A),_=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,_=d.fieldTransforms;return new J2(new ln(g),y,_)}class Mc extends rm{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mc}}function ew(s,t,i,r){const o=s.Dc(1,t,i);om("Data must be an object, but it was:",o,r);const c=[],d=ln.empty();xa(r,(y,_)=>{const A=um(t,y,i);_=hi(_);const C=o.gc(A);if(_ instanceof Mc)c.push(A);else{const D=xc(_,C);D!=null&&(c.push(A),d.set(A,D))}});const g=new vn(c);return new U0(d,g,o.fieldTransforms)}function nw(s,t,i,r,o,c){const d=s.Dc(1,t,i),g=[bd(t,r,i)],y=[o];if(c.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(bd(t,c[D])),y.push(c[D+1]);const _=[],A=ln.empty();for(let D=g.length-1;D>=0;--D)if(!B0(_,g[D])){const j=g[D];let X=y[D];X=hi(X);const tt=d.gc(j);if(X instanceof Mc)_.push(j);else{const $=xc(X,tt);$!=null&&(_.push(j),A.set(j,$))}}const C=new vn(_);return new U0(A,C,d.fieldTransforms)}function xc(s,t){if(k0(s=hi(s)))return om("Unsupported field value:",t,s),z0(s,t);if(s instanceof rm)return function(r,o){if(!P0(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const g of r){let y=xc(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(s,t)}return function(r,o){if((r=hi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ae.fromDate(r);return{timestampValue:cc(o.serializer,c)}}if(r instanceof ae){const c=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cc(o.serializer,c)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:i0(o.serializer,r._byteString)};if(r instanceof Ie){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ci)return function(d,g){return{mapValue:{fields:{[Nv]:{stringValue:Mv},[sc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return jd(g.serializer,_)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${Ud(r)}`)}(s,t)}function z0(s,t){const i={};return Rv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xa(s,(r,o)=>{const c=xc(o,t.Vc(r));c!=null&&(i[r]=c)}),{mapValue:{fields:i}}}function k0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof ui||s instanceof xn||s instanceof Ie||s instanceof rm||s instanceof ci)}function om(s,t,i){if(!k0(i)||!bv(i)){const r=Ud(i);throw r==="an object"?t.wc(s+" a custom object"):t.wc(s+" "+r)}}function bd(s,t,i){if((t=hi(t))instanceof Nc)return t._internalPath;if(typeof t=="string")return um(s,t);throw mc("Field path arguments must be of type string or ",s,!1,void 0,i)}const iw=new RegExp("[~\\*/\\[\\]]");function um(s,t,i){if(t.search(iw)>=0)throw mc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Nc(...t.split("."))._internalPath}catch{throw mc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mc(s,t,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new ut(Z.INVALID_ARGUMENT,g+s+y)}function B0(s,t){return s.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,i,r,o,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(q0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aw extends j0{data(){return super.data()}}function q0(s,t){return typeof t=="string"?um(s,t):t instanceof Nc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rw{convertValue(t,i="none"){switch(Va(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ia(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return xa(t,(o,c)=>{r[o]=this.convertValue(c,i)}),r}convertVectorValue(t){var i,r,o;const c=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[sc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>ge(d.doubleValue));return new ci(c)}convertGeoPoint(t){return new ui(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Ec(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ao(t));default:return null}}convertTimestamp(t){const i=Da(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Qt(u0(r),9688,{name:t});const o=new so(r.get(1),r.get(3)),c=new mt(r.popFirst(5));return o.isEqual(i)||ji(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Yu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class br extends j0{constructor(t,i,r,o,c,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(q0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}br._jsonSchemaVersion="firestore/documentSnapshot/1.0",br._jsonSchema={type:Ae("string",br._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Wu extends br{data(t={}){return super.data(t)}}class wr{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new Wu(this._firestore,this._userDataWriter,r.key,r,new Yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:ow(g.type),doc:y,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ow(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}wr._jsonSchemaVersion="firestore/querySnapshot/1.0",wr._jsonSchema={type:Ae("string",wr._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class uw extends rw{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function H0(s){s=Ra(s,Oc);const t=Ra(s.firestore,po),i=x0(t),r=new uw(t);return sw(s._query),Y2(i,s._query).then(o=>new wr(t,r,s,o))}function cw(s,t,i){s=Ra(s,Ie);const r=Ra(s.firestore,po),o=lw(s.converter,t);return cm(r,[tw(L0(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,qn.none())])}function hw(s,t,i,...r){s=Ra(s,Ie);const o=Ra(s.firestore,po),c=L0(o);let d;return d=typeof(t=hi(t))=="string"||t instanceof Nc?nw(c,"updateDoc",s._key,t,i,r):ew(c,"updateDoc",s._key,t),cm(o,[d.toMutation(s._key,qn.exists(!0))])}function F0(s){return cm(Ra(s.firestore,po),[new qd(s._key,qn.none())])}function cm(s,t){return function(r,o){const c=new Aa;return r.asyncQueue.enqueueAndForget(async()=>M2(await G2(r),o,c)),c.promise}(x0(s),t)}(function(t,i=!0){(function(o){Or=o})(kA),ba(new ki("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new po(new JA(r.getProvider("auth-internal")),new eS(d,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(_.options.projectId,A)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ri($y,Jy,t),ri($y,Jy,"esm2017")})();var fw="firebase",dw="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(fw,dw,"app");const G0="@firebase/installations",hm="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=1e4,Y0=`w:${hm}`,K0="FIS_v2",mw="https://firebaseinstallations.googleapis.com/v1",gw=60*60*1e3,pw="installations",yw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ss=new yc(pw,yw,_w);function X0(s){return s instanceof Ma&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0({projectId:s}){return`${mw}/projects/${s}/installations`}function $0(s){return{token:s.token,requestStatus:2,expiresIn:Ew(s.expiresIn),creationTime:Date.now()}}async function J0(s,t){const r=(await t.json()).error;return Ss.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function W0({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function vw(s,{refreshToken:t}){const i=W0(s);return i.append("Authorization",Tw(t)),i}async function tE(s){const t=await s();return t.status>=500&&t.status<600?s():t}function Ew(s){return Number(s.replace("s","000"))}function Tw(s){return`${K0} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=Z0(s),o=W0(s),c=t.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:K0,appId:s.appId,sdkVersion:Y0},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await tE(()=>fetch(r,g));if(y.ok){const _=await y.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:$0(_.authToken)}}else throw await J0("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(s){return new Promise(t=>{setTimeout(t,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=/^[cdef][\w-]{21}$/,wd="";function ww(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Rw(s);return bw.test(i)?i:wd}catch{return wd}}function Rw(s){return Sw(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function iE(s,t){const i=Uc(s);aE(i,t),Cw(i,t)}function aE(s,t){const i=nE.get(s);if(i)for(const r of i)r(t)}function Cw(s,t){const i=Dw();i&&i.postMessage({key:s,fid:t}),Iw()}let Es=null;function Dw(){return!Es&&"BroadcastChannel"in self&&(Es=new BroadcastChannel("[Firebase] FID Change"),Es.onmessage=s=>{aE(s.data.key,s.data.fid)}),Es}function Iw(){nE.size===0&&Es&&(Es.close(),Es=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebase-installations-database",Ow=1,bs="firebase-installations-store";let td=null;function fm(){return td||(td=uv(Vw,Ow,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(bs)}}})),td}async function gc(s,t){const i=Uc(s),o=(await fm()).transaction(bs,"readwrite"),c=o.objectStore(bs),d=await c.get(i);return await c.put(t,i),await o.done,(!d||d.fid!==t.fid)&&iE(s,t.fid),t}async function sE(s){const t=Uc(s),r=(await fm()).transaction(bs,"readwrite");await r.objectStore(bs).delete(t),await r.done}async function Pc(s,t){const i=Uc(s),o=(await fm()).transaction(bs,"readwrite"),c=o.objectStore(bs),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&iE(s,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(s){let t;const i=await Pc(s.appConfig,r=>{const o=Nw(r),c=Mw(s,o);return t=c.registrationPromise,c.installationEntry});return i.fid===wd?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Nw(s){const t=s||{fid:ww(),registrationStatus:0};return rE(t)}function Mw(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ss.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=xw(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Uw(s)}:{installationEntry:t}}async function xw(s,t){try{const i=await Aw(s,t);return gc(s.appConfig,i)}catch(i){throw X0(i)&&i.customData.serverCode===409?await sE(s.appConfig):await gc(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Uw(s){let t=await Y_(s.appConfig);for(;t.registrationStatus===1;)await eE(100),t=await Y_(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await dm(s);return r||i}return t}function Y_(s){return Pc(s,t=>{if(!t)throw Ss.create("installation-not-found");return rE(t)})}function rE(s){return Pw(s)?{fid:s.fid,registrationStatus:0}:s}function Pw(s){return s.registrationStatus===1&&s.registrationTime+Q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw({appConfig:s,heartbeatServiceProvider:t},i){const r=zw(s,i),o=vw(s,i),c=t.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:Y0,appId:s.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await tE(()=>fetch(r,g));if(y.ok){const _=await y.json();return $0(_)}else throw await J0("Generate Auth Token",y)}function zw(s,{fid:t}){return`${Z0(s)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(s,t=!1){let i;const r=await Pc(s.appConfig,c=>{if(!lE(c))throw Ss.create("not-registered");const d=c.authToken;if(!t&&jw(d))return c;if(d.requestStatus===1)return i=kw(s,t),c;{if(!navigator.onLine)throw Ss.create("app-offline");const g=Hw(c);return i=Bw(s,g),g}});return i?await i:r.authToken}async function kw(s,t){let i=await K_(s.appConfig);for(;i.authToken.requestStatus===1;)await eE(100),i=await K_(s.appConfig);const r=i.authToken;return r.requestStatus===0?mm(s,t):r}function K_(s){return Pc(s,t=>{if(!lE(t))throw Ss.create("not-registered");const i=t.authToken;return Fw(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Bw(s,t){try{const i=await Lw(s,t),r=Object.assign(Object.assign({},t),{authToken:i});return await gc(s.appConfig,r),i}catch(i){if(X0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await sE(s.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await gc(s.appConfig,r)}throw i}}function lE(s){return s!==void 0&&s.registrationStatus===2}function jw(s){return s.requestStatus===2&&!qw(s)}function qw(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+gw}function Hw(s){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:t})}function Fw(s){return s.requestStatus===1&&s.requestTime+Q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(s){const t=s,{installationEntry:i,registrationPromise:r}=await dm(t);return r?r.catch(console.error):mm(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(s,t=!1){const i=s;return await Yw(i),(await mm(i,t)).token}async function Yw(s){const{registrationPromise:t}=await dm(s);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(s){if(!s||!s.options)throw ed("App Configuration");if(!s.name)throw ed("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw ed(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function ed(s){return Ss.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="installations",Xw="installations-internal",Zw=s=>{const t=s.getProvider("app").getImmediate(),i=Kw(t),r=uo(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$w=s=>{const t=s.getProvider("app").getImmediate(),i=uo(t,oE).getImmediate();return{getId:()=>Gw(i),getToken:o=>Qw(i,o)}};function Jw(){ba(new ki(oE,Zw,"PUBLIC")),ba(new ki(Xw,$w,"PRIVATE"))}Jw();ri(G0,hm);ri(G0,hm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="analytics",Ww="firebase_id",tR="origin",eR=60*1e3,nR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Od("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new yc("analytics","Analytics",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(s){if(!s.startsWith(gm)){const t=En.create("invalid-gtag-resource",{gtagURL:s});return on.warn(t.message),""}return s}function uE(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function sR(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function rR(s,t){const i=sR("firebase-js-sdk-policy",{createScriptURL:aR}),r=document.createElement("script"),o=`${gm}?l=${s}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function lR(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function oR(s,t,i,r,o,c){const d=r[o];try{if(d)await t[d];else{const y=(await uE(i)).find(_=>_.measurementId===o);y&&await t[y.appId]}}catch(g){on.error(g)}s("config",o,c)}async function uR(s,t,i,r,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await uE(i);for(const y of d){const _=g.find(C=>C.measurementId===y),A=_&&t[_.appId];if(A)c.push(A);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),s("event",r,o||{})}catch(c){on.error(c)}}function cR(s,t,i,r){async function o(c,...d){try{if(c==="event"){const[g,y]=d;await uR(s,t,i,g,y)}else if(c==="config"){const[g,y]=d;await oR(s,t,i,r,g,y)}else if(c==="consent"){const[g,y]=d;s("consent",g,y)}else if(c==="get"){const[g,y,_]=d;s("get",g,y,_)}else if(c==="set"){const[g]=d;s("set",g)}else s(c,...d)}catch(g){on.error(g)}}return o}function hR(s,t,i,r,o){let c=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=cR(c,s,t,i),{gtagCore:c,wrappedGtag:window[o]}}function fR(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(gm)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=30,mR=1e3;class gR{constructor(t={},i=mR){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const cE=new gR;function pR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function yR(s){var t;const{appId:i,apiKey:r}=s,o={method:"GET",headers:pR(r)},c=nR.replace("{app-id}",i),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let g="";try{const y=await d.json();!((t=y.error)===null||t===void 0)&&t.message&&(g=y.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function _R(s,t=cE,i){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw En.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw En.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new TR;return setTimeout(async()=>{g.abort()},eR),hE({appId:r,apiKey:o,measurementId:c},d,g,t)}async function hE(s,{throttleEndTimeMillis:t,backoffCount:i},r,o=cE){var c;const{appId:d,measurementId:g}=s;try{await vR(r,t)}catch(y){if(g)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:g};throw y}try{const y=await yR(s);return o.deleteThrottleMetadata(d),y}catch(y){const _=y;if(!ER(_)){if(o.deleteThrottleMetadata(d),g)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw y}const A=Number((c=_==null?void 0:_.customData)===null||c===void 0?void 0:c.httpStatus)===503?jy(i,o.intervalMillis,dR):jy(i,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,C),on.debug(`Calling attemptFetch again in ${A} millis`),hE(s,C,r,o)}}function vR(s,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(c),r(En.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ER(s){if(!(s instanceof Ma)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class TR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function AR(s,t,i,r,o){if(o&&o.global){s("event",i,r);return}else{const c=await t,d=Object.assign(Object.assign({},r),{send_to:c});s("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(){if(sv())try{await rv()}catch(s){return on.warn(En.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return on.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bR(s,t,i,r,o,c,d){var g;const y=_R(s);y.then(j=>{i[j.measurementId]=j.appId,s.options.measurementId&&j.measurementId!==s.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>on.error(j)),t.push(y);const _=SR().then(j=>{if(j)return r.getId()}),[A,C]=await Promise.all([y,_]);fR(c)||rR(c,A.measurementId),o("js",new Date);const D=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return D[tR]="firebase",D.update=!0,C!=null&&(D[Ww]=C),o("config",A.measurementId,D),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.app=t}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},X_=[];const Z_={};let nd="dataLayer",RR="gtag",$_,fE,J_=!1;function CR(){const s=[];if(O1()&&s.push("This is a browser extension environment."),M1()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=En.create("invalid-analytics-context",{errorInfo:t});on.warn(i.message)}}function DR(s,t,i){CR();const r=s.options.appId;if(!r)throw En.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(to[r]!=null)throw En.create("already-exists",{id:r});if(!J_){lR(nd);const{wrappedGtag:c,gtagCore:d}=hR(to,X_,Z_,nd,RR);fE=c,$_=d,J_=!0}return to[r]=bR(s,X_,Z_,t,$_,nd,i),new wR(s)}function IR(s=hv()){s=hi(s);const t=uo(s,pc);return t.isInitialized()?t.getImmediate():VR(s)}function VR(s,t={}){const i=uo(s,pc);if(i.isInitialized()){const o=i.getImmediate();if(eo(t,i.getOptions()))return o;throw En.create("already-initialized")}return i.initialize({options:t})}function OR(s,t,i,r){s=hi(s),AR(fE,to[s.app.options.appId],t,i,r).catch(o=>on.error(o))}const W_="@firebase/analytics",tv="0.10.17";function NR(){ba(new ki(pc,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return DR(r,o,i)},"PUBLIC")),ba(new ki("analytics-internal",s,"PRIVATE")),ri(W_,tv),ri(W_,tv,"esm2017");function s(t){try{const i=t.getProvider(pc).getImmediate();return{logEvent:(r,o,c)=>OR(i,r,o,c)}}catch(i){throw En.create("interop-component-reg-failed",{reason:i})}}}NR();const MR={apiKey:"AIzaSyCSquv_Q4h-uMn6a8SJ-AnI4KQcNKjk7Og",authDomain:"my-react-app-firebase-793b1.firebaseapp.com",projectId:"my-react-app-firebase-793b1",storageBucket:"my-react-app-firebase-793b1.firebasestorage.app",messagingSenderId:"525119036648",appId:"1:525119036648:web:2e8484125bf9069d473d5d",measurementId:"G-54TSXS7PJK"},dE=cv(MR);IR(dE);const yo=X2(dE);async function xR(s,t,i){const r=sm(yo,i,s);await hw(r,t)}async function UR(s){try{const t=await H0(M0(yo,s));await Promise.all(t.docs.map(i=>F0(i.ref)))}catch(t){throw console.error("Error cleaning all documents:",t),t}}async function PR(s,t){await F0(sm(yo,s,t))}async function ev(s){const t=await H0(M0(yo,s)),i=[];return t.forEach(r=>{i.push({id:r.id,...r.data()})}),i}async function LR(s,t,i){const r=sm(yo,s,t);await cw(r,i)}const pm="https://workoutsBackend-qta1.onrender.com/records";async function mE(){return(await(await fetch(`${pm}/getToken/`,{method:"GET",credentials:"include"})).json()).csrftoken}function zR(){try{return localStorage.setItem("__test__","1"),localStorage.removeItem("__test__"),!1}catch{return!0}}function kR(){const s=JSON.parse(sessionStorage.getItem("sessionid")),t=JSON.parse(sessionStorage.getItem("csrftoken"));return{"Content-Type":"application/json","X-SESSIONID":s||"","X-CSRFToken":t||""}}async function gE(s,t={}){let i;try{const r=await fetch(s,{method:"POST",headers:kR(),credentials:"include",body:JSON.stringify(t)}),o=r.headers.get("content-type");o&&o.includes("application/json")?i=await r.json():i=await r.text(),r.ok?sessionStorage.setItem("Logged-In",!0):console.log("Server threw an error",i)}catch(r){console.log("Error: ",r)}return i}async function BR(s=""){if(s==""){let o=!1;do s=prompt("Enter username: ").trim(),s==""?(alert("You must enter something"),o=!0):s==null?(alert("You can't cancel"),o=!0):o=!1;while(o)}const t={username:s},i=await mE();sessionStorage.setItem("csrftoken",JSON.stringify(i));const r=await gE(`${pm}/GetorMakeUser/`,t);if(r.status){const o=r.sessionid;sessionStorage.setItem("sessionid",JSON.stringify(o)),zR()?sessionStorage.setItem("username",JSON.stringify(r.username)):localStorage.setItem("username",JSON.stringify(r.username))}else console.log("Login failed")}async function jR(s){const t={username:s},i=await mE();sessionStorage.setItem("csrftoken",JSON.stringify(i));const r=await gE(`${pm}/login/`,t);if(r.message){const o=r.sessionid;sessionStorage.setItem("sessionid",JSON.stringify(o))}else console.log("Login failed")}function qR(){const[s,t]=Bt.useState(""),[i,r]=Bt.useState(!1),[o,c]=Bt.useState(0),[d,g]=Bt.useState(0),[y,_]=Bt.useState([]),[A,C]=Bt.useState(!1),[D,j]=Bt.useState(!1);function X(){try{let W;if(D?W=JSON.parse(sessionStorage.getItem("Tasks"))||[]:W=JSON.parse(localStorage.getItem("Tasks"))||[],Object.keys(W).length!==0){const ot=JSON.parse(W);_(ot)}else _([])}catch(W){console.error("Failed to fetch data",W),r(!1)}}async function tt(){const W=await ev();try{_(W||[]),C(!0)}catch(ot){console.error("Failed to fetch data",ot),r(!1),C(!1)}}Bt.useEffect(()=>{let W,ot;D?(W=JSON.parse(sessionStorage.getItem("username"))||"",ot=JSON.parse(sessionStorage.getItem("Tasks"))||[]):(W=JSON.parse(localStorage.getItem("username"))||"",ot=JSON.parse(localStorage.getItem("Tasks"))||[]),W===""?BR():jR(W),Object.keys(ot).length===0?tt():X()},[s]);async function $(){const W=await ev(s),ot=W.map(At=>At.id),Ht=y.map(At=>At.id);for(const At of y)if(ot.includes(At.id)){const Ge=W.find(Un=>Un.id===At.id);(Ge.name!=At.name||Ge.isChecked!=At.isChecked||Ge.myDay!=At.myDay||Ge.isStarred!=At.isStarred)&&await xR(At.id,{name:At.name??"",isChecked:At.isChecked??!1,myDay:At.myDay??!1,isStarred:At.isStarred??!1},s)}else await LR(s,At.id,{name:At.name??"",isChecked:At.isChecked??!1,myDay:At.myDay??!1,isStarred:At.isStarred??!1});for(const At of W)Ht.includes(At.id)||await PR(s,At.id);r(!0)}function gt(){localStorage.setItem("Tasks",JSON.stringify(y))}function at(){if(!A)return;const W=setTimeout(()=>{$().catch(ot=>{console.log("Error "+ot),r(!1)})},1e3);return()=>{clearTimeout(W)}}Bt.useEffect(()=>{gt(),A&&s&&at()},[y,s,A]);const[ht,Vt]=Bt.useState(!1);async function Tt(){if(prompt("Enter secret admin password")!=="1234")alert("You don't have permission to clear the cloud storage");else try{await UR(s),_([]),Vt(!0)}catch(ot){console.error("Failed to clear Firestore:",ot),r(!1)}}Bt.useEffect(()=>{ht&&setTimeout(()=>{r(!0),Vt(!1)},300)},[ht]);function xt(W,ot){const Ht=y.map(At=>W===At.id?{...At,name:ot}:At);_(Ht)}function M(W){const ot=y.filter(Ht=>W!==Ht.id);_(ot)}function S(W){if(W!=""){const ot={id:`todo-${e1()}`,name:W,isChecked:!1,myDay:!1,isStarred:!1};_([...y,ot])}else alert("You must enter a task")}function w(W){const ot=y.map(Ht=>W===Ht.id?{...Ht,myDay:!Ht.myDay}:Ht);_(ot)}function O(W){const ot=y.map(Ht=>W===Ht.id?{...Ht,isStarred:!Ht.isStarred}:Ht);_(ot)}const[N,x]=Bt.useState(!1);function R(W){let ot=!0;const Ht=y.map(At=>(W===At.id&&At.isChecked&&(ot=!1),W===At.id?{...At,isChecked:!At.isChecked}:At));_(Ht),x(!!ot)}Bt.useEffect(()=>{if(N){const W=setTimeout(()=>x(!1),3e3);return()=>clearTimeout(W)}},[N]);let pe="tasks",ne="tasks";const[H,nt]=Bt.useState("All"),ct={All:()=>!0,Active:W=>!W.isChecked,Completed:W=>W.isChecked,Clear_Storage:()=>!0,MyDay:W=>W.myDay,importantTasks:W=>W.isStarred&&!W.isChecked},I=Object.keys(ct).map(W=>lt.jsx(WT,{val:W,isPressed:W===H,setFilter:nt,setValues:_,handleClearStorage:Tt},W)),K=y.filter(ct[H]);Bt.useEffect(()=>{c(K.length)},[K.length]),o==1&&(pe="task"),d==1&&(ne="task");let it=!1;o==0&&(it=!0);function J(W){const ot=Bt.useRef();return Bt.useEffect(()=>{ot.current=W}),ot.current}const dt=Bt.useRef(null),wt=J(o);Bt.useEffect(()=>{o<wt&&dt.current.focus()},[o,wt]);function vt(W){if(W.includes("https")||W.includes("http")){const Ht=W.indexOf("http"),At=W.substring(Ht),Ge=W.substring(0,Ht).trim(),Un=At.split("/")[2]||"link";return{text:Ge,link:At,alias:Un}}else return null}return Bt.useEffect(()=>{if(H=="MyDay"){let W=0;K.forEach(ot=>{console.log(ot.isChecked),ot.isChecked&&W++}),g(W),c(K.length-W)}},[y,H]),lt.jsxs("div",{className:"todoapp stack-la  rge",children:[lt.jsx("h1",{children:"Personal To Do list"}),N&&lt.jsx("div",{id:"confetti",children:lt.jsx(h1,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:800,gravity:.95})}),lt.jsx($T,{id:"new-todo-input",type:"text",addTask:S}),lt.jsx("div",{className:"filtering filters btn-group stack-exception",children:I}),lt.jsxs("h2",{id:"list-heading",tabIndex:"-1",ref:dt,children:[H=="MyDay"?lt.jsxs(lt.Fragment,{children:[d," ",ne," completed",lt.jsx("br",{})]}):lt.jsx(lt.Fragment,{}),it?lt.jsx(lt.Fragment,{children:"No tasks remaining"}):lt.jsxs(lt.Fragment,{children:[o," ",pe," remaining"]})]}),lt.jsx("ul",{role:"list",className:"todo-list stack-large stack-exception","aria-labelledby":"list-heading",children:K.map(W=>lt.jsx("li",{className:"todo stack-small",children:lt.jsx(t1,{id:W.id,name:W.name,myDay:W.myDay,isStarred:W.isStarred,isChecked:W.isChecked,toggleTaskCompleted:R,deleteTask:M,editTask:xt,detectHyperlink:vt,toggleTomyDay:w,toggleStarred:O})},W.id))})]})}ZT.createRoot(document.getElementById("root")).render(lt.jsx(qR,{}));
