(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function LT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zf={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function zT(){if(Ry)return Hl;Ry=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=t,Hl.jsx=i,Hl.jsxs=i,Hl}var Cy;function kT(){return Cy||(Cy=1,zf.exports=zT()),zf.exports}var pt=kT(),kf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function BT(){if(Dy)return St;Dy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function $(D,H,nt){this.props=D,this.context=H,this.refs=it,this.updater=nt||j}$.prototype.isReactComponent={},$.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function mt(){}mt.prototype=$.prototype;function st(D,H,nt){this.props=D,this.context=H,this.refs=it,this.updater=nt||j}var lt=st.prototype=new mt;lt.constructor=st,Z(lt,$.prototype),lt.isPureReactComponent=!0;var bt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function N(D,H,nt,W,ct,Ct){return nt=Ct.ref,{$$typeof:r,type:D,key:H,ref:nt!==void 0?nt:null,props:Ct}}function S(D,H){return N(D.type,H,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return H[nt]})}var M=/\/+/g;function U(D,H){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):H.toString(36)}function w(){}function ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Wt(D,H,nt,W,ct){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Ct){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case r:case t:vt=!0;break;case A:return vt=D._init,Wt(vt(D._payload),H,nt,W,ct)}}if(vt)return ct=ct(D),vt=W===""?"."+U(D,0):W,bt(ct)?(nt="",vt!=null&&(nt=vt.replace(M,"$&/")+"/"),Wt(ct,H,nt,"",function(kn){return kn})):ct!=null&&(R(ct)&&(ct=S(ct,nt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(M,"$&/")+"/")+vt)),H.push(ct)),1;vt=0;var De=W===""?".":W+":";if(bt(D))for(var $t=0;$t<D.length;$t++)W=D[$t],Ct=De+U(W,$t),vt+=Wt(W,H,nt,Ct,ct);else if($t=I(D),typeof $t=="function")for(D=$t.call(D),$t=0;!(W=D.next()).done;)W=W.value,Ct=De+U(W,$t++),vt+=Wt(W,H,nt,Ct,ct);else if(Ct==="object"){if(typeof D.then=="function")return Wt(ve(D),H,nt,W,ct);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return vt}function F(D,H,nt){if(D==null)return D;var W=[],ct=0;return Wt(D,W,"","",function(Ct){return H.call(nt,Ct,ct++)}),W}function et(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var J=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ft(){}return St.Children={map:F,forEach:function(D,H,nt){F(D,function(){H.apply(this,arguments)},nt)},count:function(D){var H=0;return F(D,function(){H++}),H},toArray:function(D){return F(D,function(H){return H})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=$,St.Fragment=i,St.Profiler=o,St.PureComponent=st,St.StrictMode=s,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Tt.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,H,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=Z({},D.props),ct=D.key,Ct=void 0;if(H!=null)for(vt in H.ref!==void 0&&(Ct=void 0),H.key!==void 0&&(ct=""+H.key),H)!Nt.call(H,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&H.ref===void 0||(W[vt]=H[vt]);var vt=arguments.length-2;if(vt===1)W.children=nt;else if(1<vt){for(var De=Array(vt),$t=0;$t<vt;$t++)De[$t]=arguments[$t+2];W.children=De}return N(D.type,ct,void 0,void 0,Ct,W)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,H,nt){var W,ct={},Ct=null;if(H!=null)for(W in H.key!==void 0&&(Ct=""+H.key),H)Nt.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=H[W]);var vt=arguments.length-2;if(vt===1)ct.children=nt;else if(1<vt){for(var De=Array(vt),$t=0;$t<vt;$t++)De[$t]=arguments[$t+2];ct.children=De}if(D&&D.defaultProps)for(W in vt=D.defaultProps,vt)ct[W]===void 0&&(ct[W]=vt[W]);return N(D,Ct,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=R,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},St.memo=function(D,H){return{$$typeof:v,type:D,compare:H===void 0?null:H}},St.startTransition=function(D){var H=Tt.T,nt={};Tt.T=nt;try{var W=D(),ct=Tt.S;ct!==null&&ct(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ft,J)}catch(Ct){J(Ct)}finally{Tt.T=H}},St.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},St.use=function(D){return Tt.H.use(D)},St.useActionState=function(D,H,nt){return Tt.H.useActionState(D,H,nt)},St.useCallback=function(D,H){return Tt.H.useCallback(D,H)},St.useContext=function(D){return Tt.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,H){return Tt.H.useDeferredValue(D,H)},St.useEffect=function(D,H,nt){var W=Tt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,H)},St.useId=function(){return Tt.H.useId()},St.useImperativeHandle=function(D,H,nt){return Tt.H.useImperativeHandle(D,H,nt)},St.useInsertionEffect=function(D,H){return Tt.H.useInsertionEffect(D,H)},St.useLayoutEffect=function(D,H){return Tt.H.useLayoutEffect(D,H)},St.useMemo=function(D,H){return Tt.H.useMemo(D,H)},St.useOptimistic=function(D,H){return Tt.H.useOptimistic(D,H)},St.useReducer=function(D,H,nt){return Tt.H.useReducer(D,H,nt)},St.useRef=function(D){return Tt.H.useRef(D)},St.useState=function(D){return Tt.H.useState(D)},St.useSyncExternalStore=function(D,H,nt){return Tt.H.useSyncExternalStore(D,H,nt)},St.useTransition=function(){return Tt.H.useTransition()},St.version="19.1.0",St}var Iy;function Rd(){return Iy||(Iy=1,kf.exports=BT()),kf.exports}var Xt=Rd();const tc=LT(Xt);var Bf={exports:{}},Fl={},qf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function qT(){return Vy||(Vy=1,function(r){function t(F,et){var J=F.length;F.push(et);t:for(;0<J;){var ft=J-1>>>1,D=F[ft];if(0<o(D,et))F[ft]=et,F[J]=D,J=ft;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],J=F.pop();if(J!==et){F[0]=J;t:for(var ft=0,D=F.length,H=D>>>1;ft<H;){var nt=2*(ft+1)-1,W=F[nt],ct=nt+1,Ct=F[ct];if(0>o(W,J))ct<D&&0>o(Ct,W)?(F[ft]=Ct,F[ct]=J,ft=ct):(F[ft]=W,F[nt]=J,ft=nt);else if(ct<D&&0>o(Ct,J))F[ft]=Ct,F[ct]=J,ft=ct;else break t}}return et}function o(F,et){var J=F.sortIndex-et.sortIndex;return J!==0?J:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],v=[],A=1,C=null,I=3,j=!1,Z=!1,it=!1,$=!1,mt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function bt(F){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=F)s(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function Tt(F){if(it=!1,bt(F),!Z)if(i(y)!==null)Z=!0,Nt||(Nt=!0,U());else{var et=i(v);et!==null&&Wt(Tt,et.startTime-F)}}var Nt=!1,N=-1,S=5,R=-1;function O(){return $?!0:!(r.unstable_now()-R<S)}function M(){if($=!1,Nt){var F=r.unstable_now();R=F;var et=!0;try{t:{Z=!1,it&&(it=!1,st(N),N=-1),j=!0;var J=I;try{e:{for(bt(F),C=i(y);C!==null&&!(C.expirationTime>F&&O());){var ft=C.callback;if(typeof ft=="function"){C.callback=null,I=C.priorityLevel;var D=ft(C.expirationTime<=F);if(F=r.unstable_now(),typeof D=="function"){C.callback=D,bt(F),et=!0;break e}C===i(y)&&s(y),bt(F)}else s(y);C=i(y)}if(C!==null)et=!0;else{var H=i(v);H!==null&&Wt(Tt,H.startTime-F),et=!1}}break t}finally{C=null,I=J,j=!1}et=void 0}}finally{et?U():Nt=!1}}}var U;if(typeof lt=="function")U=function(){lt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ve=w.port2;w.port1.onmessage=M,U=function(){ve.postMessage(null)}}else U=function(){mt(M,0)};function Wt(F,et){N=mt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(F){switch(I){case 1:case 2:case 3:var et=3;break;default:et=I}var J=I;I=et;try{return F()}finally{I=J}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=I;I=F;try{return et()}finally{I=J}},r.unstable_scheduleCallback=function(F,et,J){var ft=r.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ft+J:ft):J=ft,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=J+D,F={id:A++,callback:et,priorityLevel:F,startTime:J,expirationTime:D,sortIndex:-1},J>ft?(F.sortIndex=J,t(v,F),i(y)===null&&F===i(v)&&(it?(st(N),N=-1):it=!0,Wt(Tt,J-ft))):(F.sortIndex=D,t(y,F),Z||j||(Z=!0,Nt||(Nt=!0,U()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var et=I;return function(){var J=I;I=et;try{return F.apply(this,arguments)}finally{I=J}}}}(jf)),jf}var Oy;function jT(){return Oy||(Oy=1,qf.exports=qT()),qf.exports}var Hf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function HT(){if(Ny)return Ge;Ny=1;var r=Rd();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:y,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},Ge.flushSync=function(y){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=A,s.d.f()}},Ge.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},Ge.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ge.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:j}):A==="script"&&s.d.X(y,{crossOrigin:C,integrity:I,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},Ge.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);s.d.L(y,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},Ge.requestFormReset=function(y){s.d.r(y)},Ge.unstable_batchedUpdates=function(y,v){return y(v)},Ge.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var My;function FT(){if(My)return Hf.exports;My=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hf.exports=HT(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function GT(){if(xy)return Fl;xy=1;var r=jT(),t=Rd(),i=FT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=f;break}if(E===l){_=!0,l=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,l=h;break}if(E===l){_=!0,l=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case $:return"Profiler";case it:return"StrictMode";case Tt:return"Suspense";case Nt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case st:return(e._context.displayName||"Context")+".Consumer";case bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ve(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ve(e(n))}catch{}}return null}var Wt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ft=[],D=-1;function H(e){return{current:e}}function nt(e){0>D||(e.current=ft[D],ft[D]=null,D--)}function W(e,n){D++,ft[D]=e.current,e.current=n}var ct=H(null),Ct=H(null),vt=H(null),De=H(null);function $t(e,n){switch(W(vt,n),W(Ct,e),W(ct,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ty(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ty(n),e=ey(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ct),W(ct,e)}function kn(){nt(ct),nt(Ct),nt(vt)}function qi(e){e.memoizedState!==null&&W(De,e);var n=ct.current,a=ey(n,e.type);n!==a&&(W(Ct,e),W(ct,a))}function hi(e){Ct.current===e&&(nt(ct),nt(Ct)),De.current===e&&(nt(De),zl._currentValue=J)}var Ua=Object.prototype.hasOwnProperty,Pa=r.unstable_scheduleCallback,La=r.unstable_cancelCallback,Us=r.unstable_shouldYield,_o=r.unstable_requestPaint,_n=r.unstable_now,Lc=r.unstable_getCurrentPriorityLevel,Ps=r.unstable_ImmediatePriority,Cr=r.unstable_UserBlockingPriority,za=r.unstable_NormalPriority,zc=r.unstable_LowPriority,Dr=r.unstable_IdlePriority,Ls=r.log,vo=r.unstable_setDisableYieldValue,se=null,jt=null;function sn(e){if(typeof Ls=="function"&&vo(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,e)}catch{}}var He=Math.clz32?Math.clz32:ka,Eo=Math.log,kc=Math.LN2;function ka(e){return e>>>=0,e===0?32:31-(Eo(e)/kc|0)|0}var Ba=256,qa=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Nn(l):(_&=E,_!==0?h=Nn(_):a||(a=E&~e,a!==0&&(h=Nn(a))))):(E=l&~f,E!==0?h=Nn(E):_!==0?h=Nn(_):a||(a=l&~e,a!==0&&(h=Nn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ja(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var e=Ba;return Ba<<=1,(Ba&4194048)===0&&(Ba=256),e}function Bs(){var e=qa;return qa<<=1,(qa&62914560)===0&&(qa=4194304),e}function fi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function di(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qs(e,n,a,l,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-He(a),Y=1<<G;E[G]=0,b[G]=-1;var k=z[G];if(k!==null)for(z[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}a&=~Y}l!==0&&Bn(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Bn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-He(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function js(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-He(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Ey(e.type))}function To(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,de="__reactProps$"+ne,vn="__reactContainer$"+ne,Hs="__reactEvents$"+ne,Bc="__reactListeners$"+ne,Fi="__reactHandles$"+ne,Ao="__reactResources$"+ne,Ha="__reactMarker$"+ne;function Gi(e){delete e[Ee],delete e[de],delete e[Hs],delete e[Bc],delete e[Fi]}function mi(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vn]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=ry(e);e!==null;){if(a=e[Ee])return a;e=ry(e)}return n}e=a,a=e.parentNode}return null}function qn(e){if(e=e[Ee]||e[vn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function jn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Xe(e){var n=e[Ao];return n||(n=e[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(e){e[Ha]=!0}var Fs=new Set,Or={};function Mn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(Or[e]=n,e=0;e<n.length;e++)Fs.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Fa={};function wo(e){return Ua.call(Fa,e)?!0:Ua.call(bo,e)?!1:So.test(e)?Fa[e]=!0:(bo[e]=!0,!1)}function Qi(e,n,a){if(wo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Hn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Ga,Ro;function pi(e){if(Ga===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ga=n&&n[1]||"",Ro=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+e+Ro}var Nr=!1;function Mr(e,n){if(!e||Nr)return"";Nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var k=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){k=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){k=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),z=E.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===z.length)for(l=b.length-1,h=z.length-1;1<=l&&0<=h&&b[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==z[h]){var G=`
`+b[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{Nr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pi(a):""}function Gs(e){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Mr(e.type,!1);case 11:return Mr(e.type.render,!1);case 1:return Mr(e.type,!0);case 31:return pi("Activity");default:return""}}function xr(e){try{var n="";do n+=Gs(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qc(e){var n=Qs(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ur(e){e._valueTracker||(e._valueTracker=qc(e))}function Ys(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Qs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jc=/[\n"\\]/g;function me(e){return e.replace(jc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,a,l,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Yi(e,_,Ze(n)):a!=null?Yi(e,_,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function Ya(e,n,a,l,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Yi(e,n,a){n==="number"&&Qa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yi(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Gt(e,n,a){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ze(a):""}function Ka(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function En(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Xa.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Ks(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Co(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function Xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(e){return Fc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _i=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function Zs(e){var n=qn(e);if(n&&(e=n.stateNode)){var a=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[de]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Ys(l)}break t;case"textarea":Gt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&yi(e,!!a.multiple,n,!1)}}}var Fn=!1;function Do(e,n,a){if(Fn)return e(n,a);Fn=!0;try{var l=e(n);return l}finally{if(Fn=!1,(vi!==null||Ei!==null)&&(Tu(),vi&&(n=vi,e=Ei,Ei=vi=null,Zs(n),e)))for(n=0;n<e.length;n++)Zs(e[n])}}function Za(e,n){var a=e.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(xn)try{var $a={};Object.defineProperty($a,"passive",{get:function(){An=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{An=!1}var Gn=null,Ki=null,Ti=null;function $s(){if(Ti)return Ti;var e,n=Ki,a=n.length,l,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return Ti=h.slice(e,1<l?1-l:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function Js(){return!1}function Ie(e){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:Js,this.isPropagationStopped=Js,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=Ie(Bt),Ja=A({},Bt,{view:0,detail:0}),Io=Ie(Ja),zr,kr,Kn,Wa=A({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(zr=e.screenX-Kn.screenX,kr=e.screenY-Kn.screenY):kr=zr=0,Kn=e),zr)},movementY:function(e){return"movementY"in e?e.movementY:kr}}),Sn=Ie(Wa),Vo=A({},Wa,{dataTransfer:0}),Gc=Ie(Vo),tr=A({},Ja,{relatedTarget:0}),Br=Ie(tr),Ws=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),qr=Ie(Ws),Oo=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jr=Ie(Oo),Qc=A({},Bt,{data:0}),tl=Ie(Qc),er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mo[e])?!!n[e]:!1}function nr(){return el}var xo=A({},Ja,{key:function(e){if(e.key){var n=er[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?No[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hr=Ie(xo),Uo=A({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Ie(Uo),Ai=A({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),Po=Ie(Ai),Lo=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zo=Ie(Lo),ko=A({},Wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fr=Ie(ko),$e=A({},Bt,{newState:0,oldState:0}),Bo=Ie($e),qo=[9,13,27,32],Xn=xn&&"CompositionEvent"in window,u=null;xn&&"documentMode"in document&&(u=document.documentMode);var m=xn&&"TextEvent"in window&&!u,p=xn&&(!Xn||u&&8<u&&11>=u),T=" ",P=!1;function q(e,n){switch(e){case"keyup":return qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Te(e,n){switch(e){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return e=n.data,e===T&&P?null:e;default:return null}}function xt(e,n){if(Mt)return e==="compositionend"||!Xn&&q(e,n)?(e=$s(),Ti=Ki=Gn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ve[e.type]:n==="textarea"}function Si(e,n,a,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,n=Cu(n,"onChange"),0<n.length&&(a=new Lr("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Pe=null,Zn=null;function il(e){Xp(e,0)}function jo(e){var n=jn(e);if(Ys(n))return e}function pm(e,n){if(e==="change")return n}var ym=!1;if(xn){var Yc;if(xn){var Kc="oninput"in document;if(!Kc){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Kc=typeof _m.oninput=="function"}Yc=Kc}else Yc=!1;ym=Yc&&(!document.documentMode||9<document.documentMode)}function vm(){Pe&&(Pe.detachEvent("onpropertychange",Em),Zn=Pe=null)}function Em(e){if(e.propertyName==="value"&&jo(Zn)){var n=[];Si(n,Zn,e,Tn(e)),Do(il,n)}}function dE(e,n,a){e==="focusin"?(vm(),Pe=n,Zn=a,Pe.attachEvent("onpropertychange",Em)):e==="focusout"&&vm()}function mE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Zn)}function gE(e,n){if(e==="click")return jo(n)}function pE(e,n){if(e==="input"||e==="change")return jo(n)}function yE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:yE;function al(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ua.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Am(e,n){var a=Tm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tm(a)}}function Sm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Qa(e.document)}return n}function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var _E=xn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Zc=null,rl=null,$c=!1;function wm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$c||Gr==null||Gr!==Qa(l)||(l=Gr,"selectionStart"in l&&Xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&al(rl,l)||(rl=l,l=Cu(Zc,"onSelect"),0<l.length&&(n=new Lr("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Gr)))}function ir(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Qr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Jc={},Rm={};xn&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function ar(e){if(Jc[e])return Jc[e];if(!Qr[e])return e;var n=Qr[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Rm)return Jc[e]=n[a];return e}var Cm=ar("animationend"),Dm=ar("animationiteration"),Im=ar("animationstart"),vE=ar("transitionrun"),EE=ar("transitionstart"),TE=ar("transitioncancel"),Vm=ar("transitionend"),Om=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function Un(e,n){Om.set(e,n),Mn(n,[e])}var Nm=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var a=Nm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:xr(n)},Nm.set(e,n),n)}return{value:e,source:n,stack:xr(n)}}var wn=[],Yr=0,th=0;function Ho(){for(var e=Yr,n=th=Yr=0;n<e;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Mm(a,h,f)}}function Fo(e,n,a,l){wn[Yr++]=e,wn[Yr++]=n,wn[Yr++]=a,wn[Yr++]=l,th|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function eh(e,n,a,l){return Fo(e,n,a,l),Go(e)}function Kr(e,n){return Fo(e,null,null,n),Go(e)}function Mm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-He(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Go(e){if(50<Vl)throw Vl=0,of=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Xr={};function AE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,a,l){return new AE(e,n,a,l)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var a=e.alternate;return a===null?(a=un(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Qo(e,n,a,l,h,f){var _=0;if(l=e,typeof e=="function")nh(e)&&(_=1);else if(typeof e=="string")_=bT(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=un(31,a,n,h),e.elementType=R,e.lanes=f,e;case Z:return rr(a.children,h,f,n);case it:_=8,h|=24;break;case $:return e=un(12,a,n,h|2),e.elementType=$,e.lanes=f,e;case Tt:return e=un(13,a,n,h),e.elementType=Tt,e.lanes=f,e;case Nt:return e=un(19,a,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:case lt:_=10;break t;case st:_=9;break t;case bt:_=11;break t;case N:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=un(_,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function rr(e,n,a,l){return e=un(7,e,l,n),e.lanes=a,e}function ih(e,n,a){return e=un(6,e,null,n),e.lanes=a,e}function ah(e,n,a){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zr=[],$r=0,Yo=null,Ko=0,Rn=[],Cn=0,sr=null,wi=1,Ri="";function lr(e,n){Zr[$r++]=Ko,Zr[$r++]=Yo,Yo=e,Ko=n}function Um(e,n,a){Rn[Cn++]=wi,Rn[Cn++]=Ri,Rn[Cn++]=sr,sr=e;var l=wi;e=Ri;var h=32-He(l)-1;l&=~(1<<h),a+=1;var f=32-He(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-He(n)+h|a<<h|l,Ri=f+e}else wi=1<<f|a<<h|l,Ri=e}function rh(e){e.return!==null&&(lr(e,1),Um(e,1,0))}function sh(e){for(;e===Yo;)Yo=Zr[--$r],Zr[$r]=null,Ko=Zr[--$r],Zr[$r]=null;for(;e===sr;)sr=Rn[--Cn],Rn[Cn]=null,Ri=Rn[--Cn],Rn[Cn]=null,wi=Rn[--Cn],Rn[Cn]=null}var Je=null,le=null,kt=!1,or=null,$n=!1,lh=Error(s(519));function ur(e){var n=Error(s(418,""));throw ol(bn(n,e)),lh}function Pm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[de]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Vt(Nl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Ya(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ur(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ka(n,l.value,l.defaultValue,l.children),Ur(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Wp(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||ur(e)}function Lm(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Je=Je.return}}function sl(e){if(e!==Je)return!1;if(!kt)return Lm(e),kt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bf(e.type,e.memoizedProps)),a=!a),a&&le&&ur(e),Lm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){le=Ln(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}le=null}}else n===27?(n=le,ca(e.type)?(e=Df,Df=null,le=e):le=n):le=Je?Ln(e.stateNode.nextSibling):null;return!0}function ll(){le=Je=null,kt=!1}function zm(){var e=or;return e!==null&&(en===null?en=e:en.push.apply(en,e),or=null),e}function ol(e){or===null?or=[e]:or.push(e)}var oh=H(null),cr=null,Ci=null;function Xi(e,n,a){W(oh,n._currentValue),n._currentValue=a}function Di(e){e._currentValue=oh.current,nt(oh)}function uh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function ch(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uh(f.return,a,e),l||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),uh(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ul(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;on(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===De.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(zl):e=[zl])}h=h.return}e!==null&&ch(n,e,a,l),n.flags|=262144}function Xo(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hr(e){cr=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return km(cr,e)}function Zo(e,n){return cr===null&&hr(e),km(e,n)}function km(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(e===null)throw Error(s(308));Ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ci=Ci.next=n;return a}var SE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},bE=r.unstable_scheduleCallback,wE=r.unstable_NormalPriority,Se={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new SE,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&bE(wE,function(){e.controller.abort()})}var hl=null,fh=0,Jr=0,Wr=null;function RE(e,n){if(hl===null){var a=hl=[];fh=0,Jr=gf(),Wr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fh++,n.then(Bm,Bm),n}function Bm(){if(--fh===0&&hl!==null){Wr!==null&&(Wr.status="fulfilled");var e=hl;hl=null,Jr=0,Wr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function CE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qm=F.S;F.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(e,n),qm!==null&&qm(e,n)};var fr=H(null);function dh(){var e=fr.current;return e!==null?e:Jt.pooledCache}function $o(e,n){n===null?W(fr,fr.current):W(fr,n.pool)}function jm(){var e=dh();return e===null?null:{parent:Se._currentValue,pool:e}}var fl=Error(s(460)),Hm=Error(s(474)),Jo=Error(s(542)),mh={then:function(){}};function Fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wo(){}function Gm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Wo,Wo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ym(e),e;default:if(typeof n.status=="string")n.then(Wo,Wo);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ym(e),e}throw dl=n,fl}}var dl=null;function Qm(){if(dl===null)throw Error(s(459));var e=dl;return dl=null,e}function Ym(e){if(e===fl||e===Jo)throw Error(s(483))}var Zi=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Go(e),Mm(e,null,a),n}return Fo(e,l,n,a),Go(e)}function ml(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,js(e,a)}}function yh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var _h=!1;function gl(){if(_h){var e=Wr;if(e!==null)throw e}}function pl(e,n,a,l){_h=!1;var h=e.updateQueue;Zi=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,z=b.next;b.next=null,_===null?f=z:_.next=z,_=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=b))}if(f!==null){var Y=h.baseState;_=0,G=z=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Ut&k)===k:(l&k)===k){k!==0&&k===Jr&&(_h=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=e,dt=E;k=n;var Kt=a;switch(dt.tag){case 1:if(_t=dt.payload,typeof _t=="function"){Y=_t.call(Kt,Y,k);break t}Y=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=dt.payload,k=typeof _t=="function"?_t.call(Kt,Y,k):_t,k==null)break t;Y=A({},Y,k);break t;case 2:Zi=!0}}k=E.callback,k!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,b=Y):G=G.next=B,_|=k;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Y),h.baseState=b,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),sa|=_,e.lanes=_,e.memoizedState=Y}}function Km(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Xm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Km(a[e],n)}var ts=H(null),tu=H(0);function Zm(e,n){e=Ui,W(tu,e),W(ts,n),Ui=e|n.baseLanes}function vh(){W(tu,Ui),W(ts,ts.current)}function Eh(){Ui=tu.current,nt(ts),nt(tu)}var Wi=0,wt=null,Qt=null,ge=null,eu=!1,es=!1,dr=!1,nu=0,yl=0,ns=null,DE=0;function ce(){throw Error(s(321))}function Th(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!on(e[a],n[a]))return!1;return!0}function Ah(e,n,a,l,h,f){return Wi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Mg:xg,dr=!1,f=a(l,h),dr=!1,es&&(f=Jm(n,a,l,h)),$m(e),f}function $m(e){F.H=ou;var n=Qt!==null&&Qt.next!==null;if(Wi=0,ge=Qt=wt=null,eu=!1,yl=0,ns=null,n)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Xo(e)&&(Oe=!0))}function Jm(e,n,a,l){wt=e;var h=0;do{if(es&&(ns=null),yl=0,es=!1,25<=h)throw Error(s(301));if(h+=1,ge=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=UE,f=n(a,l)}while(es);return f}function IE(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?_l(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(wt.flags|=1024),n}function Sh(){var e=nu!==0;return nu=0,e}function bh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wh(e){if(eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}eu=!1}Wi=0,ge=Qt=wt=null,es=!1,yl=nu=0,ns=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Qt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Qt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?wt.memoizedState=ge=e:ge=ge.next=e}return ge}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var n=yl;return yl+=1,ns===null&&(ns=[]),e=Gm(ns,e,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Mg:xg),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===lt)return Fe(e)}throw Error(s(438,String(e)))}function Ch(e){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Rh(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=O;return n.index++,a}function Ii(e,n){return typeof n=="function"?n(e):n}function au(e){var n=pe();return Dh(n,Qt,e)}function Dh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,b=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ut&Y)===Y:(Wi&Y)===Y){var k=z.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Jr&&(G=!0);else if((Wi&k)===k){z=z.next,k===Jr&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Y,_=f):b=b.next=Y,wt.lanes|=k,sa|=k;Y=z.action,dr&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else k={lane:Y,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=k,_=f):b=b.next=k,wt.lanes|=Y,sa|=Y;z=z.next}while(z!==null&&z!==n);if(b===null?_=f:b.next=E,!on(f,e.memoizedState)&&(Oe=!0,G&&(a=Wr,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=b,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ih(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Wm(e,n,a){var l=wt,h=pe(),f=kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!on((Qt||h).memoizedState,a);_&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=ng.bind(null,l,h,e);if(vl(2048,8,E,[e]),h.getSnapshot!==n||_||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,is(9,ru(),eg.bind(null,l,h,a,n),null),Jt===null)throw Error(s(349));f||(Wi&124)!==0||tg(l,n,a)}return a}function tg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=Rh(),wt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function eg(e,n,a,l){n.value=a,n.getSnapshot=l,ig(n)&&ag(e)}function ng(e,n,a){return a(function(){ig(n)&&ag(e)})}function ig(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!on(e,a)}catch{return!0}}function ag(e){var n=Kr(e,2);n!==null&&mn(n,e,2)}function Vh(e){var n=We();if(typeof e=="function"){var a=e;if(e=a(),dr){sn(!0);try{a()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function rg(e,n,a,l){return e.baseState=a,Dh(e,Qt,typeof l=="function"?l:Ii)}function VE(e,n,a,l,h){if(lu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,sg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function sg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var E=a(h,l),b=F.S;b!==null&&b(_,E),lg(e,n,E)}catch(z){Oh(e,n,z)}finally{F.T=f}}else try{f=a(h,l),lg(e,n,f)}catch(z){Oh(e,n,z)}}function lg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){og(e,n,l)},function(l){return Oh(e,n,l)}):og(e,n,a)}function og(e,n,a){n.status="fulfilled",n.value=a,ug(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,sg(e,a)))}function Oh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ug(n),n=n.next;while(n!==l)}e.action=null}function ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cg(e,n){return n}function hg(e,n){if(kt){var a=Jt.formState;if(a!==null){t:{var l=wt;if(kt){if(le){e:{for(var h=le,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Ln(h.nextSibling),l=h.data==="F!";break t}}ur(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},a.queue=l,a=Vg.bind(null,wt,l),l.dispatch=a,l=Vh(!1),f=Ph.bind(null,wt,!1,l.queue),l=We(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=VE.bind(null,wt,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function fg(e){var n=pe();return dg(n,Qt,e)}function dg(e,n,a){if(n=Dh(e,n,cg)[0],e=au(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=_l(n)}catch(_){throw _===fl?Jo:_}else l=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,is(9,ru(),OE.bind(null,h,a),null)),[l,f,e]}function OE(e,n){e.action=n}function mg(e){var n=pe(),a=Qt;if(a!==null)return dg(n,a,e);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function is(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Rh(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function ru(){return{destroy:void 0,resource:void 0}}function gg(){return pe().memoizedState}function su(e,n,a,l){var h=We();l=l===void 0?null:l,wt.flags|=e,h.memoizedState=is(1|n,ru(),a,l)}function vl(e,n,a,l){var h=pe();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&Th(l,Qt.memoizedState.deps)?h.memoizedState=is(n,f,a,l):(wt.flags|=e,h.memoizedState=is(1|n,f,a,l))}function pg(e,n){su(8390656,8,e,n)}function yg(e,n){vl(2048,8,e,n)}function _g(e,n){return vl(4,2,e,n)}function vg(e,n){return vl(4,4,e,n)}function Eg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tg(e,n,a){a=a!=null?a.concat([e]):null,vl(4,4,Eg.bind(null,n,e),a)}function Nh(){}function Ag(e,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Sg(e,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=e(),dr){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,n],l}function Mh(e,n,a){return a===void 0||(Wi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Rp(),wt.lanes|=e,sa|=e,a)}function bg(e,n,a,l){return on(a,n)?a:ts.current!==null?(e=Mh(e,a,l),on(e,n)||(Oe=!0),e):(Wi&42)===0?(Oe=!0,e.memoizedState=a):(e=Rp(),wt.lanes|=e,sa|=e,n)}function wg(e,n,a,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,Ph(e,!1,n,a);try{var b=h(),z=F.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=CE(b,l);El(e,n,G,dn(e))}else El(e,n,l,dn(e))}catch(Y){El(e,n,{then:function(){},status:"rejected",reason:Y},dn())}finally{et.p=f,F.T=_}}function NE(){}function xh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Rg(e).queue;wg(e,h,n,J,a===null?NE:function(){return Cg(e),a(l)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:J},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cg(e){var n=Rg(e).next.queue;El(e,n,{},dn())}function Uh(){return Fe(zl)}function Dg(){return pe().memoizedState}function Ig(){return pe().memoizedState}function ME(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();e=$i(a);var l=Ji(n,e,a);l!==null&&(mn(l,n,a),ml(l,n,a)),n={cache:hh()},e.payload=n;return}n=n.return}}function xE(e,n,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lu(e)?Og(n,a):(a=eh(e,n,a,l),a!==null&&(mn(a,e,l),Ng(a,n,l)))}function Vg(e,n,a){var l=dn();El(e,n,a,l)}function El(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(e))Og(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,_))return Fo(e,n,h,0),Jt===null&&Ho(),!1}catch{}finally{}if(a=eh(e,n,h,l),a!==null)return mn(a,e,l),Ng(a,n,l),!0}return!1}function Ph(e,n,a,l){if(l={lane:2,revertLane:gf(),action:l,hasEagerState:!1,eagerState:null,next:null},lu(e)){if(n)throw Error(s(479))}else n=eh(e,a,l,2),n!==null&&mn(n,e,2)}function lu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Og(e,n){es=eu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Ng(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,js(e,a)}}var ou={readContext:Fe,use:iu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Mg={readContext:Fe,use:iu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:pg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,su(4194308,4,Eg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return su(4194308,4,e,n)},useInsertionEffect:function(e,n){su(4,2,e,n)},useMemo:function(e,n){var a=We();n=n===void 0?null:n;var l=e();if(dr){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=We();if(a!==void 0){var h=a(n);if(dr){sn(!0);try{a(n)}finally{sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=xE.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=Vh(e);var n=e.queue,a=Vg.bind(null,wt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Nh,useDeferredValue:function(e,n){var a=We();return Mh(a,e,n)},useTransition:function(){var e=Vh(!1);return e=wg.bind(null,wt,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=wt,h=We();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||tg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,pg(ng.bind(null,l,f,e),[e]),l.flags|=2048,is(9,ru(),eg.bind(null,l,f,a,n),null),a},useId:function(){var e=We(),n=Jt.identifierPrefix;if(kt){var a=Ri,l=wi;a=(l&~(1<<32-He(l)-1)).toString(32)+a,n=""+n+"R"+a,a=nu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=DE++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Uh,useFormState:hg,useActionState:hg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ph.bind(null,wt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ch,useCacheRefresh:function(){return We().memoizedState=ME.bind(null,wt)}},xg={readContext:Fe,use:iu,useCallback:Ag,useContext:Fe,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:au,useRef:gg,useState:function(){return au(Ii)},useDebugValue:Nh,useDeferredValue:function(e,n){var a=pe();return bg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=au(Ii)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:Wm,useId:Dg,useHostTransitionStatus:Uh,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var a=pe();return rg(a,Qt,e,n)},useMemoCache:Ch,useCacheRefresh:Ig},UE={readContext:Fe,use:iu,useCallback:Ag,useContext:Fe,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:Ih,useRef:gg,useState:function(){return Ih(Ii)},useDebugValue:Nh,useDeferredValue:function(e,n){var a=pe();return Qt===null?Mh(a,e,n):bg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=Ih(Ii)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:Wm,useId:Dg,useHostTransitionStatus:Uh,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var a=pe();return Qt!==null?rg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Ig},as=null,Tl=0;function uu(e){var n=Tl;return Tl+=1,as===null&&(as=[]),Gm(as,e,n)}function Al(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function cu(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ug(e){var n=e._init;return n(e._payload)}function Pg(e){function n(x,V){if(e){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function a(x,V){if(!e)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function h(x,V){return x=bi(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,Q){return V===null||V.tag!==6?(V=ih(L,x.mode,Q),V.return=x,V):(V=h(V,L),V.return=x,V)}function b(x,V,L,Q){var rt=L.type;return rt===Z?G(x,V,L.props.children,Q,L.key):V!==null&&(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Ug(rt)===V.type)?(V=h(V,L.props),Al(V,L),V.return=x,V):(V=Qo(L.type,L.key,L.props,null,x.mode,Q),Al(V,L),V.return=x,V)}function z(x,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=ah(L,x.mode,Q),V.return=x,V):(V=h(V,L.children||[]),V.return=x,V)}function G(x,V,L,Q,rt){return V===null||V.tag!==7?(V=rr(L,x.mode,Q,rt),V.return=x,V):(V=h(V,L),V.return=x,V)}function Y(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ih(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return L=Qo(V.type,V.key,V.props,null,x.mode,L),Al(L,V),L.return=x,L;case j:return V=ah(V,x.mode,L),V.return=x,V;case S:var Q=V._init;return V=Q(V._payload),Y(x,V,L)}if(Wt(V)||U(V))return V=rr(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return Y(x,uu(V),L);if(V.$$typeof===lt)return Y(x,Zo(x,V),L);cu(x,V)}return null}function k(x,V,L,Q){var rt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(x,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===rt?b(x,V,L,Q):null;case j:return L.key===rt?z(x,V,L,Q):null;case S:return rt=L._init,L=rt(L._payload),k(x,V,L,Q)}if(Wt(L)||U(L))return rt!==null?null:G(x,V,L,Q,null);if(typeof L.then=="function")return k(x,V,uu(L),Q);if(L.$$typeof===lt)return k(x,V,Zo(x,L),Q);cu(x,L)}return null}function B(x,V,L,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(V,x,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return x=x.get(Q.key===null?L:Q.key)||null,b(V,x,Q,rt);case j:return x=x.get(Q.key===null?L:Q.key)||null,z(V,x,Q,rt);case S:var Dt=Q._init;return Q=Dt(Q._payload),B(x,V,L,Q,rt)}if(Wt(Q)||U(Q))return x=x.get(L)||null,G(V,x,Q,rt,null);if(typeof Q.then=="function")return B(x,V,L,uu(Q),rt);if(Q.$$typeof===lt)return B(x,V,L,Zo(V,Q),rt);cu(V,Q)}return null}function _t(x,V,L,Q){for(var rt=null,Dt=null,ut=V,gt=V=0,Me=null;ut!==null&&gt<L.length;gt++){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var zt=k(x,ut,L[gt],Q);if(zt===null){ut===null&&(ut=Me);break}e&&ut&&zt.alternate===null&&n(x,ut),V=f(zt,V,gt),Dt===null?rt=zt:Dt.sibling=zt,Dt=zt,ut=Me}if(gt===L.length)return a(x,ut),kt&&lr(x,gt),rt;if(ut===null){for(;gt<L.length;gt++)ut=Y(x,L[gt],Q),ut!==null&&(V=f(ut,V,gt),Dt===null?rt=ut:Dt.sibling=ut,Dt=ut);return kt&&lr(x,gt),rt}for(ut=l(ut);gt<L.length;gt++)Me=B(ut,x,gt,L[gt],Q),Me!==null&&(e&&Me.alternate!==null&&ut.delete(Me.key===null?gt:Me.key),V=f(Me,V,gt),Dt===null?rt=Me:Dt.sibling=Me,Dt=Me);return e&&ut.forEach(function(ga){return n(x,ga)}),kt&&lr(x,gt),rt}function dt(x,V,L,Q){if(L==null)throw Error(s(151));for(var rt=null,Dt=null,ut=V,gt=V=0,Me=null,zt=L.next();ut!==null&&!zt.done;gt++,zt=L.next()){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var ga=k(x,ut,zt.value,Q);if(ga===null){ut===null&&(ut=Me);break}e&&ut&&ga.alternate===null&&n(x,ut),V=f(ga,V,gt),Dt===null?rt=ga:Dt.sibling=ga,Dt=ga,ut=Me}if(zt.done)return a(x,ut),kt&&lr(x,gt),rt;if(ut===null){for(;!zt.done;gt++,zt=L.next())zt=Y(x,zt.value,Q),zt!==null&&(V=f(zt,V,gt),Dt===null?rt=zt:Dt.sibling=zt,Dt=zt);return kt&&lr(x,gt),rt}for(ut=l(ut);!zt.done;gt++,zt=L.next())zt=B(ut,x,gt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?gt:zt.key),V=f(zt,V,gt),Dt===null?rt=zt:Dt.sibling=zt,Dt=zt);return e&&ut.forEach(function(PT){return n(x,PT)}),kt&&lr(x,gt),rt}function Kt(x,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var rt=L.key;V!==null;){if(V.key===rt){if(rt=L.type,rt===Z){if(V.tag===7){a(x,V.sibling),Q=h(V,L.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Ug(rt)===V.type){a(x,V.sibling),Q=h(V,L.props),Al(Q,L),Q.return=x,x=Q;break t}a(x,V);break}else n(x,V);V=V.sibling}L.type===Z?(Q=rr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Qo(L.type,L.key,L.props,null,x.mode,Q),Al(Q,L),Q.return=x,x=Q)}return _(x);case j:t:{for(rt=L.key;V!==null;){if(V.key===rt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(x,V.sibling),Q=h(V,L.children||[]),Q.return=x,x=Q;break t}else{a(x,V);break}else n(x,V);V=V.sibling}Q=ah(L,x.mode,Q),Q.return=x,x=Q}return _(x);case S:return rt=L._init,L=rt(L._payload),Kt(x,V,L,Q)}if(Wt(L))return _t(x,V,L,Q);if(U(L)){if(rt=U(L),typeof rt!="function")throw Error(s(150));return L=rt.call(L),dt(x,V,L,Q)}if(typeof L.then=="function")return Kt(x,V,uu(L),Q);if(L.$$typeof===lt)return Kt(x,V,Zo(x,L),Q);cu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(x,V.sibling),Q=h(V,L),Q.return=x,x=Q):(a(x,V),Q=ih(L,x.mode,Q),Q.return=x,x=Q),_(x)):a(x,V)}return function(x,V,L,Q){try{Tl=0;var rt=Kt(x,V,L,Q);return as=null,rt}catch(ut){if(ut===fl||ut===Jo)throw ut;var Dt=un(29,ut,null,x.mode);return Dt.lanes=Q,Dt.return=x,Dt}finally{}}}var rs=Pg(!0),Lg=Pg(!1),Dn=H(null),Jn=null;function ta(e){var n=e.alternate;W(be,be.current&1),W(Dn,e),Jn===null&&(n===null||ts.current!==null||n.memoizedState!==null)&&(Jn=e)}function zg(e){if(e.tag===22){if(W(be,be.current),W(Dn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else ea()}function ea(){W(be,be.current),W(Dn,Dn.current)}function Vi(e){nt(Dn),Jn===e&&(Jn=null),nt(be)}var be=H(0);function hu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Lh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=dn(),h=$i(l);h.payload=n,a!=null&&(h.callback=a),n=Ji(e,h,l),n!==null&&(mn(n,e,l),ml(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=dn(),h=$i(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ji(e,h,l),n!==null&&(mn(n,e,l),ml(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=dn(),l=$i(a);l.tag=2,n!=null&&(l.callback=n),n=Ji(e,l,a),n!==null&&(mn(n,e,a),ml(n,e,a))}};function kg(e,n,a,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!al(a,l)||!al(h,f):!0}function Bg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&zh.enqueueReplaceState(n,n.state,null)}function mr(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qg(e){fu(e)}function jg(e){console.error(e)}function Hg(e){fu(e)}function du(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kh(e,n,a){return a=$i(a),a.tag=3,a.payload={element:null},a.callback=function(){du(e,n)},a}function Gg(e){return e=$i(e),e.tag=3,e}function Qg(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Fg(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Fg(n,a,l),typeof h!="function"&&(la===null?la=new Set([this]):la.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PE(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ul(n,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return Jn===null?cf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ff(e,l,h)),!1;case 22:return a.flags|=65536,l===mh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ff(e,l,h)),!1}throw Error(s(435,a.tag))}return ff(e,l,h),cf(),!1}if(kt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==lh&&(e=Error(s(422),{cause:l}),ol(bn(e,a)))):(l!==lh&&(n=Error(s(423),{cause:l}),ol(bn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,a),h=kh(e.stateNode,l,h),yh(e,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Il===null?Il=[f]:Il.push(f),oe!==4&&(oe=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kh(a.stateNode,l,e),yh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(la===null||!la.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gg(h),Qg(h,e,a,l),yh(a,h),!1}a=a.return}while(a!==null);return!1}var Yg=Error(s(461)),Oe=!1;function Le(e,n,a,l){n.child=e===null?Lg(n,null,a,l):rs(n,e.child,a,l)}function Kg(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return hr(n),l=Ah(e,n,a,_,f,h),E=Sh(),e!==null&&!Oe?(bh(e,n,h),Oi(e,n,h)):(kt&&E&&rh(n),n.flags|=1,Le(e,n,l,h),n.child)}function Xg(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zg(e,n,f,l,h)):(e=Qo(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yh(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&e.ref===n.ref)return Oi(e,n,h)}return n.flags|=1,e=bi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Zg(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(al(f,l)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Yh(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Oi(e,n,h)}return Bh(e,n,a,l,h)}function $g(e,n,a){var l=n.pendingProps,h=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Jg(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$o(n,f!==null?f.cachePool:null),f!==null?Zm(n,f):vh(),zg(n);else return n.lanes=n.childLanes=536870912,Jg(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?($o(n,f.cachePool),Zm(n,f),ea(),n.memoizedState=null):(e!==null&&$o(n,null),vh(),ea());return Le(e,n,h,a),n.child}function Jg(e,n,a,l){var h=dh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&$o(n,null),vh(),zg(n),e!==null&&ul(e,n,l,!0),null}function mu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Bh(e,n,a,l,h){return hr(n),a=Ah(e,n,a,l,void 0,h),l=Sh(),e!==null&&!Oe?(bh(e,n,h),Oi(e,n,h)):(kt&&l&&rh(n),n.flags|=1,Le(e,n,a,h),n.child)}function Wg(e,n,a,l,h,f){return hr(n),n.updateQueue=null,a=Jm(n,l,a,h),$m(e),l=Sh(),e!==null&&!Oe?(bh(e,n,f),Oi(e,n,f)):(kt&&l&&rh(n),n.flags|=1,Le(e,n,a,f),n.child)}function tp(e,n,a,l,h){if(hr(n),n.stateNode===null){var f=Xr,_=a.contextType;typeof _=="object"&&_!==null&&(f=Fe(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Fe(_):Xr,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lh(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&zh.enqueueReplaceState(f,f.state,null),pl(n,l,f,h),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=mr(a,E);f.props=b;var z=f.context,G=a.contextType;_=Xr,typeof G=="object"&&G!==null&&(_=Fe(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==_)&&Bg(n,f,l,_),Zi=!1;var k=n.memoizedState;f.state=k,pl(n,l,f,h),gl(),z=n.memoizedState,E||k!==z||Zi?(typeof Y=="function"&&(Lh(n,a,Y,l),z=n.memoizedState),(b=Zi||kg(n,a,b,l,k,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=_,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(e,n),_=n.memoizedProps,G=mr(a,_),f.props=G,Y=n.pendingProps,k=f.context,z=a.contextType,b=Xr,typeof z=="object"&&z!==null&&(b=Fe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Y||k!==b)&&Bg(n,f,l,b),Zi=!1,k=n.memoizedState,f.state=k,pl(n,l,f,h),gl();var B=n.memoizedState;_!==Y||k!==B||Zi||e!==null&&e.dependencies!==null&&Xo(e.dependencies)?(typeof E=="function"&&(Lh(n,a,E,l),B=n.memoizedState),(G=Zi||kg(n,a,G,l,k,B,b)||e!==null&&e.dependencies!==null&&Xo(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=rs(n,e.child,null,h),n.child=rs(n,null,a,h)):Le(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Oi(e,n,h),e}function ep(e,n,a,l){return ll(),n.flags|=256,Le(e,n,a,l),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(e){return{baseLanes:e,cachePool:jm()}}function Hh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=In),e}function np(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?ta(n):ea(),kt){var E=le,b;if(b=E){t:{for(b=E,E=$n;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:sr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,le=null,b=!0):b=!1}b||ur(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Cf(E)?n.lanes=32:n.lanes=536870912,null;Vi(n)}return E=l.children,l=l.fallback,h?(ea(),h=n.mode,E=gu({mode:"hidden",children:E},h),l=rr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=jh(a),h.childLanes=Hh(e,_,a),n.memoizedState=qh,l):(ta(n),Fh(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ta(n),n.flags&=-257,n=Gh(e,n,a)):n.memoizedState!==null?(ea(),n.child=e.child,n.flags|=128,n=null):(ea(),h=l.fallback,E=n.mode,l=gu({mode:"visible",children:l.children},E),h=rr(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,rs(n,e.child,null,a),l=n.child,l.memoizedState=jh(a),l.childLanes=Hh(e,_,a),n.memoizedState=qh,n=h);else if(ta(n),Cf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),n=Gh(e,n,a)}else if(Oe||ul(e,n,a,!1),_=(a&e.childLanes)!==0,Oe||_){if(_=Jt,_!==null&&(l=a&-a,l=(l&42)!==0?1:ji(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Kr(e,l),mn(_,e,l),Yg;E.data==="$?"||cf(),n=Gh(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,le=Ln(E.nextSibling),Je=n,kt=!0,or=null,$n=!1,e!==null&&(Rn[Cn++]=wi,Rn[Cn++]=Ri,Rn[Cn++]=sr,wi=e.id,Ri=e.overflow,sr=n),n=Fh(n,l.children),n.flags|=4096);return n}return h?(ea(),h=l.fallback,E=n.mode,b=e.child,z=b.sibling,l=bi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?h=bi(z,h):(h=rr(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=e.child.memoizedState,E===null?E=jh(a):(b=E.cachePool,b!==null?(z=Se._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=jm(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Hh(e,_,a),n.memoizedState=qh,l):(ta(n),a=e.child,e=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function Fh(e,n){return n=gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function gu(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gh(e,n,a){return rs(n,e.child,null,a),e=Fh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ip(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),uh(e.return,n,a)}function Qh(e,n,a,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function ap(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(e,n,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,a,n);else if(e.tag===19)ip(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(W(be,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qh(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&hu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qh(n,!0,a,null,f);break;case"together":Qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),sa|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ul(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=bi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=bi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Yh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Xo(e)))}function LE(e,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Xi(n,Se,e.memoizedState.cache),ll();break;case 27:case 5:qi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Xi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ta(n),n.flags|=128,null):(a&n.child.childLanes)!==0?np(e,n,a):(ta(n),e=Oi(e,n,a),e!==null?e.sibling:null);ta(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ul(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ap(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,$g(e,n,a);case 24:Xi(n,Se,e.memoizedState.cache)}return Oi(e,n,a)}function rp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Yh(e,a)&&(n.flags&128)===0)return Oe=!1,LE(e,n,a);Oe=(e.flags&131072)!==0}else Oe=!1,kt&&(n.flags&1048576)!==0&&Um(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")nh(l)?(e=mr(l,e),n.tag=1,n=tp(null,n,l,e,a)):(n.tag=0,n=Bh(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===bt){n.tag=11,n=Kg(null,n,l,e,a);break t}else if(h===N){n.tag=14,n=Xg(null,n,l,e,a);break t}}throw n=ve(l)||l,Error(s(306,n,""))}}return n;case 0:return Bh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=mr(l,n.pendingProps),tp(e,n,l,h,a);case 3:t:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ph(e,n),pl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Xi(n,Se,l),l!==f.cache&&ch(n,[Se],a,!0),gl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ep(e,n,l,a);break t}else if(l!==h){h=bn(Error(s(424)),n),ol(h),n=ep(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Ln(e.firstChild),Je=n,kt=!0,or=null,$n=!0,a=Lg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){n=Oi(e,n,a);break t}Le(e,n,l,a)}n=n.child}return n;case 26:return mu(e,n),e===null?(a=uy(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,e=n.pendingProps,l=Iu(vt.current).createElement(a),l[Ee]=n,l[de]=e,ke(l,a,e),ue(l),n.stateNode=l):n.memoizedState=uy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qi(n),e===null&&kt&&(l=n.stateNode=sy(n.type,n.pendingProps,vt.current),Je=n,$n=!0,h=le,ca(n.type)?(Df=h,le=Ln(l.firstChild)):le=h),Le(e,n,n.pendingProps.children,a),mu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=le)&&(l=hT(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Je=n,le=Ln(l.firstChild),$n=!1,h=!0):h=!1),h||ur(n)),qi(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,bf(h,f)?l=null:_!==null&&bf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Ah(e,n,IE,null,null,a),zl._currentValue=h),mu(e,n),Le(e,n,l,a),n.child;case 6:return e===null&&kt&&((e=a=le)&&(a=fT(a,n.pendingProps,$n),a!==null?(n.stateNode=a,Je=n,le=null,e=!0):e=!1),e||ur(n)),null;case 13:return np(e,n,a);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=rs(n,null,l,a):Le(e,n,l,a),n.child;case 11:return Kg(e,n,n.type,n.pendingProps,a);case 7:return Le(e,n,n.pendingProps,a),n.child;case 8:return Le(e,n,n.pendingProps.children,a),n.child;case 12:return Le(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Xi(n,n.type,l.value),Le(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,hr(n),h=Fe(h),l=l(h),n.flags|=1,Le(e,n,l,a),n.child;case 14:return Xg(e,n,n.type,n.pendingProps,a);case 15:return Zg(e,n,n.type,n.pendingProps,a);case 19:return ap(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=gu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bi(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return $g(e,n,a);case 24:return hr(n),l=Fe(Se),e===null?(h=dh(),h===null&&(h=Jt,f=hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},gh(n),Xi(n,Se,h)):((e.lanes&a)!==0&&(ph(e,n),pl(n,null,null,a),gl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xi(n,Se,l)):(l=f.cache,Xi(n,Se,l),l!==h.cache&&ch(n,[Se],a,!0))),Le(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ni(e){e.flags|=4}function sp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!my(n)){if(n=Dn.current,n!==null&&((Ut&4194048)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Jn))throw dl=mh,Hm;e.flags|=8192}}function pu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bs():536870912,e.lanes|=n,us|=n)}function Sl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function zE(e,n,a){var l=n.pendingProps;switch(sh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Se),kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(sl(n)?Ni(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zm())),ae(n),null;case 26:return a=n.memoizedState,e===null?(Ni(n),a!==null?(ae(n),sp(n,a)):(ae(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ni(n),ae(n),sp(n,a)):(ae(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ni(n),ae(n),n.flags&=-16777217),null;case 27:hi(n),a=vt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}e=ct.current,sl(n)?Pm(n):(e=sy(h,l,a),n.stateNode=e,Ni(n))}return ae(n),null;case 5:if(hi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(e=ct.current,sl(n))Pm(n);else{switch(h=Iu(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ee]=n,e[de]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=vt.current,sl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wp(e.nodeValue,a)),e||ur(n)}else e=Iu(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ae(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=sl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=zm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vi(n),n):(Vi(n),null)}if(Vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),pu(n,n.updateQueue),ae(n),null;case 4:return kn(),e===null&&vf(n.stateNode.containerInfo),ae(n),null;case 10:return Di(n.type),ae(n),null;case 19:if(nt(be),h=n.memoizedState,h===null)return ae(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Sl(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=hu(e),f!==null){for(n.flags|=128,Sl(h,!1),e=f.updateQueue,n.updateQueue=e,pu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)xm(a,e),a=a.sibling;return W(be,be.current&1|2),n.child}e=e.sibling}h.tail!==null&&_n()>vu&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304)}else{if(!l)if(e=hu(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,pu(n,e),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!kt)return ae(n),null}else 2*_n()-h.renderingStartTime>vu&&a!==536870912&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=_n(),n.sibling=null,e=be.current,W(be,l?e&1|2:e&1),n):(ae(n),null);case 22:case 23:return Vi(n),Eh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&pu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&nt(fr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Se),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function kE(e,n){switch(sh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(Se),kn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(Vi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ll()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(be),null;case 4:return kn(),null;case 10:return Di(n.type),null;case 22:case 23:return Vi(n),Eh(),e!==null&&nt(fr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(Se),null;case 25:return null;default:return null}}function lp(e,n){switch(sh(n),n.tag){case 3:Di(Se),kn();break;case 26:case 27:case 5:hi(n);break;case 4:kn();break;case 13:Vi(n);break;case 19:nt(be);break;case 10:Di(n.type);break;case 22:case 23:Vi(n),Eh(),e!==null&&nt(fr);break;case 24:Di(Se)}}function bl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){Zt(n,n.return,E)}}function na(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var b=a,z=E;try{z()}catch(G){Zt(h,b,G)}}}l=l.next}while(l!==f)}}catch(G){Zt(n,n.return,G)}}function op(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Xm(n,a)}catch(l){Zt(e,e.return,l)}}}function up(e,n,a){a.props=mr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,n,l)}}function wl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,n,h)}}function Wn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,n,h)}else a.current=null}function cp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Kh(e,n,a){try{var l=e.stateNode;sT(l,e.type,a,n),l[de]=n}catch(h){Zt(e,e.return,h)}}function hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ca(e.type)||e.tag===4}function Xh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&(l===27&&ca(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Zh(e,n,a),e=e.sibling;e!==null;)Zh(e,n,a),e=e.sibling}function yu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ca(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yu(e,n,a),e=e.sibling;e!==null;)yu(e,n,a),e=e.sibling}function fp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ke(n,l,a),n[Ee]=e,n[de]=a}catch(f){Zt(e,e.return,f)}}var Mi=!1,he=!1,$h=!1,dp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function BE(e,n){if(e=e.containerInfo,Af=Uu,e=bm(e),Xc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,b=-1,z=0,G=0,Y=e,k=null;e:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=_+h),Y!==f||l!==0&&Y.nodeType!==3||(b=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(B=Y.firstChild)!==null;)k=Y,Y=B;for(;;){if(Y===e)break e;if(k===a&&++z===h&&(E=_),k===f&&++G===l&&(b=_),(B=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sf={focusedElem:e,selectionRange:a},Uu=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var _t=mr(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Zt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Rf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function mp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ia(e,a),l&4&&bl(5,a);break;case 1:if(ia(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var h=mr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}l&64&&op(a),l&512&&wl(a,a.return);break;case 3:if(ia(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Xm(e,n)}catch(_){Zt(a,a.return,_)}}break;case 27:n===null&&l&4&&fp(a);case 26:case 5:ia(e,a),n===null&&l&4&&cp(a),l&512&&wl(a,a.return);break;case 12:ia(e,a);break;case 13:ia(e,a),l&4&&yp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=XE.bind(null,a),dT(e,a))));break;case 22:if(l=a.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||he,h=Mi;var f=he;Mi=l,(he=n)&&!f?aa(e,a,(a.subtreeFlags&8772)!==0):ia(e,a),Mi=h,he=f}break;case 30:break;default:ia(e,a)}}function gp(e){var n=e.alternate;n!==null&&(e.alternate=null,gp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,tn=!1;function xi(e,n,a){for(a=a.child;a!==null;)pp(e,n,a),a=a.sibling}function pp(e,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:he||Wn(a,n),xi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||Wn(a,n);var l=ie,h=tn;ca(a.type)&&(ie=a.stateNode,tn=!1),xi(e,n,a),xl(a.stateNode),ie=l,tn=h;break;case 5:he||Wn(a,n);case 6:if(l=ie,h=tn,ie=null,xi(e,n,a),ie=l,tn=h,ie!==null)if(tn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{ie.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:ie!==null&&(tn?(e=ie,ay(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),jl(e)):ay(ie,a.stateNode));break;case 4:l=ie,h=tn,ie=a.stateNode.containerInfo,tn=!0,xi(e,n,a),ie=l,tn=h;break;case 0:case 11:case 14:case 15:he||na(2,a,n),he||na(4,a,n),xi(e,n,a);break;case 1:he||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&up(a,n,l)),xi(e,n,a);break;case 21:xi(e,n,a);break;case 22:he=(l=he)||a.memoizedState!==null,xi(e,n,a),he=l;break;default:xi(e,n,a)}}function yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(a){Zt(n,n.return,a)}}function qE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dp),n;default:throw Error(s(435,e.tag))}}function Jh(e,n){var a=qE(e);n.forEach(function(l){var h=ZE.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function cn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(ca(E.type)){ie=E.stateNode,tn=!1;break t}break;case 5:ie=E.stateNode,tn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));pp(f,_,h),ie=null,tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)_p(n,e),n=n.sibling}var Pn=null;function _p(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),l&4&&(na(3,e,e.return),bl(3,e),na(5,e,e.return));break;case 1:cn(n,e),hn(e),l&512&&(he||a===null||Wn(a,a.return)),l&64&&Mi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(cn(n,e),hn(e),l&512&&(he||a===null||Wn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ha]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,l,a),f[Ee]=e,ue(f),l=f;break t;case"link":var _=fy("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;case"meta":if(_=fy("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=e,ue(f),l=f}e.stateNode=l}else dy(h,e.type,e.stateNode);else e.stateNode=hy(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?dy(h,e.type,e.stateNode):hy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kh(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),hn(e),l&512&&(he||a===null||Wn(a,a.return)),a!==null&&l&4&&Kh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),hn(e),l&512&&(he||a===null||Wn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(B){Zt(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Kh(e,h,a!==null?a.memoizedProps:h)),l&1024&&($h=!0);break;case 6:if(cn(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){Zt(e,e.return,B)}}break;case 3:if(Nu=null,h=Pn,Pn=Vu(n.containerInfo),cn(n,e),Pn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){Zt(e,e.return,B)}$h&&($h=!1,vp(e));break;case 4:l=Pn,Pn=Vu(e.stateNode.containerInfo),cn(n,e),hn(e),Pn=l;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rf=_n()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jh(e,l)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,z=Mi,G=he;if(Mi=z||h,he=G||b,cn(n,e),he=G,Mi=z,hn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||b||Mi||he||gr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Zt(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Zt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jh(e,a))));break;case 19:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jh(e,l)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(hp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Xh(e);yu(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var E=Xh(e);yu(e,E,_);break;case 3:case 4:var b=a.stateNode.containerInfo,z=Xh(e);Zh(e,z,b);break;default:throw Error(s(161))}}catch(G){Zt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ia(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)mp(e,n.alternate,n),n=n.sibling}function gr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:na(4,n,n.return),gr(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&up(n,n.return,a),gr(n);break;case 27:xl(n.stateNode);case 26:case 5:Wn(n,n.return),gr(n);break;case 22:n.memoizedState===null&&gr(n);break;case 30:gr(n);break;default:gr(n)}e=e.sibling}}function aa(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:aa(h,f,a),bl(4,f);break;case 1:if(aa(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Km(b[h],E)}catch(z){Zt(l,l.return,z)}}a&&_&64&&op(f),wl(f,f.return);break;case 27:fp(f);case 26:case 5:aa(h,f,a),a&&l===null&&_&4&&cp(f),wl(f,f.return);break;case 12:aa(h,f,a);break;case 13:aa(h,f,a),a&&_&4&&yp(h,f);break;case 22:f.memoizedState===null&&aa(h,f,a),wl(f,f.return);break;case 30:break;default:aa(h,f,a)}n=n.sibling}}function Wh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e))}function ti(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ep(e,n,a,l),n=n.sibling}function Ep(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,a,l),h&2048&&bl(9,n);break;case 1:ti(e,n,a,l);break;case 3:ti(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e)));break;case 12:if(h&2048){ti(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Zt(n,n.return,b)}}else ti(e,n,a,l);break;case 13:ti(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,a,l):Rl(e,n):f._visibility&2?ti(e,n,a,l):(f._visibility|=2,ss(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&Wh(_,n);break;case 24:ti(e,n,a,l),h&2048&&tf(n.alternate,n);break;default:ti(e,n,a,l)}}function ss(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=a,b=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ss(f,_,E,b,h),bl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ss(f,_,E,b,h):Rl(f,_):(G._visibility|=2,ss(f,_,E,b,h)),h&&z&2048&&Wh(_.alternate,_);break;case 24:ss(f,_,E,b,h),h&&z&2048&&tf(_.alternate,_);break;default:ss(f,_,E,b,h)}n=n.sibling}}function Rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&Wh(l.alternate,l);break;case 24:Rl(a,l),h&2048&&tf(l.alternate,l);break;default:Rl(a,l)}n=n.sibling}}var Cl=8192;function ls(e){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)Tp(e),e=e.sibling}function Tp(e){switch(e.tag){case 26:ls(e),e.flags&Cl&&e.memoizedState!==null&&RT(Pn,e.memoizedState,e.memoizedProps);break;case 5:ls(e);break;case 3:case 4:var n=Pn;Pn=Vu(e.stateNode.containerInfo),ls(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,ls(e),Cl=n):ls(e));break;default:ls(e)}}function Ap(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,bp(l,e)}Ap(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sp(e),e=e.sibling}function Sp(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&na(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_u(e)):Dl(e);break;default:Dl(e)}}function _u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,bp(l,e)}Ap(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:na(8,n,n.return),_u(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,_u(n));break;default:_u(n)}e=e.sibling}}function bp(e,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:na(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(gp(l),l===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var jE={getCacheForType:function(e){var n=Fe(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},HE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,It=null,Ut=0,Ft=0,fn=null,ra=!1,os=!1,ef=!1,Ui=0,oe=0,sa=0,pr=0,nf=0,In=0,us=0,Il=null,en=null,af=!1,rf=0,vu=1/0,Eu=null,la=null,ze=0,oa=null,cs=null,hs=0,sf=0,lf=null,wp=null,Vl=0,of=null;function dn(){if((Ht&2)!==0&&Ut!==0)return Ut&-Ut;if(F.T!==null){var e=Jr;return e!==0?e:gf()}return Hi()}function Rp(){In===0&&(In=(Ut&536870912)===0||kt?ks():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),In}function mn(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(fs(e,0),ua(e,Ut,In,!1)),di(e,a),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(pr|=a),oe===4&&ua(e,Ut,In,!1)),ei(e))}function Cp(e,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ja(e,n),h=l?QE(e,n):hf(e,n,!0),f=l;do{if(h===0){os&&!l&&ua(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!FE(a)){h=hf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=Il;var b=E.current.memoizedState.isDehydrated;if(b&&(fs(E,_).flags|=256),_=hf(E,_,!1),_!==2){if(ef&&!b){E.errorRecoveryDisabledLanes|=f,pr|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){fs(e,0),ua(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ua(l,n,In,!ra);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=rf+300-_n(),10<h)){if(ua(l,n,In,!ra),Ir(l,0,!0)!==0)break t;l.timeoutHandle=ny(Dp.bind(null,l,a,en,Eu,af,n,In,pr,us,ra,f,2,-0,0),h);break t}Dp(l,a,en,Eu,af,n,In,pr,us,ra,f,0,-0,0)}}break}while(!0);ei(e)}function Dp(e,n,a,l,h,f,_,E,b,z,G,Y,k,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:wT},Tp(n),Y=CT(),Y!==null)){e.cancelPendingCommit=Y(Up.bind(null,e,n,f,a,l,h,_,E,b,G,1,k,B)),ua(e,f,_,!z);return}Up(e,n,f,a,l,h,_,E,b)}function FE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ua(e,n,a,l){n&=~nf,n&=~pr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-He(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Bn(e,a,n)}function Tu(){return(Ht&6)===0?(Ol(0),!1):!0}function uf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ci=cr=null,wh(e),as=null,Tl=0,e=It;for(;e!==null;)lp(e.alternate,e),e=e.return;It=null}}function fs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,oT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),uf(),Jt=e,It=a=bi(e.current,null),Ut=n,Ft=0,fn=null,ra=!1,os=ja(e,n),ef=!1,us=In=nf=pr=sa=oe=0,en=Il=null,af=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-He(l),f=1<<h;n|=e[h],l&=~f}return Ui=n,Ho(),a}function Ip(e,n){wt=null,F.H=ou,n===fl||n===Jo?(n=Qm(),Ft=3):n===Hm?(n=Qm(),Ft=4):Ft=n===Yg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,It===null&&(oe=1,du(e,bn(n,e.current)))}function Vp(){var e=F.H;return F.H=ou,e===null?ou:e}function Op(){var e=F.A;return F.A=jE,e}function cf(){oe=4,ra||(Ut&4194048)!==Ut&&Dn.current!==null||(os=!0),(sa&134217727)===0&&(pr&134217727)===0||Jt===null||ua(Jt,Ut,In,!1)}function hf(e,n,a){var l=Ht;Ht|=2;var h=Vp(),f=Op();(Jt!==e||Ut!==n)&&(Eu=null,fs(e,n)),n=!1;var _=oe;t:do try{if(Ft!==0&&It!==null){var E=It,b=fn;switch(Ft){case 8:uf(),_=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var z=Ft;if(Ft=0,fn=null,ds(e,E,b,z),a&&os){_=0;break t}break;default:z=Ft,Ft=0,fn=null,ds(e,E,b,z)}}GE(),_=oe;break}catch(G){Ip(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ci=cr=null,Ht=l,F.H=h,F.A=f,It===null&&(Jt=null,Ut=0,Ho()),_}function GE(){for(;It!==null;)Np(It)}function QE(e,n){var a=Ht;Ht|=2;var l=Vp(),h=Op();Jt!==e||Ut!==n?(Eu=null,vu=_n()+500,fs(e,n)):os=ja(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=fn;e:switch(Ft){case 1:Ft=0,fn=null,ds(e,n,f,1);break;case 2:case 9:if(Fm(f)){Ft=0,fn=null,Mp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ei(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Fm(f)?(Ft=0,fn=null,Mp(n)):(Ft=0,fn=null,ds(e,n,f,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var E=It;if(!_||my(_)){Ft=0,fn=null;var b=E.sibling;if(b!==null)It=b;else{var z=E.return;z!==null?(It=z,Au(z)):It=null}break e}}Ft=0,fn=null,ds(e,n,f,5);break;case 6:Ft=0,fn=null,ds(e,n,f,6);break;case 8:uf(),oe=6;break t;default:throw Error(s(462))}}YE();break}catch(G){Ip(e,G)}while(!0);return Ci=cr=null,F.H=l,F.A=h,Ht=a,It!==null?0:(Jt=null,Ut=0,Ho(),oe)}function YE(){for(;It!==null&&!Us();)Np(It)}function Np(e){var n=rp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?Au(e):It=n}function Mp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Wg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Wg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:wh(n);default:lp(a,n),n=It=xm(n,Ui),n=rp(a,n,Ui)}e.memoizedProps=e.pendingProps,n===null?Au(e):It=n}function ds(e,n,a,l){Ci=cr=null,wh(n),as=null,Tl=0;var h=n.return;try{if(PE(e,h,n,a,Ut)){oe=1,du(e,bn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;oe=1,du(e,bn(a,e.current)),It=null;return}n.flags&32768?(kt||l===1?e=!0:os||(Ut&536870912)!==0?e=!1:(ra=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(n,e)):Au(n)}function Au(e){var n=e;do{if((n.flags&32768)!==0){xp(n,ra);return}e=n.return;var a=zE(n.alternate,n,Ui);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);oe===0&&(oe=5)}function xp(e,n){do{var a=kE(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);oe=6,It=null}function Up(e,n,a,l,h,f,_,E,b){e.cancelPendingCommit=null;do Su();while(ze!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=th,qs(e,a,f,_,E,b),e===Jt&&(It=Jt=null,Ut=0),cs=n,oa=e,hs=a,sf=f,lf=h,wp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$E(za,function(){return Bp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=et.p,et.p=2,_=Ht,Ht|=4;try{BE(e,n,a)}finally{Ht=_,et.p=h,F.T=l}}ze=1,Pp(),Lp(),zp()}}function Pp(){if(ze===1){ze=0;var e=oa,n=cs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Ht;Ht|=4;try{_p(n,e);var f=Sf,_=bm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Sm(E.ownerDocument.documentElement,E)){if(b!==null&&Xc(E)){var z=b.start,G=b.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var B=k.getSelection(),_t=E.textContent.length,dt=Math.min(b.start,_t),Kt=b.end===void 0?dt:Math.min(b.end,_t);!B.extend&&dt>Kt&&(_=Kt,Kt=dt,dt=_);var x=Am(E,dt),V=Am(E,Kt);if(x&&V&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==V.node||B.focusOffset!==V.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),dt>Kt?(B.addRange(L),B.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Uu=!!Af,Sf=Af=null}finally{Ht=h,et.p=l,F.T=a}}e.current=n,ze=2}}function Lp(){if(ze===2){ze=0;var e=oa,n=cs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Ht;Ht|=4;try{mp(e,n.alternate,n)}finally{Ht=h,et.p=l,F.T=a}}ze=3}}function zp(){if(ze===4||ze===3){ze=0,_o();var e=oa,n=cs,a=hs,l=wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,cs=oa=null,kp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(la=null),Vr(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(hs&3)!==0&&Su(),ei(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===of?Vl++:(Vl=0,of=e):Vl=0,Ol(0)}}function kp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,cl(n)))}function Su(e){return Pp(),Lp(),zp(),Bp()}function Bp(){if(ze!==5)return!1;var e=oa,n=sf;sf=0;var a=Vr(hs),l=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=lf,lf=null;var f=oa,_=hs;if(ze=0,cs=oa=null,hs=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Sp(f.current),Ep(f,f.current,_,a),Ht=E,Ol(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=h,F.T=l,kp(e,n)}}function qp(e,n,a){n=bn(a,n),n=kh(e.stateNode,n,2),e=Ji(e,n,2),e!==null&&(di(e,2),ei(e))}function Zt(e,n,a){if(e.tag===3)qp(e,e,a);else for(;n!==null;){if(n.tag===3){qp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){e=bn(a,e),a=Gg(2),l=Ji(n,a,2),l!==null&&(Qg(a,l,n,e),di(l,2),ei(l));break}}n=n.return}}function ff(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new HE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(ef=!0,h.add(a),e=KE.bind(null,e,n,a),n.then(e,e))}function KE(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Ut&a)===a&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>_n()-rf?(Ht&2)===0&&fs(e,0):nf|=a,us===Ut&&(us=0)),ei(e)}function jp(e,n){n===0&&(n=Bs()),e=Kr(e,n),e!==null&&(di(e,n),ei(e))}function XE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),jp(e,a)}function ZE(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),jp(e,a)}function $E(e,n){return Pa(e,n)}var bu=null,ms=null,df=!1,wu=!1,mf=!1,yr=0;function ei(e){e!==ms&&e.next===null&&(ms===null?bu=ms=e:ms=ms.next=e),wu=!0,df||(df=!0,WE())}function Ol(e,n){if(!mf&&wu){mf=!0;do for(var a=!1,l=bu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qp(l,f))}else f=Ut,f=Ir(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ja(l,f)||(a=!0,Qp(l,f));l=l.next}while(a);mf=!1}}function JE(){Hp()}function Hp(){wu=df=!1;var e=0;yr!==0&&(lT()&&(e=yr),yr=0);for(var n=_n(),a=null,l=bu;l!==null;){var h=l.next,f=Fp(l,n);f===0?(l.next=null,a===null?bu=h:a.next=h,h===null&&(ms=a)):(a=l,(e!==0||(f&3)!==0)&&(wu=!0)),l=h}Ol(e)}function Fp(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-He(f),E=1<<_,b=h[_];b===-1?((E&a)===0||(E&l)!==0)&&(h[_]=zs(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,a=Ut,a=Ir(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&La(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ja(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&La(l),Vr(a)){case 2:case 8:a=Cr;break;case 32:a=za;break;case 268435456:a=Dr;break;default:a=za}return l=Gp.bind(null,e),a=Pa(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&La(l),e.callbackPriority=2,e.callbackNode=null,2}function Gp(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Su()&&e.callbackNode!==a)return null;var l=Ut;return l=Ir(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cp(e,l,n),Fp(e,_n()),e.callbackNode!=null&&e.callbackNode===a?Gp.bind(null,e):null)}function Qp(e,n){if(Su())return null;Cp(e,n,!0)}function WE(){uT(function(){(Ht&6)!==0?Pa(Ps,JE):Hp()})}function gf(){return yr===0&&(yr=ks()),yr}function Yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pr(""+e)}function Kp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function tT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Yp((h[de]||null).action),_=l.submitter;_&&(n=(n=_[de]||null)?Yp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Lr("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var b=_?Kp(h,_):new FormData(h);xh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?Kp(h,_):new FormData(h),xh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var pf=0;pf<Wc.length;pf++){var yf=Wc[pf],eT=yf.toLowerCase(),nT=yf[0].toUpperCase()+yf.slice(1);Un(eT,"on"+nT)}Un(Cm,"onAnimationEnd"),Un(Dm,"onAnimationIteration"),Un(Im,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(vE,"onTransitionRun"),Un(EE,"onTransitionStart"),Un(TE,"onTransitionCancel"),Un(Vm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Xp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){fu(G)}h.currentTarget=null,f=b}else for(_=0;_<l.length;_++){if(E=l[_],b=E.instance,z=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){fu(G)}h.currentTarget=null,f=b}}}}function Vt(e,n){var a=n[Hs];a===void 0&&(a=n[Hs]=new Set);var l=e+"__bubble";a.has(l)||(Zp(n,e,2,!1),a.add(l))}function _f(e,n,a){var l=0;n&&(l|=4),Zp(a,e,l,n)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[Ru]){e[Ru]=!0,Fs.forEach(function(a){a!=="selectionchange"&&(iT.has(a)||_f(a,!1,e),_f(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ru]||(n[Ru]=!0,_f("selectionchange",!1,n))}}function Zp(e,n,a,l){switch(Ey(n)){case 2:var h=VT;break;case 8:h=OT;break;default:h=Mf}a=h.bind(null,n,a,e),h=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ef(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=mi(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){l=f=_;continue t}E=E.parentNode}}l=l.return}Do(function(){var z=f,G=Tn(a),Y=[];t:{var k=Om.get(e);if(k!==void 0){var B=Lr,_t=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":B=Hr;break;case"focusin":_t="focus",B=Br;break;case"focusout":_t="blur",B=Br;break;case"beforeblur":case"afterblur":B=Br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Po;break;case Cm:case Dm:case Im:B=qr;break;case Vm:B=zo;break;case"scroll":case"scrollend":B=Io;break;case"wheel":B=Fr;break;case"copy":case"cut":case"paste":B=jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=nl;break;case"toggle":case"beforetoggle":B=Bo}var dt=(n&4)!==0,Kt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?k!==null?k+"Capture":null:k;dt=[];for(var V=z,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Za(V,x),Q!=null&&dt.push(Ml(V,Q,L))),Kt)break;V=V.return}0<dt.length&&(k=new B(k,_t,null,a,G),Y.push({event:k,listeners:dt}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",k&&a!==_i&&(_t=a.relatedTarget||a.fromElement)&&(mi(_t)||_t[vn]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(_t=a.relatedTarget||a.toElement,B=z,_t=_t?mi(_t):null,_t!==null&&(Kt=c(_t),dt=_t.tag,_t!==Kt||dt!==5&&dt!==27&&dt!==6)&&(_t=null)):(B=null,_t=z),B!==_t)){if(dt=Sn,Q="onMouseLeave",x="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(dt=nl,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Kt=B==null?k:jn(B),L=_t==null?k:jn(_t),k=new dt(Q,V+"leave",B,a,G),k.target=Kt,k.relatedTarget=L,Q=null,mi(G)===z&&(dt=new dt(x,V+"enter",_t,a,G),dt.target=L,dt.relatedTarget=Kt,Q=dt),Kt=Q,B&&_t)e:{for(dt=B,x=_t,V=0,L=dt;L;L=gs(L))V++;for(L=0,Q=x;Q;Q=gs(Q))L++;for(;0<V-L;)dt=gs(dt),V--;for(;0<L-V;)x=gs(x),L--;for(;V--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=gs(dt),x=gs(x)}dt=null}else dt=null;B!==null&&$p(Y,k,B,dt,!1),_t!==null&&Kt!==null&&$p(Y,Kt,_t,dt,!0)}}t:{if(k=z?jn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var rt=pm;else if(Ae(k))if(ym)rt=pE;else{rt=mE;var Dt=dE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Xs(z.elementType)&&(rt=pm):rt=gE;if(rt&&(rt=rt(e,z))){Si(Y,rt,a,G);break t}Dt&&Dt(e,k,z),e==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Yi(k,"number",k.value)}switch(Dt=z?jn(z):window,e){case"focusin":(Ae(Dt)||Dt.contentEditable==="true")&&(Gr=Dt,Zc=z,rl=null);break;case"focusout":rl=Zc=Gr=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,wm(Y,a,G);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":wm(Y,a,G)}var ut;if(Xn)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Mt?q(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(p&&a.locale!=="ko"&&(Mt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Mt&&(ut=$s()):(Gn=G,Ki="value"in Gn?Gn.value:Gn.textContent,Mt=!0)),Dt=Cu(z,gt),0<Dt.length&&(gt=new tl(gt,e,null,a,G),Y.push({event:gt,listeners:Dt}),ut?gt.data=ut:(ut=tt(a),ut!==null&&(gt.data=ut)))),(ut=m?Te(e,a):xt(e,a))&&(gt=Cu(z,"onBeforeInput"),0<gt.length&&(Dt=new tl("onBeforeInput","beforeinput",null,a,G),Y.push({event:Dt,listeners:gt}),Dt.data=ut)),tT(Y,e,z,a,G)}Xp(Y,n)})}function Ml(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Cu(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Za(e,a),h!=null&&l.unshift(Ml(e,h,f)),h=Za(e,n),h!=null&&l.push(Ml(e,h,f))),e.tag===3)return l;e=e.return}return[]}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $p(e,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var E=a,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,h?(z=Za(a,f),z!=null&&_.unshift(Ml(a,z,b))):h||(z=Za(a,f),z!=null&&_.push(Ml(a,z,b)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var aT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function Jp(e){return(typeof e=="string"?e:""+e).replace(aT,`
`).replace(rT,"")}function Wp(e,n){return n=Jp(n),Jp(e)===n}function Du(){}function Yt(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(e,""+l);break;case"className":Hn(e,"class",l);break;case"tabIndex":Hn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,a,l);break;case"style":Ks(e,l,f);break;case"data":if(n!=="object"){Hn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Pr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Pr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Du);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Pr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Qi(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hc.get(a)||a,Qi(e,a,l))}}function Tf(e,n,a,l,h,f){switch(a){case"style":Ks(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[de]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Qi(e,a,l)}}}function ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,f,_,a,null)}}h&&Yt(e,n,"srcSet",a.srcSet,a,null),l&&Yt(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=_=h=null,b=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":b=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(e,n,l,G,a,null)}}Ya(e,f,E,b,z,_,h,!1),Ur(e);return;case"select":Vt("invalid",e),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Yt(e,n,h,E,a,null)}n=f,a=_,e.multiple=!!l,n!=null?yi(e,!!l,n,!1):a!=null&&yi(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,n,_,E,a,null)}Ka(e,l,h,f),Ur(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,n,b,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Vt(Nl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,z,l,a,null)}return;default:if(Xs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Tf(e,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(e,n,E,l,a,null))}function sT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,b=null,z=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(B)||Yt(e,n,B,null,l,Y)}}for(var k in l){var B=l[k];if(Y=a[k],l.hasOwnProperty(k)&&(B!=null||Y!=null))switch(k){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Y&&Yt(e,n,k,B,l,Y)}}ln(e,_,E,b,z,G,f,h);return;case"select":B=_=E=k=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Yt(e,n,f,null,l,b)}for(h in l)if(f=l[h],b=a[h],l.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Yt(e,n,h,f,l,b)}n=E,a=_,l=B,k!=null?yi(e,!!a,k,!1):!!l!=!!a&&(n!=null?yi(e,!!a,n,!0):yi(e,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":k=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(e,n,_,h,l,f)}Gt(e,k,B);return;case"option":for(var _t in a)if(k=a[_t],a.hasOwnProperty(_t)&&k!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:Yt(e,n,_t,null,l,k)}for(b in l)if(k=l[b],B=a[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Yt(e,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)k=a[dt],a.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&Yt(e,n,dt,null,l,k);for(z in l)if(k=l[z],B=a[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Yt(e,n,z,k,l,B)}return;default:if(Xs(n)){for(var Kt in a)k=a[Kt],a.hasOwnProperty(Kt)&&k!==void 0&&!l.hasOwnProperty(Kt)&&Tf(e,n,Kt,void 0,l,k);for(G in l)k=l[G],B=a[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||Tf(e,n,G,k,l,B);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Yt(e,n,x,null,l,k);for(Y in l)k=l[Y],B=a[Y],!l.hasOwnProperty(Y)||k===B||k==null&&B==null||Yt(e,n,Y,k,l,B)}var Af=null,Sf=null;function Iu(e){return e.nodeType===9?e:e.ownerDocument}function ty(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function bf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function lT(){var e=window.event;return e&&e.type==="popstate"?e===wf?!1:(wf=e,!0):(wf=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,oT=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(e){return iy.resolve(null).then(e).catch(cT)}:ny;function cT(e){setTimeout(function(){throw e})}function ca(e){return e==="head"}function ay(e,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&xl(_.documentElement),a&2&&xl(_.body),a&4)for(a=_.head,xl(a),_=a.firstChild;_;){var E=_.nextSibling,b=_.nodeName;_[Ha]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(h===0){e.removeChild(f),jl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);jl(n)}function Rf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rf(a),Gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ha])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function fT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Cf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function dT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Df=null;function ry(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function sy(e,n,a){switch(n=Iu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function xl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Gi(e)}var Vn=new Map,ly=new Set;function Vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=et.d;et.d={f:mT,r:gT,D:pT,C:yT,L:_T,m:vT,X:TT,S:ET,M:AT};function mT(){var e=Pi.f(),n=Tu();return e||n}function gT(e){var n=qn(e);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Pi.r(e)}var ps=typeof document>"u"?null:document;function oy(e,n,a){var l=ps;if(l&&typeof n=="string"&&n){var h=me(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ly.has(h)||(ly.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",e),ue(n),l.head.appendChild(n)))}}function pT(e){Pi.D(e),oy("dns-prefetch",e,null)}function yT(e,n){Pi.C(e,n),oy("preconnect",e,n)}function _T(e,n,a){Pi.L(e,n,a);var l=ps;if(l&&e&&n){var h='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var f=h;switch(n){case"style":f=ys(e);break;case"script":f=_s(e)}Vn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Vn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),ke(n,"link",e),ue(n),l.head.appendChild(n)))}}function vT(e,n){Pi.m(e,n);var a=ps;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_s(e)}if(!Vn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Vn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}l=a.createElement("link"),ke(l,"link",e),ue(l),a.head.appendChild(l)}}}function ET(e,n,a){Pi.S(e,n,a);var l=ps;if(l&&e){var h=Xe(l).hoistableStyles,f=ys(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Ul(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Vn.get(f))&&If(e,a);var b=_=l.createElement("link");ue(b),ke(b,"link",e),b._p=new Promise(function(z,G){b.onload=z,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function TT(e,n){Pi.X(e,n);var a=ps;if(a&&e){var l=Xe(a).hoistableScripts,h=_s(e),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(e=A({src:e,async:!0},n),(n=Vn.get(h))&&Vf(e,n),f=a.createElement("script"),ue(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function AT(e,n){Pi.M(e,n);var a=ps;if(a&&e){var l=Xe(a).hoistableScripts,h=_s(e),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&Vf(e,n),f=a.createElement("script"),ue(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function uy(e,n,a,l){var h=(h=vt.current)?Vu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ys(a.href),a=Xe(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ys(a.href);var f=Xe(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Ul(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),f||ST(h,e,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_s(a),a=Xe(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ys(e){return'href="'+me(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function cy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ST(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),ue(n),e.head.appendChild(n))}function _s(e){return'[src="'+me(e)+'"]'}function Pl(e){return"script[async]"+e}function hy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return n.instance=l,ue(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ue(l),ke(l,"style",h),Ou(l,a.precedence,e),n.instance=l;case"stylesheet":h=ys(a.href);var f=e.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=cy(a),(h=Vn.get(h))&&If(l,h),f=(e.ownerDocument||e).createElement("link"),ue(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),ke(f,"link",l),n.state.loading|=4,Ou(f,a.precedence,e),n.instance=f;case"script":return f=_s(a.src),(h=e.querySelector(Pl(f)))?(n.instance=h,ue(h),h):(l=a,(h=Vn.get(f))&&(l=A({},a),Vf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),ke(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,e));return n.instance}function Ou(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Nu=null;function fy(e,n,a){if(Nu===null){var l=new Map,h=Nu=new Map;h.set(a,l)}else h=Nu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ha]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function dy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function bT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function my(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ll=null;function wT(){}function RT(e,n,a){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ys(a.href),f=e.querySelector(Ul(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Mu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=e.ownerDocument||e,a=cy(a),(h=Vn.get(h))&&If(a,h),f=f.createElement("link"),ue(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),ke(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Mu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function CT(){if(Ll===null)throw Error(s(475));var e=Ll;return e.stylesheets&&e.count===0&&Of(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Of(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Mu(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xu=null;function Of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xu=new Map,n.forEach(DT,e),xu=null,Mu.call(e))}function DT(e,n){if(!(n.state.loading&4)){var a=xu.get(e);if(a)var l=a.get(null);else{a=new Map,xu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Mu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var zl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function IT(e,n,a,l,h,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function gy(e,n,a,l,h,f,_,E,b,z,G,Y){return e=new IT(e,n,a,_,E,b,z,Y),n=1,f===!0&&(n|=24),f=un(3,null,null,n),e.current=f,f.stateNode=e,n=hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},gh(f),e}function py(e){return e?(e=Xr,e):Xr}function yy(e,n,a,l,h,f){h=py(h),l.context===null?l.context=h:l.pendingContext=h,l=$i(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ji(e,l,n),a!==null&&(mn(a,e,n),ml(a,e,n))}function _y(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Nf(e,n){_y(e,n),(e=e.alternate)&&_y(e,n)}function vy(e){if(e.tag===13){var n=Kr(e,67108864);n!==null&&mn(n,e,67108864),Nf(e,67108864)}}var Uu=!0;function VT(e,n,a,l){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Mf(e,n,a,l)}finally{et.p=f,F.T=h}}function OT(e,n,a,l){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Mf(e,n,a,l)}finally{et.p=f,F.T=h}}function Mf(e,n,a,l){if(Uu){var h=xf(l);if(h===null)Ef(e,n,l,Pu,a),Ty(e,l);else if(MT(h,e,n,a,l))l.stopPropagation();else if(Ty(e,l),n&4&&-1<NT.indexOf(e)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Nn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-He(_);E.entanglements[1]|=b,_&=~b}ei(f),(Ht&6)===0&&(vu=_n()+500,Ol(0))}}break;case 13:E=Kr(f,2),E!==null&&mn(E,f,2),Tu(),Nf(f,2)}if(f=xf(l),f===null&&Ef(e,n,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Ef(e,n,l,null,a)}}function xf(e){return e=Tn(e),Uf(e)}var Pu=null;function Uf(e){if(Pu=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Pu=e,null}function Ey(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lc()){case Ps:return 2;case Cr:return 8;case za:case zc:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var Pf=!1,ha=null,fa=null,da=null,kl=new Map,Bl=new Map,ma=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ty(e,n){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function ql(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&vy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function MT(e,n,a,l,h){switch(n){case"focusin":return ha=ql(ha,e,n,a,l,h),!0;case"dragenter":return fa=ql(fa,e,n,a,l,h),!0;case"mouseover":return da=ql(da,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,ql(kl.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Bl.set(f,ql(Bl.get(f)||null,e,n,a,l,h)),!0}return!1}function Ay(e){var n=mi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,To(e.priority,function(){if(a.tag===13){var l=dn();l=ji(l);var h=Kr(a,l);h!==null&&mn(h,a,l),Nf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);_i=l,a.target.dispatchEvent(l),_i=null}else return n=qn(a),n!==null&&vy(n),e.blockedOn=a,!1;n.shift()}return!0}function Sy(e,n,a){Lu(e)&&a.delete(n)}function xT(){Pf=!1,ha!==null&&Lu(ha)&&(ha=null),fa!==null&&Lu(fa)&&(fa=null),da!==null&&Lu(da)&&(da=null),kl.forEach(Sy),Bl.forEach(Sy)}function zu(e,n){e.blockedOn===n&&(e.blockedOn=null,Pf||(Pf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xT)))}var ku=null;function by(e){ku!==e&&(ku=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ku===e&&(ku=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Uf(l||a)===null)continue;break}var f=qn(a);f!==null&&(e.splice(n,3),n-=3,xh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(e){function n(b){return zu(b,e)}ha!==null&&zu(ha,e),fa!==null&&zu(fa,e),da!==null&&zu(da,e),kl.forEach(n),Bl.forEach(n);for(var a=0;a<ma.length;a++){var l=ma[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ma.length&&(a=ma[0],a.blockedOn===null);)Ay(a),a.blockedOn===null&&ma.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[de]||null;if(typeof f=="function")_||by(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[de]||null)E=_.formAction;else if(Uf(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),by(a)}}}function Lf(e){this._internalRoot=e}Bu.prototype.render=Lf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=dn();yy(a,l,e,n,null,null)},Bu.prototype.unmount=Lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yy(e.current,2,null,e,null,null),Tu(),n[vn]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ma.length&&n!==0&&n<ma[a].priority;a++);ma.splice(a,0,e),a===0&&Ay(e)}};var wy=t.version;if(wy!=="19.1.0")throw Error(s(527,wy,"19.1.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var UT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{se=qu.inject(UT),jt=qu}catch{}}return Fl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=qg,f=jg,_=Hg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=gy(e,1,!1,null,null,a,l,h,f,_,E,null),e[vn]=n.current,vf(e),new Lf(n)},Fl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",f=qg,_=jg,E=Hg,b=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=gy(e,1,!0,n,a??null,l,h,f,_,E,b,z),n.context=py(null),a=n.current,l=dn(),l=ji(l),h=$i(l),h.callback=null,Ji(a,h,l),a=l,n.current.lanes=a,di(n,a),ei(n),e[vn]=n.current,vf(e),new Bu(n)},Fl.version="19.1.0",Fl}var Uy;function QT(){if(Uy)return Bf.exports;Uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bf.exports=GT(),Bf.exports}var YT=QT();function KT({id:r,type:t,addTask:i}){const[s,o]=Xt.useState("");function c(g){o(g.target.value)}function d(g){g.preventDefault(),i(s),o("")}return pt.jsx(pt.Fragment,{children:pt.jsxs("form",{onSubmit:d,children:[pt.jsx("h2",{className:"label-wrapper",children:pt.jsx("label",{htmlFor:r,className:"label__lg",children:"What needs to be done?"})}),pt.jsx("input",{type:t,id:r,className:"input input__lg",name:"text",autoComplete:"off",value:s,onChange:c}),pt.jsx("button",{type:"submit",className:"btn btn__primary btn__lg",children:"Add"})]})})}function XT(r,t,i){r!="Clear_Storage"?t(r):i()}function ZT({val:r,isPressed:t,setFilter:i,handleClearStorage:s}){return pt.jsxs("button",{type:"button",className:"btn toggle-btn","aria-pressed":t,onClick:()=>XT(r,i,s),children:[pt.jsx("span",{className:"visually-hidden",children:"Show "}),pt.jsx("span",{children:r}),pt.jsx("span",{className:"visually-hidden",children:"tasks"})]})}function $T({name:r,id:t,isChecked:i,toggleTaskCompleted:s,deleteTask:o,editTask:c}){const d=Xt.useRef(null),g=Xt.useRef(!1),y=Xt.useRef(!1),[v,A]=Xt.useState(!1),[C,I]=Xt.useState(r);function j(lt){const bt=Xt.useRef();return Xt.useEffect(()=>{bt.current=lt}),bt.current}function Z(lt){lt.preventDefault(),c(t,C),A(!1)}function it(lt){I(lt.target.value)}const $=pt.jsxs("form",{onSubmit:Z,children:[pt.jsx("div",{children:pt.jsx("input",{id:`edit-${t}`,type:"text",value:C,onChange:it,ref:d},t)}),pt.jsxs("div",{className:"btn-group",children:[pt.jsxs("button",{type:"button",className:"btn",onClick:()=>A(!1),children:["Cancel ",pt.jsxs("span",{className:"visually-hidden",children:["renaming ",C]})]}),pt.jsxs("button",{type:"submit",className:"btn btn__danger",children:["Save ",pt.jsxs("span",{className:"visually-hidden",children:["renaming ",C]})]})]})]}),mt=pt.jsxs(pt.Fragment,{children:[pt.jsxs("div",{className:"c-cb",children:[pt.jsx("input",{id:`view-${t}`,type:"checkbox",checked:i,onChange:()=>s(t)}),pt.jsx("label",{className:"todo-label",htmlFor:`view-${t}`,children:C})]}),pt.jsxs("div",{className:"btn-group",children:[pt.jsxs("button",{type:"button",className:"btn",onClick:()=>A(!0),ref:y,disabled:i,children:["Edit ",pt.jsx("span",{className:"visually-hidden",children:C})]}),pt.jsxs("button",{ref:g,type:"button",className:"btn btn__danger",onClick:()=>o(t),disabled:i,children:["Delete ",pt.jsx("span",{className:"visually-hidden",children:C})]})]})]});Xt.useEffect(()=>{g.current&&g.current.disabled&&(g.current.className="btn__disabled"),y.current&&y.current.disabled&&(y.current.className="btn__disabled")},[i]);const st=j(v);return Xt.useEffect(()=>{!st&&v?d.current.focus():st&&!v&&y.current.focus()},[st,v]),pt.jsx(pt.Fragment,{children:v?$:mt})}let JT=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");var Ff,Py;function WT(){if(Py)return Ff;Py=1;var r={linear:function(t,i,s,o){var c=s-i;return c*t/o+i},easeInQuad:function(t,i,s,o){var c=s-i;return c*(t/=o)*t+i},easeOutQuad:function(t,i,s,o){var c=s-i;return-c*(t/=o)*(t-2)+i},easeInOutQuad:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t+i:-c/2*(--t*(t-2)-1)+i},easeInCubic:function(t,i,s,o){var c=s-i;return c*(t/=o)*t*t+i},easeOutCubic:function(t,i,s,o){var c=s-i;return c*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t*t+i:c/2*((t-=2)*t*t+2)+i},easeInQuart:function(t,i,s,o){var c=s-i;return c*(t/=o)*t*t*t+i},easeOutQuart:function(t,i,s,o){var c=s-i;return-c*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t*t*t+i:-c/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(t,i,s,o){var c=s-i;return c*(t/=o)*t*t*t*t+i},easeOutQuint:function(t,i,s,o){var c=s-i;return c*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t*t*t*t+i:c/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(t,i,s,o){var c=s-i;return-c*Math.cos(t/o*(Math.PI/2))+c+i},easeOutSine:function(t,i,s,o){var c=s-i;return c*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(t,i,s,o){var c=s-i;return-c/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(t,i,s,o){var c=s-i;return t==0?i:c*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(t,i,s,o){var c=s-i;return t==o?i+c:c*(-Math.pow(2,-10*t/o)+1)+i},easeInOutExpo:function(t,i,s,o){var c=s-i;return t===0?i:t===o?i+c:(t/=o/2)<1?c/2*Math.pow(2,10*(t-1))+i:c/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(t,i,s,o){var c=s-i;return-c*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(t,i,s,o){var c=s-i;return c*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+i:c/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(t,i,s,o){var c=s-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o)===1?i+c:(g||(g=o*.3),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),-(d*Math.pow(2,10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g))+i)},easeOutElastic:function(t,i,s,o){var c=s-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o)===1?i+c:(g||(g=o*.3),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),d*Math.pow(2,-10*t)*Math.sin((t*o-y)*(2*Math.PI)/g)+c+i)},easeInOutElastic:function(t,i,s,o){var c=s-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o/2)===2?i+c:(g||(g=o*(.3*1.5)),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),t<1?-.5*(d*Math.pow(2,10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g))+i:d*Math.pow(2,-10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g)*.5+c+i)},easeInBack:function(t,i,s,o,c){var d=s-i;return c===void 0&&(c=1.70158),d*(t/=o)*t*((c+1)*t-c)+i},easeOutBack:function(t,i,s,o,c){var d=s-i;return c===void 0&&(c=1.70158),d*((t=t/o-1)*t*((c+1)*t+c)+1)+i},easeInOutBack:function(t,i,s,o,c){var d=s-i;return c===void 0&&(c=1.70158),(t/=o/2)<1?d/2*(t*t*(((c*=1.525)+1)*t-c))+i:d/2*((t-=2)*t*(((c*=1.525)+1)*t+c)+2)+i},easeInBounce:function(t,i,s,o){var c=s-i,d;return d=r.easeOutBounce(o-t,0,c,o),c-d+i},easeOutBounce:function(t,i,s,o){var c=s-i;return(t/=o)<1/2.75?c*(7.5625*t*t)+i:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+i:c*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,s,o){var c=s-i,d;return t<o/2?(d=r.easeInBounce(t*2,0,c,o),d*.5+i):(d=r.easeOutBounce(t*2-o,0,c,o),d*.5+c*.5+i)}};return Ff=r,Ff}var t1=WT();function e1(r){return r*Math.PI/180}function gn(r,t){return r+Math.random()*(t-r)}function n1(r,t){return Math.floor(r+Math.random()*(t-r+1))}var Kl;(function(r){r[r.Circle=0]="Circle",r[r.Square=1]="Square",r[r.Strip=2]="Strip"})(Kl||(Kl={}));var pa;(function(r){r[r.Positive=1]="Positive",r[r.Negative=-1]="Negative"})(pa||(pa={}));const i1=1e3/60;class a1{constructor(t,i,s,o){this.getOptions=i;const{colors:c,initialVelocityX:d,initialVelocityY:g}=this.getOptions();this.context=t,this.x=s,this.y=o,this.w=gn(5,20),this.h=gn(5,20),this.radius=gn(5,10),this.vx=typeof d=="number"?gn(-d,d):gn(d.min,d.max),this.vy=typeof g=="number"?gn(-g,0):gn(g.min,g.max),this.shape=n1(0,2),this.angle=e1(gn(0,360)),this.angularSpin=gn(-.2,.2),this.color=c[Math.floor(Math.random()*c.length)],this.rotateY=gn(0,1),this.rotationDirection=gn(0,1)?pa.Positive:pa.Negative}update(t){const{gravity:i,wind:s,friction:o,opacity:c,drawShape:d}=this.getOptions(),g=t/i1;this.x+=this.vx*g,this.y+=this.vy*g,this.vy+=i*g,this.vx+=s*g,this.vx*=o**g,this.vy*=o**g,this.rotateY>=1&&this.rotationDirection===pa.Positive?this.rotationDirection=pa.Negative:this.rotateY<=-1&&this.rotationDirection===pa.Negative&&(this.rotationDirection=pa.Positive);const y=.1*this.rotationDirection*g;if(this.rotateY+=y,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=c,this.context.lineCap="round",this.context.lineWidth=2,d&&typeof d=="function")d.call(this,this.context);else switch(this.shape){case Kl.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Kl.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Kl.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class r1{constructor(t,i){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=o=>{this.particles.splice(o,1)},this.getParticle=()=>{const o=gn(this.x,this.w+this.x),c=gn(this.y,this.h+this.y);return new a1(this.context,this.getOptions,o,c)},this.animate=o=>{const{canvas:c,context:d,particlesGenerated:g,lastNumberOfPieces:y}=this,{run:v,recycle:A,numberOfPieces:C,debug:I,tweenFunction:j,tweenDuration:Z}=this.getOptions();if(!v)return!1;const it=this.particles.length,$=A?it:g;if($<C){y!==C&&(this.tweenProgress=0,this.tweenFrom=$,this.lastNumberOfPieces=C),this.tweenProgress=Math.min(Z,Math.max(0,this.tweenProgress+o));const mt=j(this.tweenProgress,this.tweenFrom,C,Z),st=Math.round(mt-$);for(let lt=0;lt<st;lt++)this.particles.push(this.getParticle());this.particlesGenerated+=st}I&&(d.font="12px sans-serif",d.fillStyle="#333",d.textAlign="right",d.fillText(`Particles: ${it}`,c.width-10,c.height-20));for(let mt=this.particles.length-1;mt>=0;mt--){const st=this.particles[mt];st.update(o),(st.y>c.height||st.y<-100||st.x>c.width+100||st.x<-100)&&(A&&$<=C?this.particles[mt]=this.getParticle():this.removeParticleAt(mt))}return it>0||$<C},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=i}}const Cd={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:t1.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class s1{constructor(t,i){this.lastFrameTime=0,this.setOptionsWithDefaults=o=>{const c={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...c,...Cd,...o},Object.assign(this,o.confettiSource)},this.update=(o=0)=>{const{options:{run:c,onConfettiComplete:d,frameRate:g},canvas:y,context:v}=this,A=Math.min(o-this.lastFrameTime,50);if(g&&A<1e3/g){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=o-(g?A%g:0),c&&(v.fillStyle="white",v.clearRect(0,0,y.width,y.height)),this.generator.animate(A)?this.rafId=requestAnimationFrame(this.update):(d&&typeof d=="function"&&this.generator.particlesGenerated>0&&d.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new r1(this.canvas,()=>this.options),this.options=i,this.update()}get options(){return this._options}set options(t){var o,c;const i=(o=this._options)==null?void 0:o.run,s=(c=this._options)==null?void 0:c.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&s===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&i===!1&&this.update()}}const l1=tc.createRef();class Dd extends tc.Component{constructor(t){super(t),this.canvas=tc.createRef(),this.canvas=t.canvasRef||l1}componentDidMount(){if(this.canvas.current){const t=Gf(this.props)[0];this.confetti=new s1(this.canvas.current,t)}}componentDidUpdate(){const t=Gf(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,i]=Gf(this.props),s={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...i.style};return pt.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...i,style:s})}}Dd.defaultProps={...Cd};Dd.displayName="ReactConfetti";function Gf(r){const t={},i={},s={},o=[...Object.keys(Cd),"confettiSource","drawShape","onConfettiComplete","frameRate"],c=["canvasRef"];for(const d in r){const g=r[d];o.includes(d)?t[d]=g:c.includes(d)?c[d]=g:s[d]=g}return[t,s,i]}const o1=tc.forwardRef((r,t)=>pt.jsx(Dd,{canvasRef:t,...r})),u1=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},c1=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let I=(g&15)<<2|v>>6,j=v&63;y||(j=64,d||(I=64)),s.push(i[A],i[C],i[I],i[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(ev(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):c1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const C=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||v==null||C==null)throw new h1;const I=c<<2|g>>4;if(s.push(I),v!==64){const j=g<<4&240|v>>2;if(s.push(j),C!==64){const Z=v<<6&192|C;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(r){const t=ev(r);return nv.encodeByteArray(t,!0)},ec=function(r){return f1(r).replace(/\./g,"")},d1=function(r){try{return nv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=()=>m1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const r=Ly.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&d1(r[1]);return t&&JSON.parse(t)},Id=()=>{try{return u1()||g1()||p1()||y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_1=r=>{var t,i;return(i=(t=Id())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},v1=r=>{const t=_1(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},iv=()=>{var r;return(r=Id())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ec(JSON.stringify(i)),ec(JSON.stringify(d)),""].join(".")}const Xl={};function S1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?r.emulator.push(t):r.prod.push(t);return r}function b1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let zy=!1;function w1(r,t){if(typeof window>"u"||typeof document>"u"||!Vd(window.location.host)||Xl[r]===t||Xl[r]||zy)return;Xl[r]=t;function i(I){return`__firebase__banner__${I}`}const s="__firebase__banner",c=S1().prod.length>0;function d(){const I=document.getElementById(s);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{zy=!0,d()},I}function A(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function C(){const I=b1(s),j=i("text"),Z=document.getElementById(j)||document.createElement("span"),it=i("learnmore"),$=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),st=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const lt=I.element;g(lt),A($,it);const bt=v();y(st,mt),lt.append(st,Z,$,bt),document.body.appendChild(lt)}c?(Z.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C1(){var r;const t=(r=Id())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function I1(){return!C1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function av(){try{return typeof indexedDB=="object"}catch{return!1}}function rv(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}function V1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="FirebaseError";class Na extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=O1,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?N1(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Na(o,g,s)}}function N1(r,t){return r.replace(M1,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const M1=/\{\$([^}]+)}/g;function eo(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=t[o];if(ky(c)&&ky(d)){if(!eo(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function ky(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=1e3,U1=2,P1=4*60*60*1e3,L1=.5;function By(r,t=x1,i=U1){const s=t*Math.pow(i,r),o=Math.round(L1*s*(Math.random()-.5)*2);return Math.min(P1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r){return r&&r._delegate?r._delegate:r}class Li{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new E1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B1(t))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=_r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_r){return this.instances.has(t)}getOptions(t=_r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:k1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=_r){return this.component?this.component.multipleInstances?t:_r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k1(r){return r===_r?void 0:r}function B1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new z1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const j1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},H1=Lt.INFO,F1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},G1=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=F1[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Od{constructor(t){this.name=t,this._logLevel=H1,this._logHandler=G1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?j1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const Q1=(r,t)=>t.some(i=>r instanceof i);let qy,jy;function Y1(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return jy||(jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sv=new WeakMap,id=new WeakMap,lv=new WeakMap,Qf=new WeakMap,Nd=new WeakMap;function X1(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(_a(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&sv.set(i,r)}).catch(()=>{}),Nd.set(t,r),t}function Z1(r){if(id.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});id.set(r,t)}let ad={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return id.get(r);if(t==="objectStoreNames")return r.objectStoreNames||lv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _a(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function $1(r){ad=r(ad)}function J1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Yf(this),t,...i);return lv.set(s,t.sort?t.sort():[t]),_a(s)}:K1().includes(r)?function(...t){return r.apply(Yf(this),t),_a(sv.get(this))}:function(...t){return _a(r.apply(Yf(this),t))}}function W1(r){return typeof r=="function"?J1(r):(r instanceof IDBTransaction&&Z1(r),Q1(r,Y1())?new Proxy(r,ad):r)}function _a(r){if(r instanceof IDBRequest)return X1(r);if(Qf.has(r))return Qf.get(r);const t=W1(r);return t!==r&&(Qf.set(r,t),Nd.set(t,r)),t}const Yf=r=>Nd.get(r);function ov(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=_a(d);return s&&d.addEventListener("upgradeneeded",y=>{s(_a(d.result),y.oldVersion,y.newVersion,_a(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const tA=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],Kf=new Map;function Hy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Kf.get(t))return Kf.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=eA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return Kf.set(t,c),c}$1(r=>({...r,get:(t,i,s)=>Hy(t,i)||r.get(t,i,s),has:(t,i)=>!!Hy(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function iA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rd="@firebase/app",Fy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Od("@firebase/app"),aA="@firebase/app-compat",rA="@firebase/analytics-compat",sA="@firebase/analytics",lA="@firebase/app-check-compat",oA="@firebase/app-check",uA="@firebase/auth",cA="@firebase/auth-compat",hA="@firebase/database",fA="@firebase/data-connect",dA="@firebase/database-compat",mA="@firebase/functions",gA="@firebase/functions-compat",pA="@firebase/installations",yA="@firebase/installations-compat",_A="@firebase/messaging",vA="@firebase/messaging-compat",EA="@firebase/performance",TA="@firebase/performance-compat",AA="@firebase/remote-config",SA="@firebase/remote-config-compat",bA="@firebase/storage",wA="@firebase/storage-compat",RA="@firebase/firestore",CA="@firebase/ai",DA="@firebase/firestore-compat",IA="firebase",VA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",OA={[rd]:"fire-core",[aA]:"fire-core-compat",[sA]:"fire-analytics",[rA]:"fire-analytics-compat",[oA]:"fire-app-check",[lA]:"fire-app-check-compat",[uA]:"fire-auth",[cA]:"fire-auth-compat",[hA]:"fire-rtdb",[fA]:"fire-data-connect",[dA]:"fire-rtdb-compat",[mA]:"fire-fn",[gA]:"fire-fn-compat",[pA]:"fire-iid",[yA]:"fire-iid-compat",[_A]:"fire-fcm",[vA]:"fire-fcm-compat",[EA]:"fire-perf",[TA]:"fire-perf-compat",[AA]:"fire-rc",[SA]:"fire-rc-compat",[bA]:"fire-gcs",[wA]:"fire-gcs-compat",[RA]:"fire-fst",[DA]:"fire-fst-compat",[CA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,NA=new Map,ld=new Map;function Gy(r,t){try{r.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Sa(r){const t=r.name;if(ld.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;ld.set(t,r);for(const i of nc.values())Gy(i,r);for(const i of NA.values())Gy(i,r);return!0}function uo(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function MA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new yc("app","Firebase",xA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=VA;function uv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:sd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw va.create("bad-app-name",{appName:String(o)});if(i||(i=iv()),!i)throw va.create("no-options");const c=nc.get(o);if(c){if(eo(i,c.options)&&eo(s,c.config))return c;throw va.create("duplicate-app",{appName:o})}const d=new q1(o);for(const y of ld.values())d.addComponent(y);const g=new UA(i,s,d);return nc.set(o,g),g}function cv(r=sd){const t=nc.get(r);if(!t&&r===sd&&iv())return uv();if(!t)throw va.create("no-app",{appName:r});return t}function ii(r,t,i){var s;let o=(s=OA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}Sa(new Li(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firebase-heartbeat-database",zA=1,no="firebase-heartbeat-store";let Xf=null;function hv(){return Xf||(Xf=ov(LA,zA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(r=>{throw va.create("idb-open",{originalErrorMessage:r.message})})),Xf}async function kA(r){try{const i=(await hv()).transaction(no),s=await i.objectStore(no).get(fv(r));return await i.done,s}catch(t){if(t instanceof Na)zi.warn(t.message);else{const i=va.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}async function Qy(r,t){try{const s=(await hv()).transaction(no,"readwrite");await s.objectStore(no).put(t,fv(r)),await s.done}catch(i){if(i instanceof Na)zi.warn(i.message);else{const s=va.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});zi.warn(s.message)}}}function fv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,qA=30;class jA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new FA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Yy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>qA){const d=GA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Yy(),{heartbeatsToSend:s,unsentEntries:o}=HA(this._heartbeatsCache.heartbeats),c=ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return zi.warn(i),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function HA(r,t=BA){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Ky(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ky(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class FA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return av()?rv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ky(r){return ec(JSON.stringify({version:2,heartbeats:r})).length}function GA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r){Sa(new Li("platform-logger",t=>new nA(t),"PRIVATE")),Sa(new Li("heartbeat",t=>new jA(t),"PRIVATE")),ii(rd,Fy,r),ii(rd,Fy,"esm2017"),ii("fire-js","")}QA("");var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,dv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,M,U){for(var w=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)w[ve-2]=arguments[ve];return S.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],M=N.g[2];var U=N.g[3],w=S+(U^R&(M^U))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^U&(R^M))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^U)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~U))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){o(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function c(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(R[M]=U,O=!1)}this.g=R}var g={};function y(N){return-128<=N&&128>N?c(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return $(v(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return $(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=C,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),w=parseInt(N.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var C=y(0),I=y(1),j=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-$(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(it(this))return"-"+$(this).toString(N);for(var S=v(Math.pow(N,6)),R=this,O="";;){var M=bt(R,S).g;R=mt(R,M.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,Z(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=mt(this,N),it(N)?-1:Z(N)?0:1};function $(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new d(R,~N.h).add(I)}r.abs=function(){return it(this)?$(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=w>>>16,U&=65535,w&=65535,R[M]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(N,S){return N.add($(S))}r.j=function(N){if(Z(this)||Z(N))return C;if(it(this))return it(N)?$(this).j($(N)):$($(this).j(N));if(it(N))return $(this.j($(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,w=this.i(O)&65535,ve=N.i(M)>>>16,Wt=N.i(M)&65535;R[2*O+2*M]+=w*Wt,st(R,2*O+2*M),R[2*O+2*M+1]+=U*Wt,st(R,2*O+2*M+1),R[2*O+2*M+1]+=w*ve,st(R,2*O+2*M+1),R[2*O+2*M+2]+=U*ve,st(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function st(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function lt(N,S){this.g=N,this.h=S}function bt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new lt(C,C);if(it(N))return S=bt($(N),S),new lt($(S.g),$(S.h));if(it(S))return S=bt(N,$(S)),new lt($(S.g),S.h);if(30<N.g.length){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,O=S;0>=O.l(N);)R=Tt(R),O=Tt(O);var M=Nt(R,1),U=Nt(O,1);for(O=Nt(O,2),R=Nt(R,2);!Z(O);){var w=U.add(O);0>=w.l(N)&&(M=M.add(R),U=w),O=Nt(O,1),R=Nt(R,1)}return S=mt(N,M.j(S)),new lt(M,S)}for(M=C;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(R),w=U.j(S);it(w)||0<w.l(N);)R-=O,U=v(R),w=U.j(S);Z(U)&&(U=I),M=M.add(U),N=mt(N,w)}return new lt(M,N)}r.A=function(N){return bt(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new d(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new d(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new d(R,this.h^N.h)};function Tt(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(R,N.h)}function Nt(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new d(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ea=d}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,Gl,gv,Ku,od,pv,yv,_v;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var p=0,T=!1,P={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function I(u,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,I.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,P,q){for(var tt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)tt[Mt-2]=arguments[Mt];return m.prototype[P].apply(T,tt)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const P=u.length||0,q=T.length||0;u.length=P+q;for(let tt=0;tt<q;tt++)u[P+tt]=T[tt]}else u.push(T)}}class mt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var Tt=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Nt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let q=0;q<R.length;q++)p=R[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=ft;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,p){const T=Wt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Wt=new mt(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,J=!1,ft=new ve,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(H)}};var H=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}J=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Ct(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{bt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}Z(Ct,W);var vt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),$t=0;function kn(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++$t,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,p,T,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Pa(u,m,T,P);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new kn(m,this.src,q,!!T,P),m.fa=p,u.push(m)),m};function Ua(u,m){var p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(T,P,1),q&&(qi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Pa(u,m,p,T){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return P}return-1}var La="closure_lm_"+(1e6*Math.random()|0),Us={};function _o(u,m,p,T,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)_o(u,m[q],p,T,P);return null}return p=vo(p),u&&u[De]?u.K(m,p,v(T)?!!T.capture:!1,P):_n(u,m,p,!1,T,P)}function _n(u,m,p,T,P,q){if(!m)throw Error("Invalid event type");var tt=v(P)?!!P.capture:!!P,Mt=Dr(u);if(Mt||(u[La]=Mt=new hi(u)),p=Mt.add(m,p,T,tt,q),p.proxy)return p;if(T=Lc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(za(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Lc(){function u(p){return m.call(u.src,u.listener,p)}const m=zc;return u}function Ps(u,m,p,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ps(u,m[q],p,T,P);else T=v(T)?!!T.capture:!!T,p=vo(p),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Pa(q,p,T,P),-1<p&&(qi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Dr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pa(m,p,T,P)),(p=-1<u?m[u]:null)&&Cr(p))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Ua(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(za(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Dr(m))?(Ua(p,u),p.h==0&&(p.src=null,m[La]=null)):qi(u)}}}function za(u){return u in Us?Us[u]:Us[u]="on"+u}function zc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Cr(u),u=p.call(T,m)}return u}function Dr(u){return u=u[La],u instanceof hi?u:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(u){return typeof u=="function"?u:(u[Ls]||(u[Ls]=function(m){return u.handleEvent(m)}),u[Ls])}function se(){nt.call(this),this.i=new hi(this),this.M=this,this.F=null}Z(se,nt),se.prototype[De]=!0,se.prototype.removeEventListener=function(u,m,p,T){Ps(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var P=m;m=new W(T,u),O(m,P)}if(P=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];P=sn(tt,T,!0,m)&&P}if(tt=m.g=u,P=sn(tt,T,!0,m)&&P,P=sn(tt,T,!1,m)&&P,p)for(q=0;q<p.length;q++)tt=m.g=p[q],P=sn(tt,T,!1,m)&&P}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)qi(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function sn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Mt=tt.listener,Te=tt.ha||tt.src;tt.fa&&Ua(u.i,tt),P=Mt.call(Te,T)!==!1&&P}}return P&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=I(u,p));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Eo(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){nt.call(this),this.h=u,this.g={}}Z(ka,nt);var Ba=[];function qa(u){Nt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Cr(m)},u),u.g={}}ka.prototype.N=function(){ka.aa.N.call(this),qa(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,Ir=g.JSON.parse,ja=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function zs(){}zs.prototype.h=null;function ks(u){return u.h||(u.h=u.i())}function Bs(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){W.call(this,"d")}Z(di,W);function qs(){W.call(this,"c")}Z(qs,W);var Bn={},js=null;function ji(){return js=js||new se}Bn.La="serverreachability";function Vr(u){W.call(this,Bn.La,u)}Z(Vr,W);function Hi(u){const m=ji();jt(m,new Vr(m))}Bn.STAT_EVENT="statevent";function To(u,m){W.call(this,Bn.STAT_EVENT,u),this.stat=m}Z(To,W);function ne(u){const m=ji();jt(m,new To(m,u))}Bn.Ma="timingevent";function Ee(u,m){W.call(this,Bn.Ma,u),this.size=m}Z(Ee,W);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Hs(u,m,p,T,P,q){u.info(function(){if(u.g)if(q)for(var tt="",Mt=q.split("&"),Te=0;Te<Mt.length;Te++){var xt=Mt[Te].split("=");if(1<xt.length){var Ve=xt[0];xt=xt[1];var Ae=Ve.split("_");tt=2<=Ae.length&&Ae[1]=="type"?tt+(Ve+"="+xt+"&"):tt+(Ve+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+tt})}function Bc(u,m,p,T,P,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+q+" "+tt})}function Fi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ha(u,p)+(T?" "+T:"")})}function Ao(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function Ha(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<P.length;tt++)P[tt]=""}}}}return Nn(p)}catch{return m}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}Z(jn,zs),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Fs={},Or={};function Mn(u,m,p){u.L=1,u.v=Ka(ln(m)),u.m=p,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Fa(u),u.A=ln(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Zs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ue,u.g=zo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new kc(I(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ba[0]=P.toString()),P=Ba);for(var q=0;q<P.length;q++){var tt=_o(p,P[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Hi(),Hs(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Sn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Vo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Si?Hi(3):Hi(2)),Qi(this);var p=this.g.Z();this.X=p;e:if(So(this)){var T=Vo(this.g);u="";var P=T.length,q=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Hn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Bc(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Mt)){var xt=Mt;break e}}xt=null}if(p=xt)Fi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ga(this,p);else{this.o=!1,this.s=3,ne(12),Ue(this),Hn(this);break t}}if(this.P){p=!0;let Pe;for(;!this.J&&this.C<tt.length;)if(Pe=bo(this,tt),Pe==Or){Ae==4&&(this.s=4,ne(14),p=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Fs){this.s=4,ne(15),Fi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Fi(this.i,this.l,Pe,null),Ga(this,Pe);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||tt.length!=0||this.h.h||(this.s=1,ne(16),p=!1),this.o=this.o&&p,!p)Fi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ue(this),Hn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),nr(Ve),Ve.M=!0,ne(11))}}else Fi(this.i,this.l,tt,null),Ga(this,tt);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Uo(this.j,this):(this.o=!1,Fa(this)))}else Gc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ue(this),Hn(this)}}}catch{}finally{}};function So(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Or:(p=Number(m.substring(p,T)),isNaN(p)?Fs:(T+=1,T+p>m.length?Or:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Fa(u){u.S=Date.now()+u.I,wo(u,u.I)}function wo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(I(u.ba,u),m)}function Qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ao(this.i,this.A),this.L!=2&&(Hi(),ne(17)),Ue(this),this.s=2,Hn(this)):wo(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Uo(u.j,u)}function Ue(u){Qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ga(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Gs(p.h,u))){if(!u.K&&Gs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Hr(p),qr(p);else break t;el(p),ne(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(I(p.Za,p),6e3));if(1>=Mr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ai(p,11)}else if((u.K||p.g==u)&&Hr(p),!st(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let xt=P[m];if(p.T=xt[0],xt=xt[1],p.G==2)if(xt[0]=="c"){p.K=xt[1],p.ia=xt[2];const Ve=xt[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const Ae=xt[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const Si=xt[5];Si!=null&&typeof Si=="number"&&0<Si&&(T=1.5*Si,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pe=u.g;if(Pe){const Zn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var q=T.h;q.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xr(q,q.h),q.h=null))}if(T.D){const il=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(T.ya=il,Gt(T.I,T.D,il))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Lo(T,T.J?T.ia:null,T.W),tt.K){Ze(T.h,tt);var Mt=tt,Te=T.L;Te&&(Mt.I=Te),Mt.B&&(Qi(Mt),Fa(Mt)),T.g=tt}else Mo(T);0<p.i.length&&jr(p)}else xt[0]!="stop"&&xt[0]!="close"||Ai(p,7);else p.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ai(p,7):Ws(p):xt[0]!="noop"&&p.l&&p.l.ta(xt),p.v=0)}}Hi(4)}catch{}}var Ro=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mr(u){return u.h?1:u.g?u.g.size:0}function Gs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xr(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=Qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function qc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ur(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ys(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ur(u),T=qc(u),P=T.length,q=0;q<P;q++)m.call(void 0,T[q],p&&p[q],u)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),P=null;if(0<=T){var q=u[p].substring(0,T);P=u[p].substring(T+1)}else q=u[p];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Ya(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.s),this.l=u.l;var m=u.i,p=new _i;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),yi(this,p),this.m=u.m}else u&&(m=String(u).match(Qa))?(this.h=!1,Ya(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),Yi(this,m[4]),this.l=En(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xa(m,Ks,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xa(m,Ks,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Xa(p,p.charAt(0)=="/"?Hc:Xs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Xa(p,Pr)),u.join("")};function ln(u){return new me(u)}function Ya(u,m,p){u.j=p?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,p){m instanceof _i?(u.i=m,Do(u.i,u.h)):(p||(m=Xa(m,Fc)),u.i=new _i(m,u.h))}function Gt(u,m,p){u.i.set(m,p)}function Ka(u){return Gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Co),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Co(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,Xs=/[#\?:]/g,Hc=/[#\?]/g,Fc=/[#\?@]/g,Pr=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&jc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=_i.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Fn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function vi(u,m){Tn(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return Tn(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const P=u[T];for(let q=0;q<P.length;q++)p.push(m[T])}return p},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Fn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Zs(u,m,p){vi(u,m),0<p.length&&(u.i=null,u.g.set(Fn(u,m),it(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var P=q;tt[T]!==""&&(P+="="+encodeURIComponent(String(tt[T]))),u.push(P)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Do(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(p,T){var P=T.toLowerCase();T!=P&&(vi(this,T),Zs(this,P,p))},u)),u.j=m}function Za(u,m){const p=new vn;if(g.Image){const T=new Image;T.onload=j(An,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(An,p,"TestLoadImage: error",!1,m,T),T.onabort=j(An,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(An,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xn(u,m){const p=new vn,T=new AbortController,P=setTimeout(()=>{T.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(p,"TestPingServer: error",!1,m)})}function An(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function $a(){this.g=new ja}function Gn(u,m,p){const T=p||"";try{Ys(u,function(P,q){let tt=P;v(P)&&(tt=Nn(P)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Ki(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(Ki,zs),Ki.prototype.g=function(){return new Ti(this.l,this.j)},Ki.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ti,se),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&$s(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Js(u){let m="";return Nt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ie(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Js(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Gt(u,m,p))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,se);var Lr=/^https?$/i,Ja=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ks(this.o):ks(qn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Io(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ja,m,void 0))||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Io(this,q)}};function Io(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zr(u),Kn(u)}function zr(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Kn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?kr(this):this.bb())},r.bb=function(){kr(this)};function kr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)He(u.Ea,0,u);else if(jt(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var P=String(u.D).match(Qa)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Lr.test(P?P.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<Sn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",zr(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Wa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Wa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ir(m)}};function Vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gc(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(st(u[T]))continue;var p=M(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[P]||[];m[P]=q,q.push(p)}N(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Br(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tr("baseRetryDelayMs",5e3,u),this.cb=tr("retryDelaySeedMs",1e4,u),this.Wa=tr("forwardChannelMaxRetries",2,u),this.wa=tr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new $a,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Br.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){ne(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Lo(this,null,this.W),jr(this)};function Ws(u){if(Oo(u),u.G==3){var m=u.U++,p=ln(u.I);if(Gt(p,"SID",u.K),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),er(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=Ka(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=zo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fa(m)}Po(u)}function qr(u){u.g&&(nr(u),u.g.cancel(),u.g=null)}function Oo(u){qr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Hr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function jr(u){if(!Nr(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),J||(et(),J=!0),ft.add(m,u),u.B=0}}function Qc(u,m){return Mr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(I(u.Ga,u,m),nl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=No(this,P,m),p=ln(this.I),Gt(p,"RID",u),Gt(p,"CVER",22),this.D&&Gt(p,"X-HTTP-Session-Id",this.D),er(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Js(q)))+"&"+m:this.m&&Ie(p,this.m,q)),xr(this.h,P),this.Ua&&Gt(p,"TYPE","init"),this.P?(Gt(p,"$req",m),Gt(p,"SID","null"),P.T=!0,Mn(P,p,null)):Mn(P,p,m),this.G=2}}else this.G==3&&(u?tl(this,u):this.i.length==0||Nr(this.h)||tl(this))};function tl(u,m){var p;m?p=m.l:p=u.U++;const T=ln(u.I);Gt(T,"SID",u.K),Gt(T,"RID",p),Gt(T,"AID",u.T),er(u,T),u.m&&u.o&&Ie(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=No(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xr(u.h,p),Mn(p,T,m)}function er(u,m){u.H&&Nt(u.H,function(p,T){Gt(m,T,p)}),u.l&&Ys({},function(p,T){Gt(m,T,p)})}function No(u,m,p){p=Math.min(u.i.length,p);var T=u.l?I(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=P[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Mt=!0;for(let Te=0;Te<p;Te++){let xt=P[Te].g;const Ve=P[Te].map;if(xt-=q,0>xt)q=Math.max(0,P[Te].g-100),Mt=!1;else try{Gn(Ve,tt,"req"+xt+"_")}catch{T&&T(Ve)}}if(Mt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),J||(et(),J=!0),ft.add(m,u),u.v=0}}function el(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(I(u.Fa,u),nl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),qr(this),xo(this))};function nr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Gt(m,"RID","rpc"),Gt(m,"SID",u.K),Gt(m,"AID",u.T),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Gt(m,"TO",u.ja),Gt(m,"TYPE","xmlhttp"),er(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ka(ln(m)),p.m=null,p.P=!0,gi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,qr(this),el(this),ne(19))};function Hr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Uo(u,m){var p=null;if(u.g==m){Hr(u),nr(u),u.g=null;var T=2}else if(Gs(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=ji(),jt(T,new Ee(T,p)),jr(u)}else Mo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Qc(u,m)||T==2&&el(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function nl(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var p=I(u.fb,u),T=u.Xa;const P=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ya(T,"https"),Ka(T),P?Za(T.toString(),p):xn(T.toString(),p)}else ne(2);u.G=0,u.l&&u.l.sa(m),Po(u),Oo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Po(u){if(u.G=0,u.ka=[],u.l){const m=Qs(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function Lo(u,m,p){var T=p instanceof me?ln(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new me(null);T&&Ya(q,T),m&&(q.g=m),P&&Yi(q,P),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Gt(T,p,m),Gt(T,"VER",u.la),er(u,T),T}function zo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Ki({eb:p})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}r=ko.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fr(){}Fr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Br(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!st(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}Z($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ws(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Nn(u),u=p);m.i.push(new Ro(m.Ya++,u)),m.G==3&&jr(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,$e.aa.N.call(this)};function Bo(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Bo,di);function qo(){qs.call(this),this.status=1}Z(qo,qs);function Xn(u){this.g=u}Z(Xn,ko),Xn.prototype.ua=function(){jt(this.g,"a")},Xn.prototype.ta=function(u){jt(this.g,new Bo(u))},Xn.prototype.sa=function(u){jt(this.g,new qo)},Xn.prototype.ra=function(){jt(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,_v=function(){return new Fr},yv=function(){return ji()},pv=Bn,od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Ku=Gi,mi.COMPLETE="complete",gv=mi,Bs.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",se.prototype.listen=se.prototype.K,Gl=Bs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,mv=Bt}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore",$y="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Od("@firebase/firestore");function vs(){return Tr.logLevel}function at(r,...t){if(Tr.logLevel<=Lt.DEBUG){const i=t.map(Md);Tr.debug(`Firestore (${Os}): ${r}`,...i)}}function ki(r,...t){if(Tr.logLevel<=Lt.ERROR){const i=t.map(Md);Tr.error(`Firestore (${Os}): ${r}`,...i)}}function ba(r,...t){if(Tr.logLevel<=Lt.WARN){const i=t.map(Md);Tr.warn(`Firestore (${Os}): ${r}`,...i)}}function Md(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,vv(r,s,i)}function vv(r,t,i){let s=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ki(s),new Error(s)}function qt(r,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||vv(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Na{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class KA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class XA{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ta,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ta)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new Ev(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class ZA{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $A{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new ZA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=WA(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function ud(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),o=t.codePointAt(i);if(s!==o){if(s<128&&o<128)return Rt(s,o);{const c=Tv(),d=tS(c.encode(Wy(r,i)),c.encode(Wy(t,i)));return d!==0?d:Rt(s,o)}}i+=s>65535?2:1}return Rt(r.length,t.length)}function Wy(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function tS(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Rt(r[i],t[i]);return Rt(r.length,t.length)}function Rs(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="__name__";class ni{constructor(t,i,s){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&yt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=ni.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Rt(t.length,i.length)}static compareSegments(t,i){const s=ni.isNumericId(t),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(t).compare(ni.extractNumericId(i)):ud(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ea.fromString(t.substring(4,t.length-2))}}class te extends ni{construct(t,i,s){return new te(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const eS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ni{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return eS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t_}static keyField(){return new qe([t_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(te.fromString(t))}static fromName(t){return new ht(te.fromString(t).popFirst(5))}static empty(){return new ht(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r,t,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function nS(r,t,i,s){if(t===!0&&s===!0)throw new ot(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function e_(r){if(!ht.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function n_(r){if(ht.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function wa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ud(r);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,t){const i={typeString:r};return t&&(i.value=t),i}function co(r,t){if(!Sv(r))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ot(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,a_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*a_);return new ee(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<i_)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(co(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-i_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:_e("string",ee._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ee(0,0))}static max(){return new Et(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function iS(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Ra(o,ht.empty(),t)}function aS(r){return new Ra(r.readTime,r.key,io)}class Ra{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ra(Et.min(),ht.empty(),io)}static max(){return new Ra(Et.max(),ht.empty(),io)}}function rS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==sS)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,s)=>{i(t)})}static reject(t){return new K((i,s)=>{s(t)})}static waitFor(t){return new K((i,s)=>{let o=0,c=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>s(y))}),d=!0,c===o&&i()})}static or(t){let i=K.resolve(!1);for(const s of t)i=i.next(o=>o?K.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new K((s,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>o(A))}})}static doWhile(t,i){return new K((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function oS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ms(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}_c.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function vc(r){return r==null}function ic(r){return r===0&&1/r==-1/0}function uS(r){return typeof r=="number"&&Number.isInteger(r)&&!ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="";function cS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=r_(t)),t=hS(r.get(i),t);return r_(t)}function hS(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case bv:i+="";break;default:i+=c}}return i}function r_(r){return r+bv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ma(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function wv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hu(this.root,t,this.comparator,!0)}}class Hu{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new Be(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,s,o,c){return this}insert(t,i,s){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(t){return new l_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class l_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new pn([])}unionWith(t){let i=new Ce(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Rs(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Rv("Invalid base64 string: "+c):c}}(t);return new je(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const fS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=fS.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Da(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="server_timestamp",Dv="__type__",Iv="__previous_value__",Vv="__local_write_time__";function Ld(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Dv])===null||i===void 0?void 0:i.stringValue)===Cv}function Ec(r){const t=r.mapValue.fields[Iv];return Ld(t)?Ec(t):t}function ao(r){const t=Ca(r.mapValue.fields[Vv].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t,i,s,o,c,d,g,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const ac="(default)";class ro{constructor(t,i){this.projectId=t,this.database=i||ac}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===ac}isEqual(t){return t instanceof ro&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__type__",mS="__max__",Fu={mapValue:{}},Nv="__vector__",rc="value";function Ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ld(r)?4:pS(r)?9007199254740991:gS(r)?10:11:yt(28295,{value:r})}function ui(r,t){if(r===t)return!0;const i=Ia(r);if(i!==Ia(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ao(r).isEqual(ao(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ca(o.timestampValue),g=Ca(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Da(o.bytesValue).isEqual(Da(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return fe(o.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return fe(o.integerValue)===fe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=fe(o.doubleValue),g=fe(c.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Rs(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(s_(d)!==s_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ui(d[y],g[y])))return!1;return!0}(r,t);default:return yt(52216,{left:r})}}function so(r,t){return(r.values||[]).find(i=>ui(i,t))!==void 0}function Cs(r,t){if(r===t)return 0;const i=Ia(r),s=Ia(t);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=fe(c.integerValue||c.doubleValue),y=fe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,t);case 3:return o_(r.timestampValue,t.timestampValue);case 4:return o_(ao(r),ao(t));case 5:return ud(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Da(c),y=Da(d);return g.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const A=Rt(g[v],y[v]);if(A!==0)return A}return Rt(g.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Rt(fe(c.latitude),fe(d.latitude));return g!==0?g:Rt(fe(c.longitude),fe(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return u_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,y,v,A;const C=c.fields||{},I=d.fields||{},j=(g=C[rc])===null||g===void 0?void 0:g.arrayValue,Z=(y=I[rc])===null||y===void 0?void 0:y.arrayValue,it=Rt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:u_(j,Z)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===Fu.mapValue&&d===Fu.mapValue)return 0;if(c===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let C=0;C<y.length&&C<A.length;++C){const I=ud(y[C],A[C]);if(I!==0)return I;const j=Cs(g[y[C]],v[A[C]]);if(j!==0)return j}return Rt(y.length,A.length)}(r.mapValue,t.mapValue);default:throw yt(23264,{le:i})}}function o_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const i=Ca(r),s=Ca(t),o=Rt(i.seconds,s.seconds);return o!==0?o:Rt(i.nanos,s.nanos)}function u_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Cs(i[o],s[o]);if(c)return c}return Rt(i.length,s.length)}function Ds(r){return cd(r)}function cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ca(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Da(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ht.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=cd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${cd(i.fields[d])}`;return o+"}"}(r.mapValue):yt(61005,{value:r})}function Xu(r){switch(Ia(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ec(r);return t?16+Xu(t):16;case 5:return 2*r.stringValue.length;case 6:return Da(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Xu(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ma(s.fields,(c,d)=>{o+=c.length+Xu(d)}),o}(r.mapValue);default:throw yt(13486,{value:r})}}function hd(r){return!!r&&"integerValue"in r}function zd(r){return!!r&&"arrayValue"in r}function c_(r){return!!r&&"nullValue"in r}function h_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zu(r){return!!r&&"mapValue"in r}function gS(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ov])===null||i===void 0?void 0:i.stringValue)===Nv}function Zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ma(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Zl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function pS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Zu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(i)}setAll(t){let i=qe.emptyPath(),s={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Zl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Ma(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new an(Zl(this.value))}}function Mv(r){const t=[];return Ma(r.fields,(i,s)=>{const o=new qe([i]);if(Zu(s)){const c=Mv(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,o,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,Et.min(),Et.min(),Et.min(),an.empty(),0)}static newFoundDocument(t,i,s,o){return new Ke(t,1,i,Et.min(),s,o,0)}static newNoDocument(t,i){return new Ke(t,2,i,Et.min(),Et.min(),an.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,Et.min(),Et.min(),an.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,i){this.position=t,this.inclusive=i}}function f_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=Cs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function d_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,i="asc"){this.field=t,this.dir=i}}function yS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{}class we extends xv{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new vS(t,i,s):i==="array-contains"?new AS(t,s):i==="in"?new SS(t,s):i==="not-in"?new bS(t,s):i==="array-contains-any"?new wS(t,s):new we(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new ES(t,s):new TS(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cs(i,this.value)):i!==null&&Ia(this.value)===Ia(i)&&this.matchesComparison(Cs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends xv{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new ci(t,i)}matches(t){return Uv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Uv(r){return r.op==="and"}function Pv(r){return _S(r)&&Uv(r)}function _S(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function fd(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Ds(r.value);if(Pv(r))return r.filters.map(t=>fd(t)).join(",");{const t=r.filters.map(i=>fd(i)).join(",");return`${r.op}(${t})`}}function Lv(r,t){return r instanceof we?function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,t):r instanceof ci?function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&Lv(d,o.filters[g]),!0):!1}(r,t):void yt(19439)}function zv(r){return r instanceof we?function(i){return`${i.field.canonicalString()} ${i.op} ${Ds(i.value)}`}(r):r instanceof ci?function(i){return i.op.toString()+" {"+i.getFilters().map(zv).join(" ,")+"}"}(r):"Filter"}class vS extends we{constructor(t,i,s){super(t,i,s),this.key=ht.fromName(s.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class ES extends we{constructor(t,i){super(t,"in",i),this.keys=kv("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class TS extends we{constructor(t,i){super(t,"not-in",i),this.keys=kv("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function kv(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ht.fromName(s.referenceValue))}class AS extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zd(i)&&so(i.arrayValue,this.value)}}class SS extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class bS extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class wS extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>so(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,i=null,s=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function m_(r,t=null,i=[],s=[],o=null,c=null,d=null){return new RS(r,t,i,s,o,c,d)}function kd(r){const t=At(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>fd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),vc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ds(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ds(s)).join(",")),t.Pe=i}return t.Pe}function Bd(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!yS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Lv(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!d_(r.startAt,t.startAt)&&d_(r.endAt,t.endAt)}function dd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function CS(r,t,i,s,o,c,d,g){return new Tc(r,t,i,s,o,c,d,g)}function Bv(r){return new Tc(r)}function g_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DS(r){return r.collectionGroup!==null}function $l(r){const t=At(r);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(qe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new lc(c,s))}),i.has(qe.keyField().canonicalString())||t.Te.push(new lc(qe.keyField(),s))}return t.Te}function ai(r){const t=At(r);return t.Ie||(t.Ie=IS(t,$l(r))),t.Ie}function IS(r,t){if(r.limitType==="F")return m_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new lc(o.field,c)});const i=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return m_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function md(r,t,i){return new Tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ac(r,t){return Bd(ai(r),ai(t))&&r.limitType===t.limitType}function qv(r){return`${kd(ai(r))}|lt:${r.limitType}`}function Es(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>zv(o)).join(", ")}]`),vc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ds(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ds(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Sc(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of $l(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(d,g,y){const v=f_(d,g,y);return d.inclusive?v<=0:v<0}(s.startAt,$l(s),o)||s.endAt&&!function(d,g,y){const v=f_(d,g,y);return d.inclusive?v>=0:v>0}(s.endAt,$l(s),o))}(r,t)}function VS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jv(r){return(t,i)=>{let s=!1;for(const o of $l(r)){const c=OS(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function OS(r,t,i){const s=r.field.isKeyField()?ht.comparator(t.key,i.key):function(c,d,g){const y=d.data.field(c),v=g.data.field(c);return y!==null&&v!==null?Cs(y,v):yt(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ma(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return wv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new re(ht.comparator);function Bi(){return NS}const Hv=new re(ht.comparator);function Ql(...r){let t=Hv;for(const i of r)t=t.insert(i.key,i);return t}function Fv(r){let t=Hv;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function vr(){return Jl()}function Gv(){return Jl()}function Jl(){return new wr(r=>r.toString(),(r,t)=>r.isEqual(t))}const MS=new re(ht.comparator),xS=new Ce(ht.comparator);function Ot(...r){let t=xS;for(const i of r)t=t.add(i);return t}const US=new Ce(Rt);function PS(){return US}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(t)?"-0":t}}function Qv(r){return{integerValue:""+r}}function LS(r,t){return uS(t)?Qv(t):qd(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function zS(r,t,i){return r instanceof oc?function(o,c){const d={fields:{[Dv]:{stringValue:Cv},[Vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ld(c)&&(c=Ec(c)),c&&(d.fields[Iv]=c),{mapValue:d}}(i,t):r instanceof lo?Kv(r,t):r instanceof oo?Xv(r,t):function(o,c){const d=Yv(o,c),g=p_(d)+p_(o.Ee);return hd(d)&&hd(o.Ee)?Qv(g):qd(o.serializer,g)}(r,t)}function kS(r,t,i){return r instanceof lo?Kv(r,t):r instanceof oo?Xv(r,t):i}function Yv(r,t){return r instanceof uc?function(s){return hd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class oc extends bc{}class lo extends bc{constructor(t){super(),this.elements=t}}function Kv(r,t){const i=Zv(t);for(const s of r.elements)i.some(o=>ui(o,s))||i.push(s);return{arrayValue:{values:i}}}class oo extends bc{constructor(t){super(),this.elements=t}}function Xv(r,t){let i=Zv(t);for(const s of r.elements)i=i.filter(o=>!ui(o,s));return{arrayValue:{values:i}}}class uc extends bc{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function p_(r){return fe(r.integerValue||r.doubleValue)}function Zv(r){return zd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function BS(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof lo&&o instanceof lo||s instanceof oo&&o instanceof oo?Rs(s.elements,o.elements,ui):s instanceof uc&&o instanceof uc?ui(s.Ee,o.Ee):s instanceof oc&&o instanceof oc}(r.transform,t.transform)}class qS{constructor(t,i){this.version=t,this.transformResults=i}}class zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $u(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class wc{}function $v(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new jd(r.key,zn.none()):new ho(r.key,r.data,zn.none());{const i=r.data,s=an.empty();let o=new Ce(qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new xa(r.key,s,new pn(o.toArray()),zn.none())}}function jS(r,t,i){r instanceof ho?function(o,c,d){const g=o.value.clone(),y=__(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof xa?function(o,c,d){if(!$u(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=__(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Jv(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function Wl(r,t,i,s){return r instanceof ho?function(c,d,g,y){if(!$u(c.precondition,d))return g;const v=c.value.clone(),A=v_(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,i,s):r instanceof xa?function(c,d,g,y){if(!$u(c.precondition,d))return g;const v=v_(c.fieldTransforms,y,d),A=d.data;return A.setAll(Jv(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,t,i,s):function(c,d,g){return $u(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function HS(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=Yv(s.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(s.field,c))}return i||null}function y_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rs(s,o,(c,d)=>BS(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ho extends wc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xa extends wc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Jv(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function __(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);s.set(c.field,kS(d,g,i[o]))}return s}function v_(r,t,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,zS(c,d,t))}return s}class jd extends wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FS extends wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&jS(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Wl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Wl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Gv();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=$v(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Rs(this.mutations,t.mutations,(i,s)=>y_(i,s))&&Rs(this.baseMutations,t.baseMutations,(i,s)=>y_(i,s))}}class Hd{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){qt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return MS}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Hd(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Pt;function KS(r){switch(r){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function Wv(r){if(r===void 0)return ki("GRPC error has no .code"),X.UNKNOWN;switch(r){case ye.OK:return X.OK;case ye.CANCELLED:return X.CANCELLED;case ye.UNKNOWN:return X.UNKNOWN;case ye.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ye.INTERNAL:return X.INTERNAL;case ye.UNAVAILABLE:return X.UNAVAILABLE;case ye.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ye.NOT_FOUND:return X.NOT_FOUND;case ye.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ye.ABORTED:return X.ABORTED;case ye.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ye.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:r})}}(Pt=ye||(ye={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Ea([4294967295,4294967295],0);function E_(r){const t=Tv().encode(r),i=new dv;return i.update(t),new Uint8Array(i.digest())}function T_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ea([i,s],0),new Ea([o,c],0)]}class Fd{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Ea.fromNumber(this.fe)}pe(t,i,s){let o=t.add(i.multiply(Ea.fromNumber(s)));return o.compare(XS)===1&&(o=new Ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=E_(t),[s,o]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.fe===0)return;const i=E_(t),[s,o]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,fo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Rc(Et.min(),o,new re(Rt),Bi(),Ot())}}class fo{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new fo(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,i,s,o){this.Se=t,this.removedTargetIds=i,this.key=s,this.be=o}}class t0{constructor(t,i){this.targetId=t,this.De=i}}class e0{constructor(t,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class A_{constructor(){this.ve=0,this.Ce=S_(),this.Fe=je.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Ot(),i=Ot(),s=Ot();return this.Ce.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:c})}}),new fo(this.Fe,this.Me,t,i,s)}ke(){this.xe=!1,this.Ce=S_()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ZS{constructor(t){this.We=t,this.Ge=new Map,this.ze=Bi(),this.je=Gu(),this.Je=Gu(),this.He=new re(Rt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,i=>{const s=this.tt(i);switch(t.state){case 0:this.nt(i)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(t){const i=t.targetId,s=t.De.count,o=this.st(i);if(o){const c=o.target;if(dd(c))if(s===0){const d=new ht(c.path);this.Xe(i,d,Ke.newNoDocument(d,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(t),y=g?this.ut(g,t,d):1;if(y!==0){this.rt(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Da(s).toUint8Array()}catch(y){if(y instanceof Rv)return ba("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Fd(d,o,c)}catch(y){return ba(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(t,i,s){return i.De.count===s-this.ht(t,i.targetId)?0:2}ht(t,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(i,c,null),o++)}),o}Pt(t){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&dd(g.target)){const y=new ht(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,Ke.newNoDocument(y,t))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let s=Ot();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const v=this.st(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(t));const o=new Rc(t,i,this.He,this.ze,s);return this.ze=Bi(),this.je=Gu(),this.Je=Gu(),this.He=new re(Rt),o}Ze(t,i){if(!this.nt(t))return;const s=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new A_,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Ce(Rt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Ce(Rt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new A_),this.We.getRemoteKeysForTarget(t).forEach(i=>{this.Xe(t,i,null)})}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Gu(){return new re(ht.comparator)}function S_(){return new re(ht.comparator)}const $S={asc:"ASCENDING",desc:"DESCENDING"},JS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WS={and:"AND",or:"OR"};class tb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gd(r,t){return r.useProto3Json||vc(t)?t:{value:t}}function cc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function n0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function eb(r,t){return cc(r,t.toTimestamp())}function ri(r){return qt(!!r,49232),Et.fromTimestamp(function(i){const s=Ca(i);return new ee(s.seconds,s.nanos)}(r))}function Gd(r,t){return pd(r,t).canonicalString()}function pd(r,t){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function i0(r){const t=te.fromString(r);return qt(o0(t),10190,{key:t.toString()}),t}function yd(r,t){return Gd(r.databaseId,t.path)}function Zf(r,t){const i=i0(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(r0(i))}function a0(r,t){return Gd(r.databaseId,t)}function nb(r){const t=i0(r);return t.length===4?te.emptyPath():r0(t)}function _d(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function r0(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b_(r,t,i){return{name:yd(r,t),fields:i.value.mapValue.fields}}function ib(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:Wv(v.code);return new ot(A,v.message||"")}(d);i=new e0(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zf(r,s.document.name),c=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):Et.min(),g=new an({mapValue:{fields:s.document.fields}}),y=Ke.newFoundDocument(o,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Ju(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Zf(r,s.document),c=s.readTime?ri(s.readTime):Et.min(),d=Ke.newNoDocument(o,c),g=s.removedTargetIds||[];i=new Ju([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Zf(r,s.document),c=s.removedTargetIds||[];i=new Ju([],c,o,null)}else{if(!("filter"in t))return yt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new YS(o,c),g=s.targetId;i=new t0(g,d)}}return i}function ab(r,t){let i;if(t instanceof ho)i={update:b_(r,t.key,t.value)};else if(t instanceof jd)i={delete:yd(r,t.key)};else if(t instanceof xa)i={update:b_(r,t.key,t.data),updateMask:db(t.fieldMask)};else{if(!(t instanceof FS))return yt(16599,{Rt:t.type});i={verify:yd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw yt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:eb(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)}(r,t.precondition)),i}function rb(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(i=>function(o,c){let d=o.updateTime?ri(o.updateTime):ri(c);return d.isEqual(Et.min())&&(d=ri(c)),new qS(d,o.transformResults||[])}(i,t))):[]}function sb(r,t){return{documents:[a0(r,t.path)]}}function lb(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=a0(r,o);const c=function(v){if(v.length!==0)return l0(ci.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(I){return{field:Ts(I.field),direction:cb(I.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{Vt:i,parent:o}}function ob(r){let t=nb(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const I=s0(C);return I instanceof ci&&Pv(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(I=>function(Z){return new lc(As(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(I))}(i.orderBy));let g=null;i.limit&&(g=function(C){let I;return I=typeof C=="object"?C.value:C,vc(I)?null:I}(i.limit));let y=null;i.startAt&&(y=function(C){const I=!!C.before,j=C.values||[];return new sc(j,I)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const I=!C.before,j=C.values||[];return new sc(j,I)}(i.endAt)),CS(t,o,d,c,g,"F",y,v)}function ub(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function s0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=As(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=As(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=As(i.unaryFilter.field);return we.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=As(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(i){return we.create(As(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ci.create(i.compositeFilter.filters.map(s=>s0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(r):yt(30097,{filter:r})}function cb(r){return $S[r]}function hb(r){return JS[r]}function fb(r){return WS[r]}function Ts(r){return{fieldPath:r.canonicalString()}}function As(r){return qe.fromServerFormat(r.fieldPath)}function l0(r){return r instanceof we?function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(i.field),op:hb(i.op),value:i.value}}}(r):r instanceof ci?function(i){const s=i.getFilters().map(o=>l0(o));return s.length===1?s[0]:{compositeFilter:{op:fb(i.op),filters:s}}}(r):yt(54877,{filter:r})}function db(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function o0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,i,s,o,c=Et.min(),d=Et.min(),g=je.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t){this.gt=t}}function gb(r){const t=ob({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.Dn=new yb}addToCollectionParentIndex(t,i){return this.Dn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Ra.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Ra.min())}updateCollectionGroup(t,i,s){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class yb{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Ce(te.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(u0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Is(0)}static ur(){return new Is(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",_b=1048576;function C_([r,t],[i,s]){const o=Rt(r,i);return o===0?Rt(t,s):o}class vb{constructor(t){this.Tr=t,this.buffer=new Ce(C_),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();C_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Eb{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){at(R_,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ms(i)?at(R_,"Ignoring IndexedDB error during garbage collection: ",i):await Ns(i)}await this.Rr(3e5)})}}class Tb{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return K.resolve(_c.ue);const s=new vb(i);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(w_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.pr(t,i))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let s,o,c,d,g,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(t,o))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,i))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(v=Date.now(),vs()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${C} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:C})))}}function Ab(r,t){return new Tb(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.changes=new wr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&Wl(s.mutation,o,pn.empty(),ee.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Ot()){const o=vr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let d=Ql();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=vr();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Ot()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,o){let c=Bi();const d=Jl(),g=function(){return Jl()}();return i.forEach((y,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof xa)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Wl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new bb(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const s=Jl();let o=new re((d,g)=>d-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const v=i.get(y);if(v===null)return;let A=s.get(y)||pn.empty();A=g.applyToLocalView(v,A),s.set(y,A);const C=(o.get(g.batchId)||Ot()).add(y);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,A=y.value,C=Gv();A.forEach(I=>{if(!c.has(I)){const j=$v(i.get(I),s.get(I));j!==null&&C.set(I,j),c=c.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):DS(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):K.resolve(vr());let g=io,y=c;return d.next(v=>K.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(I=>{y=y.insert(A,I)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,y,v,Ot())).next(A=>({batchId:g,changes:Fv(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,y=>{const v=function(C,I){return new Tc(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,o).next(A=>{A.forEach((C,I)=>{d=d.insert(C,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(d=>{c.forEach((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=Ql();return d.forEach((y,v)=>{const A=c.get(y);A!==void 0&&Wl(A.mutation,v,pn.empty(),ee.now()),Sc(i,v)&&(g=g.insert(y,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return K.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:gb(o.bundledQuery),readTime:ri(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.overlays=new re(ht.comparator),this.kr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const s=vr();return K.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.wt(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),K.resolve()}getOverlaysForCollection(t,i,s){const o=vr(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return K.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new re((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=vr(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return K.resolve(g)}wt(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new QS(i,s));let c=this.kr.get(i);c===void 0&&(c=Ot(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.qr=new Ce(xe.Qr),this.$r=new Ce(xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const s=new xe(t,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Wr(new xe(t,i))}Gr(t,i){t.forEach(s=>this.removeReference(s,i))}zr(t){const i=new ht(new te([])),s=new xe(i,t),o=new xe(i,t+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new ht(new te([])),s=new xe(i,t),o=new xe(i,t+1);let c=Ot();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new xe(t,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return ht.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ce(xe.Qr)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GS(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Pd:this.er-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ce(Rt);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),K.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new xe(new ht(c),0);let g=new Ce(Rt);return this.Yr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Hr)),!0)},d),K.resolve(this.ei(g))}ei(t){const i=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return K.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,i){const s=new xe(i,0),o=this.Yr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this.ni=t,this.docs=function(){return new re(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=Bi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=Bi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||rS(aS(A),s)<=0||(o.has(A.key)||Sc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,s,o){yt(9500)}ri(t,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Ob(this)}getSize(t){return K.resolve(this.size)}}class Ob extends Sb{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),K.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.persistence=t,this.ii=new wr(i=>kd(i),Bd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new Qd,this.targetCount=0,this._i=Is.ar()}forEachTarget(t,i){return this.ii.forEach((s,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),K.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new Is(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.hr(i),K.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),K.waitFor(c).next(()=>o)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const s=this.ii.get(i)||null;return K.resolve(s)}addMatchingKeys(t,i,s){return this.oi.Kr(i,s),K.resolve()}removeMatchingKeys(t,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const s=this.oi.Jr(i);return K.resolve(s)}containsKey(t,i){return K.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i){this.ai={},this.overlays={},this.ui=new _c(0),this.ci=!1,this.ci=!0,this.li=new Db,this.referenceDelegate=t(this),this.hi=new Nb(this),this.indexManager=new pb,this.remoteDocumentCache=function(o){return new Vb(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new mb(i),this.Ti=new Rb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Cb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ai[t.toKey()];return s||(s=new Ib(i,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,s){at("MemoryPersistence","Starting transaction:",t);const o=new Mb(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(t,i){return K.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,i)))}}class Mb extends lS{constructor(t){super(),this.currentSequenceNumber=t}}class Yd{constructor(t){this.persistence=t,this.Ai=new Qd,this.Ri=null}static Vi(t){return new Yd(t)}get mi(){if(this.Ri)return this.Ri;throw yt(60996)}addReference(t,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),K.resolve()}removeReference(t,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,s=>{const o=ht.fromPath(s);return this.fi(t,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.Ri=null,i.apply(t)))}updateLimboDocument(t,i){return this.fi(t,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(t){return 0}fi(t,i){return K.or([()=>K.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class hc{constructor(t,i){this.persistence=t,this.gi=new wr(s=>cS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ab(this,i)}static Vi(t,i){return new hc(t,i)}Ii(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}yr(t){let i=0;return this.gr(t,s=>{i++}).next(()=>i)}gr(t,i){return K.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(c=>c?K.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(t,d=>this.Sr(t,d,i).next(g=>{g||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),K.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Xu(t.data.value)),i}Sr(t,i,s){return K.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.gi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Is=s,this.ds=o}static Es(t,i){let s=Ot(),o=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Kd(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return I1()?8:oS(R1())>0?6:4}()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.ps(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(t,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new xb;return this.ws(t,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,i,d,g.size)})}).next(()=>c.result)}Ss(t,i,s,o){return s.documentReadCount<this.Vs?(vs()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Es(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(vs()<=Lt.DEBUG&&at("QueryEngine","Query:",Es(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vs()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Es(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(i))):K.resolve())}ps(t,i){if(g_(i))return K.resolve(null);let s=ai(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=md(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Ot(...c);return this.gs.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const v=this.bs(i,g);return this.Ds(i,v,d,y.readTime)?this.ps(t,md(i,null,"F")):this.vs(t,v,i,y)}))})))}ys(t,i,s,o){return g_(i)||o.isEqual(Et.min())?K.resolve(null):this.gs.getDocuments(t,s).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,s,o)?K.resolve(null):(vs()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Es(i)),this.vs(t,d,i,iS(o,io)).next(g=>g))})}bs(t,i){let s=new Ce(jv(t));return i.forEach((o,c)=>{Sc(t,c)&&(s=s.add(c))}),s}Ds(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(t,i,s){return vs()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Es(i)),this.gs.getDocumentsMatchingQuery(t,i,Ra.min(),s)}vs(t,i,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="LocalStore",Pb=3e8;class Lb{constructor(t,i,s,o){this.persistence=t,this.Cs=i,this.serializer=o,this.Fs=new re(Rt),this.Ms=new wr(c=>kd(c),Bd),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Fs))}}function zb(r,t,i,s){return new Lb(r,t,i,s)}async function h0(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=Ot();for(const v of o){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function kb(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,y,v,A){const C=v.batch,I=C.keys();let j=K.resolve();return I.forEach(Z=>{j=j.next(()=>A.getEntry(y,Z)).next(it=>{const $=v.docVersions.get(Z);qt($!==null,48541),it.version.compareTo($)<0&&(C.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(y,C))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function f0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.hi.getLastRemoteSnapshotVersion(i))}function Bb(r,t){const i=At(r),s=t.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];t.targetChanges.forEach((A,C)=>{const I=o.get(C);if(!I)return;g.push(i.hi.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.hi.addMatchingKeys(c,A.addedDocuments,C)));let j=I.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?j=j.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),o=o.insert(C,j),function(it,$,mt){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Pb?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(I,j,A)&&g.push(i.hi.updateTargetData(c,j))});let y=Bi(),v=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(qb(c,d,t.documentUpdates).next(A=>{y=A.Ls,v=A.ks})),!s.isEqual(Et.min())){const A=i.hi.getLastRemoteSnapshotVersion(c).next(C=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(i.Fs=o,c))}function qb(r,t,i){let s=Ot(),o=Ot();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Bi();return i.forEach((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):at(Xd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)}),{Ls:d,ks:o}})}function jb(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Pd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Hb(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,t).next(c=>c?(o=c,K.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new ya(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(t,s.targetId)),s})}async function vd(r,t,i){const s=At(r),o=s.Fs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ms(d))throw d;at(Xd,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function D_(r,t,i){const s=At(r);let o=Et.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,A){const C=At(y),I=C.Ms.get(A);return I!==void 0?K.resolve(C.Fs.get(I)):C.hi.getTargetData(v,A)}(s,d,ai(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:Ot())).next(g=>(Fb(s,VS(t),g),{documents:g,qs:c})))}function Fb(r,t,i){let s=r.xs.get(t)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(t,s)}class I_{constructor(){this.activeTargetIds=PS()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Gb{constructor(){this.Fo=new I_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,s){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new I_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class O_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){at(V_,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){at(V_,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Ed(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RestConnection",Yb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kb{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===ac?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,i,s,o,c){const d=Ed(),g=this.Go(t,i.toUriEncodedString());at($f,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,c);const{host:v}=new URL(g),A=Vd(v);return this.jo(t,g,y,s,A).then(C=>(at($f,`Received RPC '${t}' ${d}: `,C),C),C=>{throw ba($f,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Jo(t,i,s,o,c,d){return this.Wo(t,i,s,o,c)}zo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Os}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}Go(t,i){const s=Yb[t];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class Zb extends Kb{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,s,o,c){const d=Ed();return new Promise((g,y)=>{const v=new mv;v.setWithCredentials(!0),v.listenOnce(gv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ku.NO_ERROR:const C=v.getResponseJson();at(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case Ku.TIMEOUT:at(Qe,`RPC '${t}' ${d} timed out`),y(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const I=v.getStatus();if(at(Qe,`RPC '${t}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const Z=j==null?void 0:j.error;if(Z&&Z.status&&Z.message){const it=function(mt){const st=mt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(st)>=0?st:X.UNKNOWN}(Z.status);y(new ot(it,Z.message))}else y(new ot(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ot(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{c_:t,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{at(Qe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(o);at(Qe,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}P_(t,i,s){const o=Ed(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=_v(),g=yv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");at(Qe,`Creating RPC '${t}' stream ${o}: ${A}`,y);const C=d.createWebChannel(A,y);this.T_(C);let I=!1,j=!1;const Z=new Xb({Ho:$=>{j?at(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(I||(at(Qe,`Opening RPC '${t}' stream ${o} transport.`),C.open(),I=!0),at(Qe,`RPC '${t}' stream ${o} sending:`,$),C.send($))},Yo:()=>C.close()}),it=($,mt,st)=>{$.listen(mt,lt=>{try{st(lt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return it(C,Gl.EventType.OPEN,()=>{j||(at(Qe,`RPC '${t}' stream ${o} transport opened.`),Z.s_())}),it(C,Gl.EventType.CLOSE,()=>{j||(j=!0,at(Qe,`RPC '${t}' stream ${o} transport closed`),Z.__(),this.I_(C))}),it(C,Gl.EventType.ERROR,$=>{j||(j=!0,ba(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),Z.__(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),it(C,Gl.EventType.MESSAGE,$=>{var mt;if(!j){const st=$.data[0];qt(!!st,16349);const lt=st,bt=(lt==null?void 0:lt.error)||((mt=lt[0])===null||mt===void 0?void 0:mt.error);if(bt){at(Qe,`RPC '${t}' stream ${o} received error:`,bt);const Tt=bt.status;let Nt=function(R){const O=ye[R];if(O!==void 0)return Wv(O)}(Tt),N=bt.message;Nt===void 0&&(Nt=X.INTERNAL,N="Unknown error status: "+Tt+" with message "+bt.message),j=!0,Z.__(new ot(Nt,N)),C.close()}else at(Qe,`RPC '${t}' stream ${o} received:`,st),Z.a_(st)}}),it(g,pv.STAT_EVENT,$=>{$.stat===od.PROXY?at(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===od.NOPROXY&&at(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.o_()},0),Z}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(i=>i===t)}}function Jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r){return new tb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class m0{constructor(t,i,s,o,c,d,g,y){this.Fi=t,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new d0(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{t(()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,i){const s=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return at(N_,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget(()=>this.b_===t?i():(at(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $b extends m0{constructor(t,i,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=ib(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ri(d.readTime):Et.min()}(t);return this.listener.J_(i,s)}H_(t){const i={};i.database=_d(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=dd(y)?{documents:sb(c,y)}:{query:lb(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=n0(c,d.resumeToken);const v=gd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=cc(c,d.snapshotVersion.toTimestamp());const v=gd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=ub(this.serializer,t);s&&(i.labels=s),this.k_(i)}Y_(t){const i={};i.database=_d(this.serializer),i.removeTarget=t,this.k_(i)}}class Jb extends m0{constructor(t,i,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=rb(t.writeResults,t.commitTime),s=ri(t.commitTime);return this.listener.ta(s,i)}na(){const t={};t.database=_d(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>ab(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{}class t2 extends Wb{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,pd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(X.UNKNOWN,c.toString())})}Jo(t,i,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(t,pd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class e2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ki(i),this._a=!1):at("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="RemoteStore";class n2{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Rr(this)&&(at(Ar,"Restarting streams for network reachability change."),await async function(y){const v=At(y);v.Ia.add(4),await mo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Dc(v)}(this))})}),this.Aa=new e2(s,o)}}async function Dc(r){if(Rr(r))for(const t of r.da)await t(!0)}async function mo(r){for(const t of r.da)await t(!1)}function g0(r,t){const i=At(r);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Wd(i)?Jd(i):xs(i).x_()&&$d(i,t))}function Zd(r,t){const i=At(r),s=xs(i);i.Ta.delete(t),s.x_()&&p0(i,t),i.Ta.size===0&&(s.x_()?s.B_():Rr(i)&&i.Aa.set("Unknown"))}function $d(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}xs(r).H_(t)}function p0(r,t){r.Ra.$e(t),xs(r).Y_(t)}function Jd(r){r.Ra=new ZS({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),xs(r).start(),r.Aa.aa()}function Wd(r){return Rr(r)&&!xs(r).M_()&&r.Ta.size>0}function Rr(r){return At(r).Ia.size===0}function y0(r){r.Ra=void 0}async function i2(r){r.Aa.set("Online")}async function a2(r){r.Ta.forEach((t,i)=>{$d(r,t)})}async function r2(r,t){y0(r),Wd(r)?(r.Aa.la(t),Jd(r)):r.Aa.set("Unknown")}async function s2(r,t,i){if(r.Aa.set("Online"),t instanceof e0&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(r,t)}catch(s){at(Ar,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fc(r,s)}else if(t instanceof Ju?r.Ra.Ye(t):t instanceof t0?r.Ra.it(t):r.Ra.et(t),!i.isEqual(Et.min()))try{const s=await f0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ta.get(v);A&&c.Ta.set(v,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,v)=>{const A=c.Ta.get(y);if(!A)return;c.Ta.set(y,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),p0(c,y);const C=new ya(A.target,y,v,A.sequenceNumber);$d(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){at(Ar,"Failed to raise snapshot:",s),await fc(r,s)}}async function fc(r,t,i){if(!Ms(t))throw t;r.Ia.add(1),await mo(r),r.Aa.set("Offline"),i||(i=()=>f0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(Ar,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await Dc(r)})}function _0(r,t){return t().catch(i=>fc(r,i,t))}async function Ic(r){const t=At(r),i=Va(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Pd;for(;l2(t);)try{const o=await jb(t.localStore,s);if(o===null){t.Pa.length===0&&i.B_();break}s=o.batchId,o2(t,o)}catch(o){await fc(t,o)}v0(t)&&E0(t)}function l2(r){return Rr(r)&&r.Pa.length<10}function o2(r,t){r.Pa.push(t);const i=Va(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function v0(r){return Rr(r)&&!Va(r).M_()&&r.Pa.length>0}function E0(r){Va(r).start()}async function u2(r){Va(r).na()}async function c2(r){const t=Va(r);for(const i of r.Pa)t.X_(i.mutations)}async function h2(r,t,i){const s=r.Pa.shift(),o=Hd.from(s,t,i);await _0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ic(r)}async function f2(r,t){t&&Va(r).Z_&&await async function(s,o){if(function(d){return KS(d)&&d!==X.ABORTED}(o.code)){const c=s.Pa.shift();Va(s).N_(),await _0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Ic(s)}}(r,t),v0(r)&&E0(r)}async function M_(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(Ar,"RemoteStore received new credentials");const s=Rr(i);i.Ia.add(3),await mo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Dc(i)}async function d2(r,t){const i=At(r);t?(i.Ia.delete(2),await Dc(i)):t||(i.Ia.add(2),await mo(i),i.Aa.set("Unknown"))}function xs(r){return r.Va||(r.Va=function(i,s,o){const c=At(i);return c.ia(),new $b(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:i2.bind(null,r),e_:a2.bind(null,r),n_:r2.bind(null,r),J_:s2.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Wd(r)?Jd(r):r.Aa.set("Unknown")):(await r.Va.stop(),y0(r))})),r.Va}function Va(r){return r.ma||(r.ma=function(i,s,o){const c=At(i);return c.ia(),new Jb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:u2.bind(null,r),n_:f2.bind(null,r),ea:c2.bind(null,r),ta:h2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await Ic(r)):(await r.ma.stop(),r.Pa.length>0&&(at(Ar,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const d=Date.now()+s,g=new tm(t,i,d,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(r,t){if(ki("AsyncQueue",`${t}: ${r}`),Ms(r))return new ot(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(t){return new Ss(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ss)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ss;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.fa=new re(ht.comparator)}track(t){const i=t.doc.key,s=this.fa.get(i);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(i,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(i):t.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):yt(63341,{At:t,ga:s}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal((i,s)=>{t.push(s)}),t}}class Vs{constructor(t,i,s,o,c,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Vs(t,i,Ss.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ac(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class g2{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=U_(),c.forEach((d,g)=>{for(const y of g.wa)y.onError(s)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function U_(){return new wr(r=>qv(r),Ac)}async function p2(r,t){const i=At(r);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.ba()&&(s=2):(c=new m2,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=em(d,`Initialization of query '${Es(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.wa.push(t),t.va(i.onlineState),c.ya&&t.Ca(c.ya)&&nm(i)}async function y2(r,t){const i=At(r),s=t.query;let o=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=t.ba()?0:1:!c.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function _2(r,t){const i=At(r);let s=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&nm(i)}function v2(r,t,i){const s=At(r),o=s.queries.get(t);if(o)for(const c of o.wa)c.onError(i);s.queries.delete(t)}function nm(r){r.Da.forEach(t=>{t.next()})}var Td,P_;(P_=Td||(Td={})).Fa="default",P_.Cache="cache";class E2{constructor(t,i,s){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Vs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=Vs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t){this.key=t}}class A0{constructor(t){this.key=t}}class T2{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ot(),this.mutatedKeys=Ot(),this.Xa=jv(t),this.eu=new Ss(this.Xa)}get tu(){return this.Ha}nu(t,i){const s=i?i.ru:new x_,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,C)=>{const I=o.get(A),j=Sc(this.query,C)?C:null,Z=!!I&&this.mutatedKeys.has(I.key),it=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;I&&j?I.data.isEqual(j.data)?Z!==it&&(s.track({type:3,doc:j}),$=!0):this.iu(I,j)||(s.track({type:2,doc:j}),$=!0,(y&&this.Xa(j,y)>0||v&&this.Xa(j,v)<0)&&(g=!0)):!I&&j?(s.track({type:0,doc:j}),$=!0):I&&!j&&(s.track({type:1,doc:I}),$=!0,(y||v)&&(g=!0)),$&&(j?(d=d.add(j),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort((A,C)=>function(j,Z){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{At:$})}};return it(j)-it(Z)}(A.type,C.type)||this.Xa(A.doc,C.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,v=y!==this.Ya;return this.Ya=y,d.length!==0||v?{snapshot:new Vs(this.query,t.eu,c,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new x_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Ot(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return t.forEach(s=>{this.Za.has(s)||i.push(new A0(s))}),this.Za.forEach(s=>{t.has(s)||i.push(new T0(s))}),i}uu(t){this.Ha=t.qs,this.Za=Ot();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return Vs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const im="SyncEngine";class A2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class S2{constructor(t){this.key=t,this.lu=!1}}class b2{constructor(t,i,s,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new wr(g=>qv(g),Ac),this.Tu=new Map,this.Iu=new Set,this.du=new re(ht.comparator),this.Eu=new Map,this.Au=new Qd,this.Ru={},this.Vu=new Map,this.mu=Is.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function w2(r,t,i=!0){const s=D0(r);let o;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await S0(s,t,i,!0),o}async function R2(r,t){const i=D0(r);await S0(i,t,!0,!1)}async function S0(r,t,i,s){const o=await Hb(r.localStore,ai(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await C2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&g0(r.remoteStore,o),g}async function C2(r,t,i,s,o){r.gu=(C,I,j)=>async function(it,$,mt,st){let lt=$.view.nu(mt);lt.Ds&&(lt=await D_(it.localStore,$.query,!1).then(({documents:N})=>$.view.nu(N,lt)));const bt=st&&st.targetChanges.get($.targetId),Tt=st&&st.targetMismatches.get($.targetId)!=null,Nt=$.view.applyChanges(lt,it.isPrimaryClient,bt,Tt);return z_(it,$.targetId,Nt._u),Nt.snapshot}(r,C,I,j);const c=await D_(r.localStore,t,!0),d=new T2(t,c.qs),g=d.nu(c.documents),y=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,y);z_(r,i,v._u);const A=new A2(t,i,d);return r.Pu.set(t,A),r.Tu.has(i)?r.Tu.get(i).push(t):r.Tu.set(i,[t]),v.snapshot}async function D2(r,t,i){const s=At(r),o=s.Pu.get(t),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!Ac(d,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Zd(s.remoteStore,o.targetId),Ad(s,o.targetId)}).catch(Ns)):(Ad(s,o.targetId),await vd(s.localStore,o.targetId,!0))}async function I2(r,t){const i=At(r),s=i.Pu.get(t),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Zd(i.remoteStore,s.targetId))}async function V2(r,t,i){const s=L2(r);try{const o=await function(d,g){const y=At(d),v=ee.now(),A=g.reduce((j,Z)=>j.add(Z.key),Ot());let C,I;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=Bi(),it=Ot();return y.Os.getEntries(j,A).next($=>{Z=$,Z.forEach((mt,st)=>{st.isValidDocument()||(it=it.add(mt))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,Z)).next($=>{C=$;const mt=[];for(const st of g){const lt=HS(st,C.get(st.key).overlayedDocument);lt!=null&&mt.push(new xa(st.key,lt,Mv(lt.value.mapValue),zn.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,mt,g)}).next($=>{I=$;const mt=$.applyToLocalDocumentSet(C,it);return y.documentOverlayCache.saveOverlays(j,$.batchId,mt)})}).then(()=>({batchId:I.batchId,changes:Fv(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let v=d.Ru[d.currentUser.toKey()];v||(v=new re(Rt)),v=v.insert(g,y),d.Ru[d.currentUser.toKey()]=v}(s,o.batchId,i),await go(s,o.changes),await Ic(s.remoteStore)}catch(o){const c=em(o,"Failed to persist write");i.reject(c)}}async function b0(r,t){const i=At(r);try{const s=await Bb(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?qt(d.lu,14607):o.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))}),await go(i,s,t)}catch(s){await Ns(s)}}function L_(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=At(d);y.onlineState=g;let v=!1;y.queries.forEach((A,C)=>{for(const I of C.wa)I.va(g)&&(v=!0)}),v&&nm(y)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function O2(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Eu.get(t),c=o&&o.key;if(c){let d=new re(ht.comparator);d=d.insert(c,Ke.newNoDocument(c,Et.min()));const g=Ot().add(c),y=new Rc(Et.min(),new Map,new re(Rt),d,g);await b0(s,y),s.du=s.du.remove(c),s.Eu.delete(t),am(s)}else await vd(s.localStore,t,!1).then(()=>Ad(s,t,i)).catch(Ns)}async function N2(r,t){const i=At(r),s=t.batch.batchId;try{const o=await kb(i.localStore,t);R0(i,s,null),w0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Ns(o)}}async function M2(r,t,i){const s=At(r);try{const o=await function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return y.mutationQueue.lookupMutationBatch(v,g).next(C=>(qt(C!==null,37113),A=C.keys(),y.mutationQueue.removeMutationBatch(v,C))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>y.localDocuments.getDocuments(v,A))})}(s.localStore,t);R0(s,t,i),w0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await go(s,o)}catch(o){await Ns(o)}}function w0(r,t){(r.Vu.get(t)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(t)}function R0(r,t,i){const s=At(r);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Ad(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),i&&r.hu.pu(s,i);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||C0(r,s)})}function C0(r,t){r.Iu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Zd(r.remoteStore,i),r.du=r.du.remove(t),r.Eu.delete(i),am(r))}function z_(r,t,i){for(const s of i)s instanceof T0?(r.Au.addReference(s.key,t),x2(r,s)):s instanceof A0?(at(im,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||C0(r,s.key)):yt(19791,{yu:s})}function x2(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Iu.has(s)||(at(im,"New document in limbo: "+i),r.Iu.add(s),am(r))}function am(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const i=new ht(te.fromString(t)),s=r.mu.next();r.Eu.set(s,new S2(i)),r.du=r.du.insert(i,s),g0(r.remoteStore,new ya(ai(Bv(i.path)),s,"TargetPurposeLimboResolution",_c.ue))}}async function go(r,t,i){const s=At(r),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,y)=>{d.push(s.gu(y,t,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(v){o.push(v);const C=Kd.Es(y.targetId,v);c.push(C)}}))}),await Promise.all(d),s.hu.J_(o),await async function(y,v){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(v,I=>K.forEach(I.Is,j=>A.persistence.referenceDelegate.addReference(C,I.targetId,j)).next(()=>K.forEach(I.ds,j=>A.persistence.referenceDelegate.removeReference(C,I.targetId,j)))))}catch(C){if(!Ms(C))throw C;at(Xd,"Failed to update sequence numbers: "+C)}for(const C of v){const I=C.targetId;if(!C.fromCache){const j=A.Fs.get(I),Z=j.snapshotVersion,it=j.withLastLimboFreeSnapshotVersion(Z);A.Fs=A.Fs.insert(I,it)}}}(s.localStore,c))}async function U2(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(im,"User change. New user:",t.toKey());const s=await h0(i.localStore,t);i.currentUser=t,function(c,d){c.Vu.forEach(g=>{g.forEach(y=>{y.reject(new ot(X.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await go(i,s.Bs)}}function P2(r,t){const i=At(r),s=i.Eu.get(t);if(s&&s.lu)return Ot().add(s.key);{let o=Ot();const c=i.Tu.get(t);if(!c)return o;for(const d of c){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function D0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=O2.bind(null,t),t.hu.J_=_2.bind(null,t.eventManager),t.hu.pu=v2.bind(null,t.eventManager),t}function L2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=N2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,t),t}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return zb(this.persistence,new Ub,t.initialUser,this.serializer)}Du(t){return new c0(Yd.Vi,this.serializer)}bu(t){return new Gb}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class z2 extends dc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){qt(this.persistence.referenceDelegate instanceof hc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Eb(s,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new c0(s=>hc.Vi(s,i),this.serializer)}}class Sd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>L_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new g2}()}createDatastore(t){const i=Cc(t.databaseInfo.databaseId),s=function(c){return new Zb(c)}(t.databaseInfo);return function(c,d,g,y){return new t2(c,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,d,g){return new n2(s,o,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>L_(this.syncEngine,i,0),function(){return O_.C()?new O_:new Qb}())}createSyncEngine(t,i){return function(o,c,d,g,y,v,A){const C=new b2(o,c,d,g,y,v);return A&&(C.fu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=At(o);at(Ar,"RemoteStore shutting down."),c.Ia.add(5),await mo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Sd.provider={build:()=>new Sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class B2{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{at(Oa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(at(Oa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=em(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Wf(r,t){r.asyncQueue.verifyOperationInProgress(),at(Oa,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await h0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{ba("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{at("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ba("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function k_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await q2(r);at(Oa,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>M_(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>M_(t.remoteStore,o)),r._onlineComponents=t}async function q2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Oa,"Using user provided OfflineComponentProvider");try{await Wf(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ba("Error using user provided cache. Falling back to memory cache: "+i),await Wf(r,new dc)}}else at(Oa,"Using default OfflineComponentProvider"),await Wf(r,new z2(void 0));return r._offlineComponents}async function I0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Oa,"Using user provided OnlineComponentProvider"),await k_(r,r._uninitializedComponentsProvider._online)):(at(Oa,"Using default OnlineComponentProvider"),await k_(r,new Sd))),r._onlineComponents}function j2(r){return I0(r).then(t=>t.syncEngine)}async function H2(r){const t=await I0(r),i=t.eventManager;return i.onListen=w2.bind(null,t.syncEngine),i.onUnlisten=D2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=R2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=I2.bind(null,t.syncEngine),i}function F2(r,t,i={}){const s=new Ta;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,v){const A=new k2({next:I=>{A.Ou(),d.enqueueAndForget(()=>y2(c,C)),I.fromCache&&y.source==="server"?v.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),C=new E2(g,A,{includeMetadataChanges:!0,ka:!0});return p2(c,C)}(await H2(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="firestore.googleapis.com",q_=!0;class j_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O0,this.ssl=q_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:q_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_b)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YA;switch(s.type){case"firstParty":return new $A(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=B_.get(i);s&&(at("ComponentProvider","Removing Datastore"),B_.delete(i),s.terminate())}(this),Promise.resolve()}}function G2(r,t,i,s={}){var o;r=wa(r,Vc);const c=Vd(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${i}`;c&&(T1(`https://${y}`),w1("Firestore",!0)),d.host!==O0&&d.host!==y&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!eo(v,g)&&(r._setSettings(v),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=Ye.MOCK_USER;else{A=A1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ye(I)}r._authCredentials=new KA(new Ev(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Oc(this.firestore,t,this._query)}}class Re{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(co(i,Re._jsonSchema))return new Re(t,s||null,new ht(te.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:_e("string",Re._jsonSchemaVersion),referencePath:_e("string")};class Aa extends Oc{constructor(t,i,s){super(t,i,Bv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ht(t))}withConverter(t){return new Aa(this.firestore,t,this._path)}}function N0(r,t,...i){if(r=oi(r),Av("collection","path",t),r instanceof Vc){const s=te.fromString(t,...i);return n_(s),new Aa(r,null,s)}{if(!(r instanceof Re||r instanceof Aa))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return n_(s),new Aa(r.firestore,null,s)}}function rm(r,t,...i){if(r=oi(r),arguments.length===1&&(t=xd.newId()),Av("doc","path",t),r instanceof Vc){const s=te.fromString(t,...i);return e_(s),new Re(r,null,new ht(s))}{if(!(r instanceof Re||r instanceof Aa))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return e_(s),new Re(r.firestore,r instanceof Aa?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class F_{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new d0(this,"async_queue_retry"),this.oc=()=>{const s=Jf();s&&at(H_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const i=Jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Ta;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Ms(t))throw t;at(H_,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const i=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,ki("INTERNAL UNHANDLED ERROR: ",G_(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(t,i,s){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const o=tm.createAndSchedule(this,t,i,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&yt(47125,{hc:G_(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function G_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class po extends Vc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new F_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new F_(t),this._firestoreClient=void 0,await t}}}function Q2(r,t){const i=typeof r=="object"?r:cv(),s=typeof r=="string"?r:ac,o=uo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=v1("firestore");c&&G2(o,...c)}return o}function M0(r){if(r._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Y2(r),r._firestoreClient}function Y2(r){var t,i,s;const o=r._freezeSettings(),c=function(g,y,v,A){return new dS(g,y,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,V0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new B2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(je.fromBase64String(t))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new On(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(co(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:_e("string",On._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(t){if(co(t,si._jsonSchema))return new si(t.latitude,t.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:_e("string",si._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(co(t,li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new li(t.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:_e("string",li._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^__.*__$/;class X2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new xa(t,this.data,this.fieldMask,i,this.fieldTransforms):new ho(t,this.data,i,this.fieldTransforms)}}class x0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new xa(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function U0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ec:r})}}class lm{constructor(t,i,s,o,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new lm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return mc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(U0(this.Ec)&&K2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Z2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Cc(t)}Dc(t,i,s,o=!1){return new lm({Ec:t,methodName:i,bc:s,path:qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P0(r){const t=r._freezeSettings(),i=Cc(r._databaseId);return new Z2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function $2(r,t,i,s,o,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,t,i,o);om("Data must be an object, but it was:",d,s);const g=L0(s,d);let y,v;if(c.merge)y=new pn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const I=bd(t,C,i);if(!d.contains(I))throw new ot(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);k0(A,I)||A.push(I)}y=new pn(A),v=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,v=d.fieldTransforms;return new X2(new an(g),y,v)}class Mc extends sm{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mc}}function J2(r,t,i,s){const o=r.Dc(1,t,i);om("Data must be an object, but it was:",o,s);const c=[],d=an.empty();Ma(s,(y,v)=>{const A=um(t,y,i);v=oi(v);const C=o.gc(A);if(v instanceof Mc)c.push(A);else{const I=xc(v,C);I!=null&&(c.push(A),d.set(A,I))}});const g=new pn(c);return new x0(d,g,o.fieldTransforms)}function W2(r,t,i,s,o,c){const d=r.Dc(1,t,i),g=[bd(t,s,i)],y=[o];if(c.length%2!=0)throw new ot(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)g.push(bd(t,c[I])),y.push(c[I+1]);const v=[],A=an.empty();for(let I=g.length-1;I>=0;--I)if(!k0(v,g[I])){const j=g[I];let Z=y[I];Z=oi(Z);const it=d.gc(j);if(Z instanceof Mc)v.push(j);else{const $=xc(Z,it);$!=null&&(v.push(j),A.set(j,$))}}const C=new pn(v);return new x0(A,C,d.fieldTransforms)}function xc(r,t){if(z0(r=oi(r)))return om("Unsupported field value:",t,r),L0(r,t);if(r instanceof sm)return function(s,o){if(!U0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let y=xc(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ee.fromDate(s);return{timestampValue:cc(o.serializer,c)}}if(s instanceof ee){const c=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(o.serializer,c)}}if(s instanceof si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:n0(o.serializer,s._byteString)};if(s instanceof Re){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return function(d,g){return{mapValue:{fields:{[Ov]:{stringValue:Nv},[rc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return qd(g.serializer,v)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Ud(s)}`)}(r,t)}function L0(r,t){const i={};return wv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ma(r,(s,o)=>{const c=xc(o,t.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function z0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof si||r instanceof On||r instanceof Re||r instanceof sm||r instanceof li)}function om(r,t,i){if(!z0(i)||!Sv(i)){const s=Ud(i);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function bd(r,t,i){if((t=oi(t))instanceof Nc)return t._internalPath;if(typeof t=="string")return um(r,t);throw mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const tw=new RegExp("[~\\*/\\[\\]]");function um(r,t,i){if(t.search(tw)>=0)throw mc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Nc(...t.split("."))._internalPath}catch{throw mc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function mc(r,t,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ot(X.INVALID_ARGUMENT,g+r+y)}function k0(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ew(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(q0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ew extends B0{data(){return super.data()}}function q0(r,t){return typeof t=="string"?um(r,t):t instanceof Nc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{convertValue(t,i="none"){switch(Ia(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ma(t,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,o;const c=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[rc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new li(c)}convertGeoPoint(t){return new si(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Ec(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(t));default:return null}}convertTimestamp(t){const i=Ca(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=te.fromString(t);qt(o0(s),9688,{name:t});const o=new ro(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return o.isEqual(i)||ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Yu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bs extends B0{constructor(t,i,s,o,c,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(q0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:_e("string",bs._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Wu extends bs{data(t={}){return super.data(t)}}class ws{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new Wu(this._firestore,this._userDataWriter,s.key,s,new Yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:rw(g.type),doc:y,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ws._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function rw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:_e("string",ws._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class sw extends iw{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function j0(r){r=wa(r,Oc);const t=wa(r.firestore,po),i=M0(t),s=new sw(t);return nw(r._query),F2(i,r._query).then(o=>new ws(t,s,r,o))}function lw(r,t,i){r=wa(r,Re);const s=wa(r.firestore,po),o=aw(r.converter,t);return cm(s,[$2(P0(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,zn.none())])}function ow(r,t,i,...s){r=wa(r,Re);const o=wa(r.firestore,po),c=P0(o);let d;return d=typeof(t=oi(t))=="string"||t instanceof Nc?W2(c,"updateDoc",r._key,t,i,s):J2(c,"updateDoc",r._key,t),cm(o,[d.toMutation(r._key,zn.exists(!0))])}function H0(r){return cm(wa(r.firestore,po),[new jd(r._key,zn.none())])}function cm(r,t){return function(s,o){const c=new Ta;return s.asyncQueue.enqueueAndForget(async()=>V2(await j2(s),o,c)),c.promise}(M0(r),t)}(function(t,i=!0){(function(o){Os=o})(PA),Sa(new Li("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new po(new XA(s.getProvider("auth-internal")),new JA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(v.options.projectId,A)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ii(Zy,$y,t),ii(Zy,$y,"esm2017")})();var uw="firebase",cw="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(uw,cw,"app");const F0="@firebase/installations",hm="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=1e4,Q0=`w:${hm}`,Y0="FIS_v2",hw="https://firebaseinstallations.googleapis.com/v1",fw=60*60*1e3,dw="installations",mw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Sr=new yc(dw,mw,gw);function K0(r){return r instanceof Na&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0({projectId:r}){return`${hw}/projects/${r}/installations`}function Z0(r){return{token:r.token,requestStatus:2,expiresIn:yw(r.expiresIn),creationTime:Date.now()}}async function $0(r,t){const s=(await t.json()).error;return Sr.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function J0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function pw(r,{refreshToken:t}){const i=J0(r);return i.append("Authorization",_w(t)),i}async function W0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function yw(r){return Number(r.replace("s","000"))}function _w(r){return`${Y0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const s=X0(r),o=J0(r),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:Y0,appId:r.appId,sdkVersion:Q0},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await W0(()=>fetch(s,g));if(y.ok){const v=await y.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:Z0(v.authToken)}}else throw await $0("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=/^[cdef][\w-]{21}$/,wd="";function Aw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=Sw(r);return Tw.test(i)?i:wd}catch{return wd}}function Sw(r){return Ew(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function nE(r,t){const i=Uc(r);iE(i,t),bw(i,t)}function iE(r,t){const i=eE.get(r);if(i)for(const s of i)s(t)}function bw(r,t){const i=ww();i&&i.postMessage({key:r,fid:t}),Rw()}let Er=null;function ww(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=r=>{iE(r.data.key,r.data.fid)}),Er}function Rw(){eE.size===0&&Er&&(Er.close(),Er=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebase-installations-database",Dw=1,br="firebase-installations-store";let td=null;function fm(){return td||(td=ov(Cw,Dw,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(br)}}})),td}async function gc(r,t){const i=Uc(r),o=(await fm()).transaction(br,"readwrite"),c=o.objectStore(br),d=await c.get(i);return await c.put(t,i),await o.done,(!d||d.fid!==t.fid)&&nE(r,t.fid),t}async function aE(r){const t=Uc(r),s=(await fm()).transaction(br,"readwrite");await s.objectStore(br).delete(t),await s.done}async function Pc(r,t){const i=Uc(r),o=(await fm()).transaction(br,"readwrite"),c=o.objectStore(br),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&nE(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(r){let t;const i=await Pc(r.appConfig,s=>{const o=Iw(s),c=Vw(r,o);return t=c.registrationPromise,c.installationEntry});return i.fid===wd?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Iw(r){const t=r||{fid:Aw(),registrationStatus:0};return rE(t)}function Vw(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Sr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=Ow(r,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Nw(r)}:{installationEntry:t}}async function Ow(r,t){try{const i=await vw(r,t);return gc(r.appConfig,i)}catch(i){throw K0(i)&&i.customData.serverCode===409?await aE(r.appConfig):await gc(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Nw(r){let t=await Q_(r.appConfig);for(;t.registrationStatus===1;)await tE(100),t=await Q_(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await dm(r);return s||i}return t}function Q_(r){return Pc(r,t=>{if(!t)throw Sr.create("installation-not-found");return rE(t)})}function rE(r){return Mw(r)?{fid:r.fid,registrationStatus:0}:r}function Mw(r){return r.registrationStatus===1&&r.registrationTime+G0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw({appConfig:r,heartbeatServiceProvider:t},i){const s=Uw(r,i),o=pw(r,i),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:Q0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await W0(()=>fetch(s,g));if(y.ok){const v=await y.json();return Z0(v)}else throw await $0("Generate Auth Token",y)}function Uw(r,{fid:t}){return`${X0(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(r,t=!1){let i;const s=await Pc(r.appConfig,c=>{if(!sE(c))throw Sr.create("not-registered");const d=c.authToken;if(!t&&zw(d))return c;if(d.requestStatus===1)return i=Pw(r,t),c;{if(!navigator.onLine)throw Sr.create("app-offline");const g=Bw(c);return i=Lw(r,g),g}});return i?await i:s.authToken}async function Pw(r,t){let i=await Y_(r.appConfig);for(;i.authToken.requestStatus===1;)await tE(100),i=await Y_(r.appConfig);const s=i.authToken;return s.requestStatus===0?mm(r,t):s}function Y_(r){return Pc(r,t=>{if(!sE(t))throw Sr.create("not-registered");const i=t.authToken;return qw(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Lw(r,t){try{const i=await xw(r,t),s=Object.assign(Object.assign({},t),{authToken:i});return await gc(r.appConfig,s),i}catch(i){if(K0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await aE(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await gc(r.appConfig,s)}throw i}}function sE(r){return r!==void 0&&r.registrationStatus===2}function zw(r){return r.requestStatus===2&&!kw(r)}function kw(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+fw}function Bw(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function qw(r){return r.requestStatus===1&&r.requestTime+G0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(r){const t=r,{installationEntry:i,registrationPromise:s}=await dm(t);return s?s.catch(console.error):mm(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(r,t=!1){const i=r;return await Fw(i),(await mm(i,t)).token}async function Fw(r){const{registrationPromise:t}=await dm(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r){if(!r||!r.options)throw ed("App Configuration");if(!r.name)throw ed("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw ed(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ed(r){return Sr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="installations",Qw="installations-internal",Yw=r=>{const t=r.getProvider("app").getImmediate(),i=Gw(t),s=uo(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Kw=r=>{const t=r.getProvider("app").getImmediate(),i=uo(t,lE).getImmediate();return{getId:()=>jw(i),getToken:o=>Hw(i,o)}};function Xw(){Sa(new Li(lE,Yw,"PUBLIC")),Sa(new Li(Qw,Kw,"PRIVATE"))}Xw();ii(F0,hm);ii(F0,hm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="analytics",Zw="firebase_id",$w="origin",Jw=60*1e3,Ww="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Od("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new yc("analytics","Analytics",tR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r){if(!r.startsWith(gm)){const t=yn.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(t.message),""}return r}function oE(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function nR(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function iR(r,t){const i=nR("firebase-js-sdk-policy",{createScriptURL:eR}),s=document.createElement("script"),o=`${gm}?l=${r}&id=${t}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function aR(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function rR(r,t,i,s,o,c){const d=s[o];try{if(d)await t[d];else{const y=(await oE(i)).find(v=>v.measurementId===o);y&&await t[y.appId]}}catch(g){rn.error(g)}r("config",o,c)}async function sR(r,t,i,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await oE(i);for(const y of d){const v=g.find(C=>C.measurementId===y),A=v&&t[v.appId];if(A)c.push(A);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,o||{})}catch(c){rn.error(c)}}function lR(r,t,i,s){async function o(c,...d){try{if(c==="event"){const[g,y]=d;await sR(r,t,i,g,y)}else if(c==="config"){const[g,y]=d;await rR(r,t,i,s,g,y)}else if(c==="consent"){const[g,y]=d;r("consent",g,y)}else if(c==="get"){const[g,y,v]=d;r("get",g,y,v)}else if(c==="set"){const[g]=d;r("set",g)}else r(c,...d)}catch(g){rn.error(g)}}return o}function oR(r,t,i,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=lR(c,r,t,i),{gtagCore:c,wrappedGtag:window[o]}}function uR(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(gm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=30,hR=1e3;class fR{constructor(t={},i=hR){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const uE=new fR;function dR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function mR(r){var t;const{appId:i,apiKey:s}=r,o={method:"GET",headers:dR(s)},c=Ww.replace("{app-id}",i),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let g="";try{const y=await d.json();!((t=y.error)===null||t===void 0)&&t.message&&(g=y.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function gR(r,t=uE,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw yn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw yn.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new _R;return setTimeout(async()=>{g.abort()},Jw),cE({appId:s,apiKey:o,measurementId:c},d,g,t)}async function cE(r,{throttleEndTimeMillis:t,backoffCount:i},s,o=uE){var c;const{appId:d,measurementId:g}=r;try{await pR(s,t)}catch(y){if(g)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:g};throw y}try{const y=await mR(r);return o.deleteThrottleMetadata(d),y}catch(y){const v=y;if(!yR(v)){if(o.deleteThrottleMetadata(d),g)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw y}const A=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?By(i,o.intervalMillis,cR):By(i,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,C),rn.debug(`Calling attemptFetch again in ${A} millis`),cE(r,C,s,o)}}function pR(r,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(yn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function yR(r){if(!(r instanceof Na)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class _R{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function vR(r,t,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await t,d=Object.assign(Object.assign({},s),{send_to:c});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(){if(av())try{await rv()}catch(r){return rn.warn(yn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return rn.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TR(r,t,i,s,o,c,d){var g;const y=gR(r);y.then(j=>{i[j.measurementId]=j.appId,r.options.measurementId&&j.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>rn.error(j)),t.push(y);const v=ER().then(j=>{if(j)return s.getId()}),[A,C]=await Promise.all([y,v]);uR(c)||iR(c,A.measurementId),o("js",new Date);const I=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return I[$w]="firebase",I.update=!0,C!=null&&(I[Zw]=C),o("config",A.measurementId,I),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.app=t}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},K_=[];const X_={};let nd="dataLayer",SR="gtag",Z_,hE,$_=!1;function bR(){const r=[];if(D1()&&r.push("This is a browser extension environment."),V1()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=yn.create("invalid-analytics-context",{errorInfo:t});rn.warn(i.message)}}function wR(r,t,i){bR();const s=r.options.appId;if(!s)throw yn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(to[s]!=null)throw yn.create("already-exists",{id:s});if(!$_){aR(nd);const{wrappedGtag:c,gtagCore:d}=oR(to,K_,X_,nd,SR);hE=c,Z_=d,$_=!0}return to[s]=TR(r,K_,X_,t,Z_,nd,i),new AR(r)}function RR(r=cv()){r=oi(r);const t=uo(r,pc);return t.isInitialized()?t.getImmediate():CR(r)}function CR(r,t={}){const i=uo(r,pc);if(i.isInitialized()){const o=i.getImmediate();if(eo(t,i.getOptions()))return o;throw yn.create("already-initialized")}return i.initialize({options:t})}function DR(r,t,i,s){r=oi(r),vR(hE,to[r.app.options.appId],t,i,s).catch(o=>rn.error(o))}const J_="@firebase/analytics",W_="0.10.17";function IR(){Sa(new Li(pc,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return wR(s,o,i)},"PUBLIC")),Sa(new Li("analytics-internal",r,"PRIVATE")),ii(J_,W_),ii(J_,W_,"esm2017");function r(t){try{const i=t.getProvider(pc).getImmediate();return{logEvent:(s,o,c)=>DR(i,s,o,c)}}catch(i){throw yn.create("interop-component-reg-failed",{reason:i})}}}IR();const VR={apiKey:"AIzaSyCSquv_Q4h-uMn6a8SJ-AnI4KQcNKjk7Og",authDomain:"my-react-app-firebase-793b1.firebaseapp.com",projectId:"my-react-app-firebase-793b1",storageBucket:"my-react-app-firebase-793b1.firebasestorage.app",messagingSenderId:"525119036648",appId:"1:525119036648:web:2e8484125bf9069d473d5d",measurementId:"G-54TSXS7PJK"},fE=uv(VR);RR(fE);const yo=Q2(fE);async function OR(r,t,i){const s=rm(yo,i,r);await ow(s,t)}async function NR(r){try{const t=await j0(N0(yo,r));await Promise.all(t.docs.map(i=>H0(i.ref)))}catch(t){throw console.error("Error cleaning all documents:",t),t}}async function MR(r,t){await H0(rm(yo,r,t))}async function tv(r){const t=await j0(N0(yo,r)),i=[];return t.forEach(s=>{i.push({id:s.id,...s.data()})}),i}async function xR(r,t,i){const s=rm(yo,r,t);await lw(s,i)}function UR(){const[r,t]=Xt.useState(()=>prompt("Enter your name")),[i,s]=Xt.useState(!1),[o,c]=Xt.useState(0),[d,g]=Xt.useState([]),[y,v]=Xt.useState(!1);async function A(){const J=await tv(r);try{g(J||[]),v(!0)}catch(ft){console.error("Failed to fetch data",ft),s(!1),v(!1)}}Xt.useEffect(()=>{r&&A().catch(J=>{console.error("Failed to fetch data",J),s(!1)})},[r]);async function C(){const J=await tv(r),ft=J.map(H=>H.id),D=d.map(H=>H.id);for(const H of d)if(ft.includes(H.id)){const nt=J.find(W=>W.id===H.id);(nt.name!=H.name||nt.isChecked!=H.isChecked)&&await OR(H.id,{name:H.name,isChecked:H.isChecked},r)}else await xR(r,H.id,{name:H.name,isChecked:H.isChecked});for(const H of J)D.includes(H.id)||await MR(r,H.id);s(!0)}function I(){localStorage.setItem("Tasks",JSON.stringify(d))}Xt.useEffect(()=>{y&&I()},[d,r,y]);const[j,Z]=Xt.useState(!1);async function it(){if(prompt("Enter secret admin password")!=="1234")alert("You don't have permission to clear the local storage");else try{await NR(r),g([]),Z(!0)}catch(ft){console.error("Failed to clear Firestore:",ft),s(!1)}}Xt.useEffect(()=>{j&&setTimeout(()=>{s(!0),Z(!1)},300)},[j]);function $(J,ft){const D=d.map(H=>J===H.id?{...H,name:ft}:H);g(D)}function mt(J){const ft=d.filter(D=>J!==D.id);g(ft)}function st(J){if(J!=""){const ft={id:`todo-${JT()}`,name:J,isChecked:!1};g([...d,ft])}else alert("You must enter a task")}const[lt,bt]=Xt.useState(!1);function Tt(J){let ft=!0;const D=d.map(H=>J===H.id?(H.isChecked==!0&&(ft=!1),{...H,isChecked:!H.isChecked}):H);bt(!!ft),g(D)}Xt.useEffect(()=>{if(lt){const J=setTimeout(()=>bt(!1),3e3);return()=>clearTimeout(J)}},[lt]);let Nt="tasks";const[N,S]=Xt.useState("All"),R={All:()=>!0,Active:J=>!J.isChecked,Completed:J=>J.isChecked,Clear_Storage:()=>!0},M=Object.keys(R).map(J=>pt.jsx(ZT,{val:J,isPressed:J===N,setFilter:S,setValues:g,handleClearStorage:it},J)),U=d.filter(R[N]);Xt.useEffect(()=>{c(U.length)},[U.length]),o==1&&(Nt="task");let w=!1;o==0&&(w=!0);function ve(J){const ft=Xt.useRef();return Xt.useEffect(()=>{ft.current=J}),ft.current}const Wt=Xt.useRef(null),F=ve(o);Xt.useEffect(()=>{o<F&&Wt.current.focus()},[o,F]);function et(){if(!y)return;const J=setTimeout(()=>{C().catch(ft=>{console.log("Error "+ft),s(!1)})},1e3);return()=>{clearTimeout(J)}}return pt.jsxs("div",{className:"todoapp stack-la  rge",children:[pt.jsx("h1",{children:"Personal To Do list"}),pt.jsx("button",{type:"button",onClick:et,className:"btn btn__change",children:"Click to sync to database"}),lt&&pt.jsx("div",{id:"confetti",children:pt.jsx(o1,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:800,gravity:.95})}),pt.jsx(KT,{id:"new-todo-input",type:"text",addTask:st}),pt.jsx("div",{className:"filters btn-group stack-exception",children:M}),pt.jsx("h2",{id:"list-heading",tabIndex:"-1",ref:Wt,children:w?pt.jsx(pt.Fragment,{children:"No tasks remaining"}):pt.jsxs(pt.Fragment,{children:[o," ",Nt," remaining"]})}),pt.jsx("ul",{role:"list",className:"todo-list stack-large stack-exception","aria-labelledby":"list-heading",children:U.map(J=>pt.jsx("li",{className:"todo stack-small",children:pt.jsx($T,{id:J.id,name:J.name,isChecked:J.isChecked,toggleTaskCompleted:Tt,deleteTask:mt,editTask:$})},J.id))})]})}YT.createRoot(document.getElementById("root")).render(pt.jsx(UR,{}));
