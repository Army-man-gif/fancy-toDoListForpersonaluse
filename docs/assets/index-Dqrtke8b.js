(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function zT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zf={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function kT(){if(Ry)return Hl;Ry=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=t,Hl.jsx=i,Hl.jsxs=i,Hl}var Cy;function BT(){return Cy||(Cy=1,zf.exports=kT()),zf.exports}var gt=BT(),kf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function qT(){if(Dy)return At;Dy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function V(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function $(I,K,nt){this.props=I,this.context=K,this.refs=tt,this.updater=nt||q}$.prototype.isReactComponent={},$.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},$.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ct(){}ct.prototype=$.prototype;function rt(I,K,nt){this.props=I,this.context=K,this.refs=tt,this.updater=nt||q}var lt=rt.prototype=new ct;lt.constructor=rt,Z(lt,$.prototype),lt.isPureReactComponent=!0;var Ot=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function N(I,K,nt,J,ht,Rt){return nt=Rt.ref,{$$typeof:r,type:I,key:K,ref:nt!==void 0?nt:null,props:Rt}}function b(I,K){return N(I.type,K,void 0,void 0,void 0,I.props)}function S(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function D(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return K[nt]})}var M=/\/+/g;function x(I,K){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):K.toString(36)}function R(){}function wt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Qt(I,K,nt,J,ht){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var _t=!1;if(I===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(I.$$typeof){case r:case t:_t=!0;break;case A:return _t=I._init,Qt(_t(I._payload),K,nt,J,ht)}}if(_t)return ht=ht(I),_t=J===""?"."+x(I,0):J,Ot(ht)?(nt="",_t!=null&&(nt=_t.replace(M,"$&/")+"/"),Qt(ht,K,nt,"",function(kn){return kn})):ht!=null&&(S(ht)&&(ht=b(ht,nt+(ht.key==null||I&&I.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+_t)),K.push(ht)),1;_t=0;var De=J===""?".":J+":";if(Ot(I))for(var Jt=0;Jt<I.length;Jt++)J=I[Jt],Rt=De+x(J,Jt),_t+=Qt(J,K,nt,Rt,ht);else if(Jt=V(I),typeof Jt=="function")for(I=Jt.call(I),Jt=0;!(J=I.next()).done;)J=J.value,Rt=De+x(J,Jt++),_t+=Qt(J,K,nt,Rt,ht);else if(Rt==="object"){if(typeof I.then=="function")return Qt(wt(I),K,nt,J,ht);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(I,K,nt){if(I==null)return I;var J=[],ht=0;return Qt(I,J,"","",function(Rt){return K.call(nt,Rt,ht++)}),J}function et(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function kt(){}return At.Children={map:H,forEach:function(I,K,nt){H(I,function(){K.apply(this,arguments)},nt)},count:function(I){var K=0;return H(I,function(){K++}),K},toArray:function(I){return H(I,function(K){return K})||[]},only:function(I){if(!S(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},At.Component=$,At.Fragment=i,At.Profiler=o,At.PureComponent=rt,At.StrictMode=s,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,At.__COMPILER_RUNTIME={__proto__:null,c:function(I){return vt.H.useMemoCache(I)}},At.cache=function(I){return function(){return I.apply(null,arguments)}},At.cloneElement=function(I,K,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var J=Z({},I.props),ht=I.key,Rt=void 0;if(K!=null)for(_t in K.ref!==void 0&&(Rt=void 0),K.key!==void 0&&(ht=""+K.key),K)!Lt.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||(J[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)J.children=nt;else if(1<_t){for(var De=Array(_t),Jt=0;Jt<_t;Jt++)De[Jt]=arguments[Jt+2];J.children=De}return N(I.type,ht,void 0,void 0,Rt,J)},At.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},At.createElement=function(I,K,nt){var J,ht={},Rt=null;if(K!=null)for(J in K.key!==void 0&&(Rt=""+K.key),K)Lt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ht[J]=K[J]);var _t=arguments.length-2;if(_t===1)ht.children=nt;else if(1<_t){for(var De=Array(_t),Jt=0;Jt<_t;Jt++)De[Jt]=arguments[Jt+2];ht.children=De}if(I&&I.defaultProps)for(J in _t=I.defaultProps,_t)ht[J]===void 0&&(ht[J]=_t[J]);return N(I,Rt,void 0,void 0,null,ht)},At.createRef=function(){return{current:null}},At.forwardRef=function(I){return{$$typeof:g,render:I}},At.isValidElement=S,At.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:et}},At.memo=function(I,K){return{$$typeof:v,type:I,compare:K===void 0?null:K}},At.startTransition=function(I){var K=vt.T,nt={};vt.T=nt;try{var J=I(),ht=vt.S;ht!==null&&ht(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(kt,ut)}catch(Rt){ut(Rt)}finally{vt.T=K}},At.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},At.use=function(I){return vt.H.use(I)},At.useActionState=function(I,K,nt){return vt.H.useActionState(I,K,nt)},At.useCallback=function(I,K){return vt.H.useCallback(I,K)},At.useContext=function(I){return vt.H.useContext(I)},At.useDebugValue=function(){},At.useDeferredValue=function(I,K){return vt.H.useDeferredValue(I,K)},At.useEffect=function(I,K,nt){var J=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(I,K)},At.useId=function(){return vt.H.useId()},At.useImperativeHandle=function(I,K,nt){return vt.H.useImperativeHandle(I,K,nt)},At.useInsertionEffect=function(I,K){return vt.H.useInsertionEffect(I,K)},At.useLayoutEffect=function(I,K){return vt.H.useLayoutEffect(I,K)},At.useMemo=function(I,K){return vt.H.useMemo(I,K)},At.useOptimistic=function(I,K){return vt.H.useOptimistic(I,K)},At.useReducer=function(I,K,nt){return vt.H.useReducer(I,K,nt)},At.useRef=function(I){return vt.H.useRef(I)},At.useState=function(I){return vt.H.useState(I)},At.useSyncExternalStore=function(I,K,nt){return vt.H.useSyncExternalStore(I,K,nt)},At.useTransition=function(){return vt.H.useTransition()},At.version="19.1.0",At}var Iy;function Rd(){return Iy||(Iy=1,kf.exports=qT()),kf.exports}var ue=Rd();const tc=zT(ue);var Bf={exports:{}},Fl={},qf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function jT(){return Vy||(Vy=1,function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var kt=ut-1>>>1,I=H[kt];if(0<o(I,et))H[kt]=et,H[ut]=I,ut=kt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var kt=0,I=H.length,K=I>>>1;kt<K;){var nt=2*(kt+1)-1,J=H[nt],ht=nt+1,Rt=H[ht];if(0>o(J,ut))ht<I&&0>o(Rt,J)?(H[kt]=Rt,H[ht]=ut,kt=ht):(H[kt]=J,H[nt]=ut,kt=nt);else if(ht<I&&0>o(Rt,ut))H[kt]=Rt,H[ht]=ut,kt=ht;else break t}}return et}function o(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],v=[],A=1,C=null,V=3,q=!1,Z=!1,tt=!1,$=!1,ct=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Ot(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function vt(H){if(tt=!1,Ot(H),!Z)if(i(y)!==null)Z=!0,Lt||(Lt=!0,x());else{var et=i(v);et!==null&&Qt(vt,et.startTime-H)}}var Lt=!1,N=-1,b=5,S=-1;function D(){return $?!0:!(r.unstable_now()-S<b)}function M(){if($=!1,Lt){var H=r.unstable_now();S=H;var et=!0;try{t:{Z=!1,tt&&(tt=!1,rt(N),N=-1),q=!0;var ut=V;try{e:{for(Ot(H),C=i(y);C!==null&&!(C.expirationTime>H&&D());){var kt=C.callback;if(typeof kt=="function"){C.callback=null,V=C.priorityLevel;var I=kt(C.expirationTime<=H);if(H=r.unstable_now(),typeof I=="function"){C.callback=I,Ot(H),et=!0;break e}C===i(y)&&s(y),Ot(H)}else s(y);C=i(y)}if(C!==null)et=!0;else{var K=i(v);K!==null&&Qt(vt,K.startTime-H),et=!1}}break t}finally{C=null,V=ut,q=!1}et=void 0}}finally{et?x():Lt=!1}}}var x;if(typeof lt=="function")x=function(){lt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,wt=R.port2;R.port1.onmessage=M,x=function(){wt.postMessage(null)}}else x=function(){ct(M,0)};function Qt(H,et){N=ct(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ut=V;V=et;try{return H()}finally{V=ut}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=V;V=H;try{return et()}finally{V=ut}},r.unstable_scheduleCallback=function(H,et,ut){var kt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ut+I,H={id:A++,callback:et,priorityLevel:H,startTime:ut,expirationTime:I,sortIndex:-1},ut>kt?(H.sortIndex=ut,t(v,H),i(y)===null&&H===i(v)&&(tt?(rt(N),N=-1):tt=!0,Qt(vt,ut-kt))):(H.sortIndex=I,t(y,H),Z||q||(Z=!0,Lt||(Lt=!0,x()))),H},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(H){var et=V;return function(){var ut=V;V=et;try{return H.apply(this,arguments)}finally{V=ut}}}}(jf)),jf}var Oy;function HT(){return Oy||(Oy=1,qf.exports=jT()),qf.exports}var Hf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function FT(){if(My)return Ge;My=1;var r=Rd();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:y,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},Ge.flushSync=function(y){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=A,s.d.f()}},Ge.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},Ge.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ge.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:V,fetchPriority:q}):A==="script"&&s.d.X(y,{crossOrigin:C,integrity:V,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},Ge.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);s.d.L(y,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},Ge.requestFormReset=function(y){s.d.r(y)},Ge.unstable_batchedUpdates=function(y,v){return y(v)},Ge.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Ny;function GT(){if(Ny)return Hf.exports;Ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hf.exports=FT(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function QT(){if(xy)return Fl;xy=1;var r=HT(),t=Rd(),i=GT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=f;break}if(E===l){_=!0,l=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,l=h;break}if(E===l){_=!0,l=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case $:return"Profiler";case tt:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:wt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return wt(e(n))}catch{}}return null}var Qt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},kt=[],I=-1;function K(e){return{current:e}}function nt(e){0>I||(e.current=kt[I],kt[I]=null,I--)}function J(e,n){I++,kt[I]=e.current,e.current=n}var ht=K(null),Rt=K(null),_t=K(null),De=K(null);function Jt(e,n){switch(J(_t,n),J(Rt,e),J(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ty(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ty(n),e=ey(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ht),J(ht,e)}function kn(){nt(ht),nt(Rt),nt(_t)}function qi(e){e.memoizedState!==null&&J(De,e);var n=ht.current,a=ey(n,e.type);n!==a&&(J(Rt,e),J(ht,a))}function hi(e){Rt.current===e&&(nt(ht),nt(Rt)),De.current===e&&(nt(De),zl._currentValue=ut)}var Ua=Object.prototype.hasOwnProperty,Pa=r.unstable_scheduleCallback,La=r.unstable_cancelCallback,Us=r.unstable_shouldYield,_o=r.unstable_requestPaint,_n=r.unstable_now,Lc=r.unstable_getCurrentPriorityLevel,Ps=r.unstable_ImmediatePriority,Cr=r.unstable_UserBlockingPriority,za=r.unstable_NormalPriority,zc=r.unstable_LowPriority,Dr=r.unstable_IdlePriority,Ls=r.log,vo=r.unstable_setDisableYieldValue,se=null,Ht=null;function sn(e){if(typeof Ls=="function"&&vo(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var He=Math.clz32?Math.clz32:ka,Eo=Math.log,kc=Math.LN2;function ka(e){return e>>>=0,e===0?32:31-(Eo(e)/kc|0)|0}var Ba=256,qa=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Mn(l):(_&=E,_!==0?h=Mn(_):a||(a=E&~e,a!==0&&(h=Mn(a))))):(E=l&~f,E!==0?h=Mn(E):_!==0?h=Mn(_):a||(a=l&~e,a!==0&&(h=Mn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ja(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var e=Ba;return Ba<<=1,(Ba&4194048)===0&&(Ba=256),e}function Bs(){var e=qa;return qa<<=1,(qa&62914560)===0&&(qa=4194304),e}function fi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function di(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qs(e,n,a,l,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var F=31-He(a),Q=1<<F;E[F]=0,w[F]=-1;var k=z[F];if(k!==null)for(z[F]=null,F=0;F<k.length;F++){var B=k[F];B!==null&&(B.lane&=-536870913)}a&=~Q}l!==0&&Bn(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Bn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-He(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function js(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-He(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Ey(e.type))}function To(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,me="__reactProps$"+ne,vn="__reactContainer$"+ne,Hs="__reactEvents$"+ne,Bc="__reactListeners$"+ne,Fi="__reactHandles$"+ne,Ao="__reactResources$"+ne,Ha="__reactMarker$"+ne;function Gi(e){delete e[Ee],delete e[me],delete e[Hs],delete e[Bc],delete e[Fi]}function mi(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vn]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=ry(e);e!==null;){if(a=e[Ee])return a;e=ry(e)}return n}e=a,a=e.parentNode}return null}function qn(e){if(e=e[Ee]||e[vn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function jn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Xe(e){var n=e[Ao];return n||(n=e[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[Ha]=!0}var Fs=new Set,Or={};function Nn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(Or[e]=n,e=0;e<n.length;e++)Fs.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Fa={};function wo(e){return Ua.call(Fa,e)?!0:Ua.call(bo,e)?!1:So.test(e)?Fa[e]=!0:(bo[e]=!0,!1)}function Qi(e,n,a){if(wo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Hn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Ga,Ro;function pi(e){if(Ga===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ga=n&&n[1]||"",Ro=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+e+Ro}var Mr=!1;function Nr(e,n){if(!e||Mr)return"";Mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){k=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var w=_.split(`
`),z=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===z.length)for(l=w.length-1,h=z.length-1;1<=l&&0<=h&&w[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==z[h]){var F=`
`+w[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Mr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pi(a):""}function Gs(e){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Nr(e.type,!1);case 11:return Nr(e.type.render,!1);case 1:return Nr(e.type,!0);case 31:return pi("Activity");default:return""}}function xr(e){try{var n="";do n+=Gs(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qc(e){var n=Qs(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ur(e){e._valueTracker||(e._valueTracker=qc(e))}function Ys(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Qs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jc=/[\n"\\]/g;function ge(e){return e.replace(jc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,a,l,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Yi(e,_,Ze(n)):a!=null?Yi(e,_,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function Ya(e,n,a,l,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Yi(e,n,a){n==="number"&&Qa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yi(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Yt(e,n,a){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ze(a):""}function Ka(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Qt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function En(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Xa.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Ks(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Co(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function Xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(e){return Fc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _i=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function Zs(e){var n=qn(e);if(n&&(e=n.stateNode)){var a=e[me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[me]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Ys(l)}break t;case"textarea":Yt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&yi(e,!!a.multiple,n,!1)}}}var Fn=!1;function Do(e,n,a){if(Fn)return e(n,a);Fn=!0;try{var l=e(n);return l}finally{if(Fn=!1,(vi!==null||Ei!==null)&&(Tu(),vi&&(n=vi,e=Ei,Ei=vi=null,Zs(n),e)))for(n=0;n<e.length;n++)Zs(e[n])}}function Za(e,n){var a=e.stateNode;if(a===null)return null;var l=a[me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(xn)try{var $a={};Object.defineProperty($a,"passive",{get:function(){An=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{An=!1}var Gn=null,Ki=null,Ti=null;function $s(){if(Ti)return Ti;var e,n=Ki,a=n.length,l,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return Ti=h.slice(e,1<l?1-l:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function Js(){return!1}function Ie(e){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:Js,this.isPropagationStopped=Js,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=Ie(qt),Ja=A({},qt,{view:0,detail:0}),Io=Ie(Ja),zr,kr,Kn,Wa=A({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(zr=e.screenX-Kn.screenX,kr=e.screenY-Kn.screenY):kr=zr=0,Kn=e),zr)},movementY:function(e){return"movementY"in e?e.movementY:kr}}),Sn=Ie(Wa),Vo=A({},Wa,{dataTransfer:0}),Gc=Ie(Vo),tr=A({},Ja,{relatedTarget:0}),Br=Ie(tr),Ws=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),qr=Ie(Ws),Oo=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jr=Ie(Oo),Qc=A({},qt,{data:0}),tl=Ie(Qc),er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=No[e])?!!n[e]:!1}function nr(){return el}var xo=A({},Ja,{key:function(e){if(e.key){var n=er[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hr=Ie(xo),Uo=A({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Ie(Uo),Ai=A({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),Po=Ie(Ai),Lo=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zo=Ie(Lo),ko=A({},Wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fr=Ie(ko),$e=A({},qt,{newState:0,oldState:0}),Bo=Ie($e),qo=[9,13,27,32],Xn=xn&&"CompositionEvent"in window,u=null;xn&&"documentMode"in document&&(u=document.documentMode);var m=xn&&"TextEvent"in window&&!u,p=xn&&(!Xn||u&&8<u&&11>=u),T=" ",P=!1;function j(e,n){switch(e){case"keyup":return qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Te(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return e=n.data,e===T&&P?null:e;default:return null}}function Nt(e,n){if(Mt)return e==="compositionend"||!Xn&&j(e,n)?(e=$s(),Ti=Ki=Gn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ve[e.type]:n==="textarea"}function Si(e,n,a,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,n=Cu(n,"onChange"),0<n.length&&(a=new Lr("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Pe=null,Zn=null;function il(e){Xp(e,0)}function jo(e){var n=jn(e);if(Ys(n))return e}function pm(e,n){if(e==="change")return n}var ym=!1;if(xn){var Yc;if(xn){var Kc="oninput"in document;if(!Kc){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Kc=typeof _m.oninput=="function"}Yc=Kc}else Yc=!1;ym=Yc&&(!document.documentMode||9<document.documentMode)}function vm(){Pe&&(Pe.detachEvent("onpropertychange",Em),Zn=Pe=null)}function Em(e){if(e.propertyName==="value"&&jo(Zn)){var n=[];Si(n,Zn,e,Tn(e)),Do(il,n)}}function mE(e,n,a){e==="focusin"?(vm(),Pe=n,Zn=a,Pe.attachEvent("onpropertychange",Em)):e==="focusout"&&vm()}function gE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Zn)}function pE(e,n){if(e==="click")return jo(n)}function yE(e,n){if(e==="input"||e==="change")return jo(n)}function _E(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:_E;function al(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ua.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Am(e,n){var a=Tm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tm(a)}}function Sm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Qa(e.document)}return n}function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var vE=xn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Zc=null,rl=null,$c=!1;function wm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$c||Gr==null||Gr!==Qa(l)||(l=Gr,"selectionStart"in l&&Xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&al(rl,l)||(rl=l,l=Cu(Zc,"onSelect"),0<l.length&&(n=new Lr("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Gr)))}function ir(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Qr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Jc={},Rm={};xn&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function ar(e){if(Jc[e])return Jc[e];if(!Qr[e])return e;var n=Qr[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Rm)return Jc[e]=n[a];return e}var Cm=ar("animationend"),Dm=ar("animationiteration"),Im=ar("animationstart"),EE=ar("transitionrun"),TE=ar("transitionstart"),AE=ar("transitioncancel"),Vm=ar("transitionend"),Om=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function Un(e,n){Om.set(e,n),Nn(n,[e])}var Mm=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var a=Mm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:xr(n)},Mm.set(e,n),n)}return{value:e,source:n,stack:xr(n)}}var wn=[],Yr=0,th=0;function Ho(){for(var e=Yr,n=th=Yr=0;n<e;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Nm(a,h,f)}}function Fo(e,n,a,l){wn[Yr++]=e,wn[Yr++]=n,wn[Yr++]=a,wn[Yr++]=l,th|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function eh(e,n,a,l){return Fo(e,n,a,l),Go(e)}function Kr(e,n){return Fo(e,null,null,n),Go(e)}function Nm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-He(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Go(e){if(50<Vl)throw Vl=0,of=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Xr={};function SE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,a,l){return new SE(e,n,a,l)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var a=e.alternate;return a===null?(a=un(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Qo(e,n,a,l,h,f){var _=0;if(l=e,typeof e=="function")nh(e)&&(_=1);else if(typeof e=="string")_=wT(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=un(31,a,n,h),e.elementType=S,e.lanes=f,e;case Z:return rr(a.children,h,f,n);case tt:_=8,h|=24;break;case $:return e=un(12,a,n,h|2),e.elementType=$,e.lanes=f,e;case vt:return e=un(13,a,n,h),e.elementType=vt,e.lanes=f,e;case Lt:return e=un(19,a,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:case lt:_=10;break t;case rt:_=9;break t;case Ot:_=11;break t;case N:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=un(_,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function rr(e,n,a,l){return e=un(7,e,l,n),e.lanes=a,e}function ih(e,n,a){return e=un(6,e,null,n),e.lanes=a,e}function ah(e,n,a){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zr=[],$r=0,Yo=null,Ko=0,Rn=[],Cn=0,sr=null,wi=1,Ri="";function lr(e,n){Zr[$r++]=Ko,Zr[$r++]=Yo,Yo=e,Ko=n}function Um(e,n,a){Rn[Cn++]=wi,Rn[Cn++]=Ri,Rn[Cn++]=sr,sr=e;var l=wi;e=Ri;var h=32-He(l)-1;l&=~(1<<h),a+=1;var f=32-He(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-He(n)+h|a<<h|l,Ri=f+e}else wi=1<<f|a<<h|l,Ri=e}function rh(e){e.return!==null&&(lr(e,1),Um(e,1,0))}function sh(e){for(;e===Yo;)Yo=Zr[--$r],Zr[$r]=null,Ko=Zr[--$r],Zr[$r]=null;for(;e===sr;)sr=Rn[--Cn],Rn[Cn]=null,Ri=Rn[--Cn],Rn[Cn]=null,wi=Rn[--Cn],Rn[Cn]=null}var Je=null,le=null,Bt=!1,or=null,$n=!1,lh=Error(s(519));function ur(e){var n=Error(s(418,""));throw ol(bn(n,e)),lh}function Pm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[me]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)It(Ml[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ya(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ur(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Ka(n,l.value,l.defaultValue,l.children),Ur(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Wp(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||ur(e)}function Lm(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Je=Je.return}}function sl(e){if(e!==Je)return!1;if(!Bt)return Lm(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bf(e.type,e.memoizedProps)),a=!a),a&&le&&ur(e),Lm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){le=Ln(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}le=null}}else n===27?(n=le,ca(e.type)?(e=Df,Df=null,le=e):le=n):le=Je?Ln(e.stateNode.nextSibling):null;return!0}function ll(){le=Je=null,Bt=!1}function zm(){var e=or;return e!==null&&(en===null?en=e:en.push.apply(en,e),or=null),e}function ol(e){or===null?or=[e]:or.push(e)}var oh=K(null),cr=null,Ci=null;function Xi(e,n,a){J(oh,n._currentValue),n._currentValue=a}function Di(e){e._currentValue=oh.current,nt(oh)}function uh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function ch(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uh(f.return,a,e),l||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),uh(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ul(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;on(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===De.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(zl):e=[zl])}h=h.return}e!==null&&ch(n,e,a,l),n.flags|=262144}function Xo(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hr(e){cr=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return km(cr,e)}function Zo(e,n){return cr===null&&hr(e),km(e,n)}function km(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(e===null)throw Error(s(308));Ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ci=Ci.next=n;return a}var bE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},wE=r.unstable_scheduleCallback,RE=r.unstable_NormalPriority,Se={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new bE,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&wE(RE,function(){e.controller.abort()})}var hl=null,fh=0,Jr=0,Wr=null;function CE(e,n){if(hl===null){var a=hl=[];fh=0,Jr=gf(),Wr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fh++,n.then(Bm,Bm),n}function Bm(){if(--fh===0&&hl!==null){Wr!==null&&(Wr.status="fulfilled");var e=hl;hl=null,Jr=0,Wr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function DE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qm=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&CE(e,n),qm!==null&&qm(e,n)};var fr=K(null);function dh(){var e=fr.current;return e!==null?e:Wt.pooledCache}function $o(e,n){n===null?J(fr,fr.current):J(fr,n.pool)}function jm(){var e=dh();return e===null?null:{parent:Se._currentValue,pool:e}}var fl=Error(s(460)),Hm=Error(s(474)),Jo=Error(s(542)),mh={then:function(){}};function Fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wo(){}function Gm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Wo,Wo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ym(e),e;default:if(typeof n.status=="string")n.then(Wo,Wo);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ym(e),e}throw dl=n,fl}}var dl=null;function Qm(){if(dl===null)throw Error(s(459));var e=dl;return dl=null,e}function Ym(e){if(e===fl||e===Jo)throw Error(s(483))}var Zi=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Go(e),Nm(e,null,a),n}return Fo(e,l,n,a),Go(e)}function ml(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,js(e,a)}}function yh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var _h=!1;function gl(){if(_h){var e=Wr;if(e!==null)throw e}}function pl(e,n,a,l){_h=!1;var h=e.updateQueue;Zi=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,z=w.next;w.next=null,_===null?f=z:_.next=z,_=w;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==_&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=w))}if(f!==null){var Q=h.baseState;_=0,F=z=w=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(xt&k)===k:(l&k)===k){k!==0&&k===Jr&&(_h=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,dt=E;k=n;var Zt=a;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Q=yt.call(Zt,Q,k);break t}Q=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,k=typeof yt=="function"?yt.call(Zt,Q,k):yt,k==null)break t;Q=A({},Q,k);break t;case 2:Zi=!0}}k=E.callback,k!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=B,w=Q):F=F.next=B,_|=k;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(w=Q),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),sa|=_,e.lanes=_,e.memoizedState=Q}}function Km(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Xm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Km(a[e],n)}var ts=K(null),tu=K(0);function Zm(e,n){e=Ui,J(tu,e),J(ts,n),Ui=e|n.baseLanes}function vh(){J(tu,Ui),J(ts,ts.current)}function Eh(){Ui=tu.current,nt(ts),nt(tu)}var Wi=0,St=null,Kt=null,pe=null,eu=!1,es=!1,dr=!1,nu=0,yl=0,ns=null,IE=0;function he(){throw Error(s(321))}function Th(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!on(e[a],n[a]))return!1;return!0}function Ah(e,n,a,l,h,f){return Wi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ng:xg,dr=!1,f=a(l,h),dr=!1,es&&(f=Jm(n,a,l,h)),$m(e),f}function $m(e){H.H=ou;var n=Kt!==null&&Kt.next!==null;if(Wi=0,pe=Kt=St=null,eu=!1,yl=0,ns=null,n)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Xo(e)&&(Oe=!0))}function Jm(e,n,a,l){St=e;var h=0;do{if(es&&(ns=null),yl=0,es=!1,25<=h)throw Error(s(301));if(h+=1,pe=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=PE,f=n(a,l)}while(es);return f}function VE(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?_l(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(St.flags|=1024),n}function Sh(){var e=nu!==0;return nu=0,e}function bh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wh(e){if(eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}eu=!1}Wi=0,pe=Kt=St=null,es=!1,yl=nu=0,ns=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?St.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Kt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=pe===null?St.memoizedState:pe.next;if(n!==null)pe=n,Kt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?St.memoizedState=pe=e:pe=pe.next=e}return pe}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var n=yl;return yl+=1,ns===null&&(ns=[]),e=Gm(ns,e,n),n=St,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ng:xg),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===lt)return Fe(e)}throw Error(s(438,String(e)))}function Ch(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Rh(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=D;return n.index++,a}function Ii(e,n){return typeof n=="function"?n(e):n}function au(e){var n=ye();return Dh(n,Kt,e)}function Dh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,w=null,z=n,F=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(xt&Q)===Q:(Wi&Q)===Q){var k=z.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Jr&&(F=!0);else if((Wi&k)===k){z=z.next,k===Jr&&(F=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=Q,_=f):w=w.next=Q,St.lanes|=k,sa|=k;Q=z.action,dr&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=k,_=f):w=w.next=k,St.lanes|=Q,sa|=Q;z=z.next}while(z!==null&&z!==n);if(w===null?_=f:w.next=E,!on(f,e.memoizedState)&&(Oe=!0,F&&(a=Wr,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ih(e){var n=ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Wm(e,n,a){var l=St,h=ye(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!on((Kt||h).memoizedState,a);_&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=ng.bind(null,l,h,e);if(vl(2048,8,E,[e]),h.getSnapshot!==n||_||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,is(9,ru(),eg.bind(null,l,h,a,n),null),Wt===null)throw Error(s(349));f||(Wi&124)!==0||tg(l,n,a)}return a}function tg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Rh(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function eg(e,n,a,l){n.value=a,n.getSnapshot=l,ig(n)&&ag(e)}function ng(e,n,a){return a(function(){ig(n)&&ag(e)})}function ig(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!on(e,a)}catch{return!0}}function ag(e){var n=Kr(e,2);n!==null&&mn(n,e,2)}function Vh(e){var n=We();if(typeof e=="function"){var a=e;if(e=a(),dr){sn(!0);try{a()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function rg(e,n,a,l){return e.baseState=a,Dh(e,Kt,typeof l=="function"?l:Ii)}function OE(e,n,a,l,h){if(lu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,sg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function sg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,_={};H.T=_;try{var E=a(h,l),w=H.S;w!==null&&w(_,E),lg(e,n,E)}catch(z){Oh(e,n,z)}finally{H.T=f}}else try{f=a(h,l),lg(e,n,f)}catch(z){Oh(e,n,z)}}function lg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){og(e,n,l)},function(l){return Oh(e,n,l)}):og(e,n,a)}function og(e,n,a){n.status="fulfilled",n.value=a,ug(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,sg(e,a)))}function Oh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ug(n),n=n.next;while(n!==l)}e.action=null}function ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cg(e,n){return n}function hg(e,n){if(Bt){var a=Wt.formState;if(a!==null){t:{var l=St;if(Bt){if(le){e:{for(var h=le,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Ln(h.nextSibling),l=h.data==="F!";break t}}ur(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},a.queue=l,a=Vg.bind(null,St,l),l.dispatch=a,l=Vh(!1),f=Ph.bind(null,St,!1,l.queue),l=We(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=OE.bind(null,St,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function fg(e){var n=ye();return dg(n,Kt,e)}function dg(e,n,a){if(n=Dh(e,n,cg)[0],e=au(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=_l(n)}catch(_){throw _===fl?Jo:_}else l=n;n=ye();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(St.flags|=2048,is(9,ru(),ME.bind(null,h,a),null)),[l,f,e]}function ME(e,n){e.action=n}function mg(e){var n=ye(),a=Kt;if(a!==null)return dg(n,a,e);ye(),n=n.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function is(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Rh(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function ru(){return{destroy:void 0,resource:void 0}}function gg(){return ye().memoizedState}function su(e,n,a,l){var h=We();l=l===void 0?null:l,St.flags|=e,h.memoizedState=is(1|n,ru(),a,l)}function vl(e,n,a,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Kt!==null&&l!==null&&Th(l,Kt.memoizedState.deps)?h.memoizedState=is(n,f,a,l):(St.flags|=e,h.memoizedState=is(1|n,f,a,l))}function pg(e,n){su(8390656,8,e,n)}function yg(e,n){vl(2048,8,e,n)}function _g(e,n){return vl(4,2,e,n)}function vg(e,n){return vl(4,4,e,n)}function Eg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tg(e,n,a){a=a!=null?a.concat([e]):null,vl(4,4,Eg.bind(null,n,e),a)}function Mh(){}function Ag(e,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Sg(e,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=e(),dr){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,n],l}function Nh(e,n,a){return a===void 0||(Wi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Rp(),St.lanes|=e,sa|=e,a)}function bg(e,n,a,l){return on(a,n)?a:ts.current!==null?(e=Nh(e,a,l),on(e,n)||(Oe=!0),e):(Wi&42)===0?(Oe=!0,e.memoizedState=a):(e=Rp(),St.lanes|=e,sa|=e,n)}function wg(e,n,a,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=H.T,E={};H.T=E,Ph(e,!1,n,a);try{var w=h(),z=H.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=DE(w,l);El(e,n,F,dn(e))}else El(e,n,l,dn(e))}catch(Q){El(e,n,{then:function(){},status:"rejected",reason:Q},dn())}finally{et.p=f,H.T=_}}function NE(){}function xh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Rg(e).queue;wg(e,h,n,ut,a===null?NE:function(){return Cg(e),a(l)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cg(e){var n=Rg(e).next.queue;El(e,n,{},dn())}function Uh(){return Fe(zl)}function Dg(){return ye().memoizedState}function Ig(){return ye().memoizedState}function xE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();e=$i(a);var l=Ji(n,e,a);l!==null&&(mn(l,n,a),ml(l,n,a)),n={cache:hh()},e.payload=n;return}n=n.return}}function UE(e,n,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lu(e)?Og(n,a):(a=eh(e,n,a,l),a!==null&&(mn(a,e,l),Mg(a,n,l)))}function Vg(e,n,a){var l=dn();El(e,n,a,l)}function El(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(e))Og(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,_))return Fo(e,n,h,0),Wt===null&&Ho(),!1}catch{}finally{}if(a=eh(e,n,h,l),a!==null)return mn(a,e,l),Mg(a,n,l),!0}return!1}function Ph(e,n,a,l){if(l={lane:2,revertLane:gf(),action:l,hasEagerState:!1,eagerState:null,next:null},lu(e)){if(n)throw Error(s(479))}else n=eh(e,a,l,2),n!==null&&mn(n,e,2)}function lu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Og(e,n){es=eu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Mg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,js(e,a)}}var ou={readContext:Fe,use:iu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Ng={readContext:Fe,use:iu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:pg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,su(4194308,4,Eg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return su(4194308,4,e,n)},useInsertionEffect:function(e,n){su(4,2,e,n)},useMemo:function(e,n){var a=We();n=n===void 0?null:n;var l=e();if(dr){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=We();if(a!==void 0){var h=a(n);if(dr){sn(!0);try{a(n)}finally{sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=UE.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=Vh(e);var n=e.queue,a=Vg.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Mh,useDeferredValue:function(e,n){var a=We();return Nh(a,e,n)},useTransition:function(){var e=Vh(!1);return e=wg.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=St,h=We();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(xt&124)!==0||tg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,pg(ng.bind(null,l,f,e),[e]),l.flags|=2048,is(9,ru(),eg.bind(null,l,f,a,n),null),a},useId:function(){var e=We(),n=Wt.identifierPrefix;if(Bt){var a=Ri,l=wi;a=(l&~(1<<32-He(l)-1)).toString(32)+a,n=""+n+"R"+a,a=nu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=IE++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Uh,useFormState:hg,useActionState:hg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ph.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ch,useCacheRefresh:function(){return We().memoizedState=xE.bind(null,St)}},xg={readContext:Fe,use:iu,useCallback:Ag,useContext:Fe,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:au,useRef:gg,useState:function(){return au(Ii)},useDebugValue:Mh,useDeferredValue:function(e,n){var a=ye();return bg(a,Kt.memoizedState,e,n)},useTransition:function(){var e=au(Ii)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:Wm,useId:Dg,useHostTransitionStatus:Uh,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var a=ye();return rg(a,Kt,e,n)},useMemoCache:Ch,useCacheRefresh:Ig},PE={readContext:Fe,use:iu,useCallback:Ag,useContext:Fe,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:Ih,useRef:gg,useState:function(){return Ih(Ii)},useDebugValue:Mh,useDeferredValue:function(e,n){var a=ye();return Kt===null?Nh(a,e,n):bg(a,Kt.memoizedState,e,n)},useTransition:function(){var e=Ih(Ii)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:_l(e),n]},useSyncExternalStore:Wm,useId:Dg,useHostTransitionStatus:Uh,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var a=ye();return Kt!==null?rg(a,Kt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Ig},as=null,Tl=0;function uu(e){var n=Tl;return Tl+=1,as===null&&(as=[]),Gm(as,e,n)}function Al(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function cu(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ug(e){var n=e._init;return n(e._payload)}function Pg(e){function n(U,O){if(e){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=bi(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,G){return O===null||O.tag!==6?(O=ih(L,U.mode,G),O.return=U,O):(O=h(O,L),O.return=U,O)}function w(U,O,L,G){var at=L.type;return at===Z?F(U,O,L.props.children,G,L.key):O!==null&&(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Ug(at)===O.type)?(O=h(O,L.props),Al(O,L),O.return=U,O):(O=Qo(L.type,L.key,L.props,null,U.mode,G),Al(O,L),O.return=U,O)}function z(U,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=ah(L,U.mode,G),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function F(U,O,L,G,at){return O===null||O.tag!==7?(O=rr(L,U.mode,G,at),O.return=U,O):(O=h(O,L),O.return=U,O)}function Q(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ih(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return L=Qo(O.type,O.key,O.props,null,U.mode,L),Al(L,O),L.return=U,L;case q:return O=ah(O,U.mode,L),O.return=U,O;case b:var G=O._init;return O=G(O._payload),Q(U,O,L)}if(Qt(O)||x(O))return O=rr(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return Q(U,uu(O),L);if(O.$$typeof===lt)return Q(U,Zo(U,O),L);cu(U,O)}return null}function k(U,O,L,G){var at=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(U,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case V:return L.key===at?w(U,O,L,G):null;case q:return L.key===at?z(U,O,L,G):null;case b:return at=L._init,L=at(L._payload),k(U,O,L,G)}if(Qt(L)||x(L))return at!==null?null:F(U,O,L,G,null);if(typeof L.then=="function")return k(U,O,uu(L),G);if(L.$$typeof===lt)return k(U,O,Zo(U,L),G);cu(U,L)}return null}function B(U,O,L,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(O,U,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case V:return U=U.get(G.key===null?L:G.key)||null,w(O,U,G,at);case q:return U=U.get(G.key===null?L:G.key)||null,z(O,U,G,at);case b:var Ct=G._init;return G=Ct(G._payload),B(U,O,L,G,at)}if(Qt(G)||x(G))return U=U.get(L)||null,F(O,U,G,at,null);if(typeof G.then=="function")return B(U,O,L,uu(G),at);if(G.$$typeof===lt)return B(U,O,L,Zo(O,G),at);cu(O,G)}return null}function yt(U,O,L,G){for(var at=null,Ct=null,ot=O,mt=O=0,Ne=null;ot!==null&&mt<L.length;mt++){ot.index>mt?(Ne=ot,ot=null):Ne=ot.sibling;var zt=k(U,ot,L[mt],G);if(zt===null){ot===null&&(ot=Ne);break}e&&ot&&zt.alternate===null&&n(U,ot),O=f(zt,O,mt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt,ot=Ne}if(mt===L.length)return a(U,ot),Bt&&lr(U,mt),at;if(ot===null){for(;mt<L.length;mt++)ot=Q(U,L[mt],G),ot!==null&&(O=f(ot,O,mt),Ct===null?at=ot:Ct.sibling=ot,Ct=ot);return Bt&&lr(U,mt),at}for(ot=l(ot);mt<L.length;mt++)Ne=B(ot,U,mt,L[mt],G),Ne!==null&&(e&&Ne.alternate!==null&&ot.delete(Ne.key===null?mt:Ne.key),O=f(Ne,O,mt),Ct===null?at=Ne:Ct.sibling=Ne,Ct=Ne);return e&&ot.forEach(function(ga){return n(U,ga)}),Bt&&lr(U,mt),at}function dt(U,O,L,G){if(L==null)throw Error(s(151));for(var at=null,Ct=null,ot=O,mt=O=0,Ne=null,zt=L.next();ot!==null&&!zt.done;mt++,zt=L.next()){ot.index>mt?(Ne=ot,ot=null):Ne=ot.sibling;var ga=k(U,ot,zt.value,G);if(ga===null){ot===null&&(ot=Ne);break}e&&ot&&ga.alternate===null&&n(U,ot),O=f(ga,O,mt),Ct===null?at=ga:Ct.sibling=ga,Ct=ga,ot=Ne}if(zt.done)return a(U,ot),Bt&&lr(U,mt),at;if(ot===null){for(;!zt.done;mt++,zt=L.next())zt=Q(U,zt.value,G),zt!==null&&(O=f(zt,O,mt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return Bt&&lr(U,mt),at}for(ot=l(ot);!zt.done;mt++,zt=L.next())zt=B(ot,U,mt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?mt:zt.key),O=f(zt,O,mt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return e&&ot.forEach(function(LT){return n(U,LT)}),Bt&&lr(U,mt),at}function Zt(U,O,L,G){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case V:t:{for(var at=L.key;O!==null;){if(O.key===at){if(at=L.type,at===Z){if(O.tag===7){a(U,O.sibling),G=h(O,L.props.children),G.return=U,U=G;break t}}else if(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Ug(at)===O.type){a(U,O.sibling),G=h(O,L.props),Al(G,L),G.return=U,U=G;break t}a(U,O);break}else n(U,O);O=O.sibling}L.type===Z?(G=rr(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Qo(L.type,L.key,L.props,null,U.mode,G),Al(G,L),G.return=U,U=G)}return _(U);case q:t:{for(at=L.key;O!==null;){if(O.key===at)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(U,O.sibling),G=h(O,L.children||[]),G.return=U,U=G;break t}else{a(U,O);break}else n(U,O);O=O.sibling}G=ah(L,U.mode,G),G.return=U,U=G}return _(U);case b:return at=L._init,L=at(L._payload),Zt(U,O,L,G)}if(Qt(L))return yt(U,O,L,G);if(x(L)){if(at=x(L),typeof at!="function")throw Error(s(150));return L=at.call(L),dt(U,O,L,G)}if(typeof L.then=="function")return Zt(U,O,uu(L),G);if(L.$$typeof===lt)return Zt(U,O,Zo(U,L),G);cu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(U,O.sibling),G=h(O,L),G.return=U,U=G):(a(U,O),G=ih(L,U.mode,G),G.return=U,U=G),_(U)):a(U,O)}return function(U,O,L,G){try{Tl=0;var at=Zt(U,O,L,G);return as=null,at}catch(ot){if(ot===fl||ot===Jo)throw ot;var Ct=un(29,ot,null,U.mode);return Ct.lanes=G,Ct.return=U,Ct}finally{}}}var rs=Pg(!0),Lg=Pg(!1),Dn=K(null),Jn=null;function ta(e){var n=e.alternate;J(be,be.current&1),J(Dn,e),Jn===null&&(n===null||ts.current!==null||n.memoizedState!==null)&&(Jn=e)}function zg(e){if(e.tag===22){if(J(be,be.current),J(Dn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else ea()}function ea(){J(be,be.current),J(Dn,Dn.current)}function Vi(e){nt(Dn),Jn===e&&(Jn=null),nt(be)}var be=K(0);function hu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Lh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=dn(),h=$i(l);h.payload=n,a!=null&&(h.callback=a),n=Ji(e,h,l),n!==null&&(mn(n,e,l),ml(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=dn(),h=$i(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ji(e,h,l),n!==null&&(mn(n,e,l),ml(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=dn(),l=$i(a);l.tag=2,n!=null&&(l.callback=n),n=Ji(e,l,a),n!==null&&(mn(n,e,a),ml(n,e,a))}};function kg(e,n,a,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!al(a,l)||!al(h,f):!0}function Bg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&zh.enqueueReplaceState(n,n.state,null)}function mr(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qg(e){fu(e)}function jg(e){console.error(e)}function Hg(e){fu(e)}function du(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kh(e,n,a){return a=$i(a),a.tag=3,a.payload={element:null},a.callback=function(){du(e,n)},a}function Gg(e){return e=$i(e),e.tag=3,e}function Qg(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Fg(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Fg(n,a,l),typeof h!="function"&&(la===null?la=new Set([this]):la.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function LE(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ul(n,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return Jn===null?cf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ff(e,l,h)),!1;case 22:return a.flags|=65536,l===mh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ff(e,l,h)),!1}throw Error(s(435,a.tag))}return ff(e,l,h),cf(),!1}if(Bt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==lh&&(e=Error(s(422),{cause:l}),ol(bn(e,a)))):(l!==lh&&(n=Error(s(423),{cause:l}),ol(bn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,a),h=kh(e.stateNode,l,h),yh(e,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Il===null?Il=[f]:Il.push(f),oe!==4&&(oe=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kh(a.stateNode,l,e),yh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(la===null||!la.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gg(h),Qg(h,e,a,l),yh(a,h),!1}a=a.return}while(a!==null);return!1}var Yg=Error(s(461)),Oe=!1;function Le(e,n,a,l){n.child=e===null?Lg(n,null,a,l):rs(n,e.child,a,l)}function Kg(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return hr(n),l=Ah(e,n,a,_,f,h),E=Sh(),e!==null&&!Oe?(bh(e,n,h),Oi(e,n,h)):(Bt&&E&&rh(n),n.flags|=1,Le(e,n,l,h),n.child)}function Xg(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zg(e,n,f,l,h)):(e=Qo(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yh(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&e.ref===n.ref)return Oi(e,n,h)}return n.flags|=1,e=bi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Zg(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(al(f,l)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Yh(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Oi(e,n,h)}return Bh(e,n,a,l,h)}function $g(e,n,a){var l=n.pendingProps,h=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Jg(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$o(n,f!==null?f.cachePool:null),f!==null?Zm(n,f):vh(),zg(n);else return n.lanes=n.childLanes=536870912,Jg(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?($o(n,f.cachePool),Zm(n,f),ea(),n.memoizedState=null):(e!==null&&$o(n,null),vh(),ea());return Le(e,n,h,a),n.child}function Jg(e,n,a,l){var h=dh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&$o(n,null),vh(),zg(n),e!==null&&ul(e,n,l,!0),null}function mu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Bh(e,n,a,l,h){return hr(n),a=Ah(e,n,a,l,void 0,h),l=Sh(),e!==null&&!Oe?(bh(e,n,h),Oi(e,n,h)):(Bt&&l&&rh(n),n.flags|=1,Le(e,n,a,h),n.child)}function Wg(e,n,a,l,h,f){return hr(n),n.updateQueue=null,a=Jm(n,l,a,h),$m(e),l=Sh(),e!==null&&!Oe?(bh(e,n,f),Oi(e,n,f)):(Bt&&l&&rh(n),n.flags|=1,Le(e,n,a,f),n.child)}function tp(e,n,a,l,h){if(hr(n),n.stateNode===null){var f=Xr,_=a.contextType;typeof _=="object"&&_!==null&&(f=Fe(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Fe(_):Xr,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lh(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&zh.enqueueReplaceState(f,f.state,null),pl(n,l,f,h),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=mr(a,E);f.props=w;var z=f.context,F=a.contextType;_=Xr,typeof F=="object"&&F!==null&&(_=Fe(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==_)&&Bg(n,f,l,_),Zi=!1;var k=n.memoizedState;f.state=k,pl(n,l,f,h),gl(),z=n.memoizedState,E||k!==z||Zi?(typeof Q=="function"&&(Lh(n,a,Q,l),z=n.memoizedState),(w=Zi||kg(n,a,w,l,k,z,_))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=_,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(e,n),_=n.memoizedProps,F=mr(a,_),f.props=F,Q=n.pendingProps,k=f.context,z=a.contextType,w=Xr,typeof z=="object"&&z!==null&&(w=Fe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||k!==w)&&Bg(n,f,l,w),Zi=!1,k=n.memoizedState,f.state=k,pl(n,l,f,h),gl();var B=n.memoizedState;_!==Q||k!==B||Zi||e!==null&&e.dependencies!==null&&Xo(e.dependencies)?(typeof E=="function"&&(Lh(n,a,E,l),B=n.memoizedState),(F=Zi||kg(n,a,F,l,k,B,w)||e!==null&&e.dependencies!==null&&Xo(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=w,l=F):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=rs(n,e.child,null,h),n.child=rs(n,null,a,h)):Le(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Oi(e,n,h),e}function ep(e,n,a,l){return ll(),n.flags|=256,Le(e,n,a,l),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(e){return{baseLanes:e,cachePool:jm()}}function Hh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=In),e}function np(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?ta(n):ea(),Bt){var E=le,w;if(w=E){t:{for(w=E,E=$n;w.nodeType!==8;){if(!E){E=null;break t}if(w=Ln(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:sr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},w=un(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Je=n,le=null,w=!0):w=!1}w||ur(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Cf(E)?n.lanes=32:n.lanes=536870912,null;Vi(n)}return E=l.children,l=l.fallback,h?(ea(),h=n.mode,E=gu({mode:"hidden",children:E},h),l=rr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=jh(a),h.childLanes=Hh(e,_,a),n.memoizedState=qh,l):(ta(n),Fh(n,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ta(n),n.flags&=-257,n=Gh(e,n,a)):n.memoizedState!==null?(ea(),n.child=e.child,n.flags|=128,n=null):(ea(),h=l.fallback,E=n.mode,l=gu({mode:"visible",children:l.children},E),h=rr(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,rs(n,e.child,null,a),l=n.child,l.memoizedState=jh(a),l.childLanes=Hh(e,_,a),n.memoizedState=qh,n=h);else if(ta(n),Cf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),n=Gh(e,n,a)}else if(Oe||ul(e,n,a,!1),_=(a&e.childLanes)!==0,Oe||_){if(_=Wt,_!==null&&(l=a&-a,l=(l&42)!==0?1:ji(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Kr(e,l),mn(_,e,l),Yg;E.data==="$?"||cf(),n=Gh(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,le=Ln(E.nextSibling),Je=n,Bt=!0,or=null,$n=!1,e!==null&&(Rn[Cn++]=wi,Rn[Cn++]=Ri,Rn[Cn++]=sr,wi=e.id,Ri=e.overflow,sr=n),n=Fh(n,l.children),n.flags|=4096);return n}return h?(ea(),h=l.fallback,E=n.mode,w=e.child,z=w.sibling,l=bi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=bi(z,h):(h=rr(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=e.child.memoizedState,E===null?E=jh(a):(w=E.cachePool,w!==null?(z=Se._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=jm(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=Hh(e,_,a),n.memoizedState=qh,l):(ta(n),a=e.child,e=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function Fh(e,n){return n=gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function gu(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gh(e,n,a){return rs(n,e.child,null,a),e=Fh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ip(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),uh(e.return,n,a)}function Qh(e,n,a,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function ap(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(e,n,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,a,n);else if(e.tag===19)ip(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(J(be,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qh(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&hu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qh(n,!0,a,null,f);break;case"together":Qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),sa|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ul(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=bi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=bi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Yh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Xo(e)))}function zE(e,n,a){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Xi(n,Se,e.memoizedState.cache),ll();break;case 27:case 5:qi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Xi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ta(n),n.flags|=128,null):(a&n.child.childLanes)!==0?np(e,n,a):(ta(n),e=Oi(e,n,a),e!==null?e.sibling:null);ta(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ul(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ap(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,$g(e,n,a);case 24:Xi(n,Se,e.memoizedState.cache)}return Oi(e,n,a)}function rp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Yh(e,a)&&(n.flags&128)===0)return Oe=!1,zE(e,n,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(n.flags&1048576)!==0&&Um(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")nh(l)?(e=mr(l,e),n.tag=1,n=tp(null,n,l,e,a)):(n.tag=0,n=Bh(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Ot){n.tag=11,n=Kg(null,n,l,e,a);break t}else if(h===N){n.tag=14,n=Xg(null,n,l,e,a);break t}}throw n=wt(l)||l,Error(s(306,n,""))}}return n;case 0:return Bh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=mr(l,n.pendingProps),tp(e,n,l,h,a);case 3:t:{if(Jt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ph(e,n),pl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Xi(n,Se,l),l!==f.cache&&ch(n,[Se],a,!0),gl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ep(e,n,l,a);break t}else if(l!==h){h=bn(Error(s(424)),n),ol(h),n=ep(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Ln(e.firstChild),Je=n,Bt=!0,or=null,$n=!0,a=Lg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){n=Oi(e,n,a);break t}Le(e,n,l,a)}n=n.child}return n;case 26:return mu(e,n),e===null?(a=uy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,l=Iu(_t.current).createElement(a),l[Ee]=n,l[me]=e,ke(l,a,e),ce(l),n.stateNode=l):n.memoizedState=uy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qi(n),e===null&&Bt&&(l=n.stateNode=sy(n.type,n.pendingProps,_t.current),Je=n,$n=!0,h=le,ca(n.type)?(Df=h,le=Ln(l.firstChild)):le=h),Le(e,n,n.pendingProps.children,a),mu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=l=le)&&(l=fT(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Je=n,le=Ln(l.firstChild),$n=!1,h=!0):h=!1),h||ur(n)),qi(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,bf(h,f)?l=null:_!==null&&bf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Ah(e,n,VE,null,null,a),zl._currentValue=h),mu(e,n),Le(e,n,l,a),n.child;case 6:return e===null&&Bt&&((e=a=le)&&(a=dT(a,n.pendingProps,$n),a!==null?(n.stateNode=a,Je=n,le=null,e=!0):e=!1),e||ur(n)),null;case 13:return np(e,n,a);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=rs(n,null,l,a):Le(e,n,l,a),n.child;case 11:return Kg(e,n,n.type,n.pendingProps,a);case 7:return Le(e,n,n.pendingProps,a),n.child;case 8:return Le(e,n,n.pendingProps.children,a),n.child;case 12:return Le(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Xi(n,n.type,l.value),Le(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,hr(n),h=Fe(h),l=l(h),n.flags|=1,Le(e,n,l,a),n.child;case 14:return Xg(e,n,n.type,n.pendingProps,a);case 15:return Zg(e,n,n.type,n.pendingProps,a);case 19:return ap(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=gu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bi(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return $g(e,n,a);case 24:return hr(n),l=Fe(Se),e===null?(h=dh(),h===null&&(h=Wt,f=hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},gh(n),Xi(n,Se,h)):((e.lanes&a)!==0&&(ph(e,n),pl(n,null,null,a),gl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xi(n,Se,l)):(l=f.cache,Xi(n,Se,l),l!==h.cache&&ch(n,[Se],a,!0))),Le(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Mi(e){e.flags|=4}function sp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!my(n)){if(n=Dn.current,n!==null&&((xt&4194048)===xt?Jn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Jn))throw dl=mh,Hm;e.flags|=8192}}function pu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bs():536870912,e.lanes|=n,us|=n)}function Sl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function kE(e,n,a){var l=n.pendingProps;switch(sh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Se),kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(sl(n)?Mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zm())),ae(n),null;case 26:return a=n.memoizedState,e===null?(Mi(n),a!==null?(ae(n),sp(n,a)):(ae(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mi(n),ae(n),sp(n,a)):(ae(n),n.flags&=-16777217):(e.memoizedProps!==l&&Mi(n),ae(n),n.flags&=-16777217),null;case 27:hi(n),a=_t.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}e=ht.current,sl(n)?Pm(n):(e=sy(h,l,a),n.stateNode=e,Mi(n))}return ae(n),null;case 5:if(hi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(e=ht.current,sl(n))Pm(n);else{switch(h=Iu(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ee]=n,e[me]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mi(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=_t.current,sl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wp(e.nodeValue,a)),e||ur(n)}else e=Iu(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ae(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=sl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=zm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vi(n),n):(Vi(n),null)}if(Vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),pu(n,n.updateQueue),ae(n),null;case 4:return kn(),e===null&&vf(n.stateNode.containerInfo),ae(n),null;case 10:return Di(n.type),ae(n),null;case 19:if(nt(be),h=n.memoizedState,h===null)return ae(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Sl(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=hu(e),f!==null){for(n.flags|=128,Sl(h,!1),e=f.updateQueue,n.updateQueue=e,pu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)xm(a,e),a=a.sibling;return J(be,be.current&1|2),n.child}e=e.sibling}h.tail!==null&&_n()>vu&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304)}else{if(!l)if(e=hu(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,pu(n,e),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ae(n),null}else 2*_n()-h.renderingStartTime>vu&&a!==536870912&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=_n(),n.sibling=null,e=be.current,J(be,l?e&1|2:e&1),n):(ae(n),null);case 22:case 23:return Vi(n),Eh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&pu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&nt(fr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Se),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function BE(e,n){switch(sh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(Se),kn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(Vi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ll()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(be),null;case 4:return kn(),null;case 10:return Di(n.type),null;case 22:case 23:return Vi(n),Eh(),e!==null&&nt(fr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(Se),null;case 25:return null;default:return null}}function lp(e,n){switch(sh(n),n.tag){case 3:Di(Se),kn();break;case 26:case 27:case 5:hi(n);break;case 4:kn();break;case 13:Vi(n);break;case 19:nt(be);break;case 10:Di(n.type);break;case 22:case 23:Vi(n),Eh(),e!==null&&nt(fr);break;case 24:Di(Se)}}function bl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){$t(n,n.return,E)}}function na(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var w=a,z=E;try{z()}catch(F){$t(h,w,F)}}}l=l.next}while(l!==f)}}catch(F){$t(n,n.return,F)}}function op(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Xm(n,a)}catch(l){$t(e,e.return,l)}}}function up(e,n,a){a.props=mr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,n,l)}}function wl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,n,h)}}function Wn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function cp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Kh(e,n,a){try{var l=e.stateNode;lT(l,e.type,a,n),l[me]=n}catch(h){$t(e,e.return,h)}}function hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ca(e.type)||e.tag===4}function Xh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&(l===27&&ca(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Zh(e,n,a),e=e.sibling;e!==null;)Zh(e,n,a),e=e.sibling}function yu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ca(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yu(e,n,a),e=e.sibling;e!==null;)yu(e,n,a),e=e.sibling}function fp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ke(n,l,a),n[Ee]=e,n[me]=a}catch(f){$t(e,e.return,f)}}var Ni=!1,fe=!1,$h=!1,dp=typeof WeakSet=="function"?WeakSet:Set,Me=null;function qE(e,n){if(e=e.containerInfo,Af=Uu,e=bm(e),Xc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,w=-1,z=0,F=0,Q=e,k=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(E=_+h),Q!==f||l!==0&&Q.nodeType!==3||(w=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===e)break e;if(k===a&&++z===h&&(E=_),k===f&&++F===l&&(w=_),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sf={focusedElem:e,selectionRange:a},Uu=!1,Me=n;Me!==null;)if(n=Me,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Me=e;else for(;Me!==null;){switch(n=Me,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var yt=mr(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){$t(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Rf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Me=e;break}Me=n.return}}function mp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ia(e,a),l&4&&bl(5,a);break;case 1:if(ia(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=mr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&op(a),l&512&&wl(a,a.return);break;case 3:if(ia(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Xm(e,n)}catch(_){$t(a,a.return,_)}}break;case 27:n===null&&l&4&&fp(a);case 26:case 5:ia(e,a),n===null&&l&4&&cp(a),l&512&&wl(a,a.return);break;case 12:ia(e,a);break;case 13:ia(e,a),l&4&&yp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ZE.bind(null,a),mT(e,a))));break;case 22:if(l=a.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||fe,h=Ni;var f=fe;Ni=l,(fe=n)&&!f?aa(e,a,(a.subtreeFlags&8772)!==0):ia(e,a),Ni=h,fe=f}break;case 30:break;default:ia(e,a)}}function gp(e){var n=e.alternate;n!==null&&(e.alternate=null,gp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,tn=!1;function xi(e,n,a){for(a=a.child;a!==null;)pp(e,n,a),a=a.sibling}function pp(e,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:fe||Wn(a,n),xi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||Wn(a,n);var l=ie,h=tn;ca(a.type)&&(ie=a.stateNode,tn=!1),xi(e,n,a),xl(a.stateNode),ie=l,tn=h;break;case 5:fe||Wn(a,n);case 6:if(l=ie,h=tn,ie=null,xi(e,n,a),ie=l,tn=h,ie!==null)if(tn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ie.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ie!==null&&(tn?(e=ie,ay(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),jl(e)):ay(ie,a.stateNode));break;case 4:l=ie,h=tn,ie=a.stateNode.containerInfo,tn=!0,xi(e,n,a),ie=l,tn=h;break;case 0:case 11:case 14:case 15:fe||na(2,a,n),fe||na(4,a,n),xi(e,n,a);break;case 1:fe||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&up(a,n,l)),xi(e,n,a);break;case 21:xi(e,n,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,xi(e,n,a),fe=l;break;default:xi(e,n,a)}}function yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(a){$t(n,n.return,a)}}function jE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dp),n;default:throw Error(s(435,e.tag))}}function Jh(e,n){var a=jE(e);n.forEach(function(l){var h=$E.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function cn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(ca(E.type)){ie=E.stateNode,tn=!1;break t}break;case 5:ie=E.stateNode,tn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));pp(f,_,h),ie=null,tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)_p(n,e),n=n.sibling}var Pn=null;function _p(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),l&4&&(na(3,e,e.return),bl(3,e),na(5,e,e.return));break;case 1:cn(n,e),hn(e),l&512&&(fe||a===null||Wn(a,a.return)),l&64&&Ni&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(cn(n,e),hn(e),l&512&&(fe||a===null||Wn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ha]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,l,a),f[Ee]=e,ce(f),l=f;break t;case"link":var _=fy("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;case"meta":if(_=fy("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=e,ce(f),l=f}e.stateNode=l}else dy(h,e.type,e.stateNode);else e.stateNode=hy(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?dy(h,e.type,e.stateNode):hy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kh(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),hn(e),l&512&&(fe||a===null||Wn(a,a.return)),a!==null&&l&4&&Kh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),hn(e),l&512&&(fe||a===null||Wn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(B){$t(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Kh(e,h,a!==null?a.memoizedProps:h)),l&1024&&($h=!0);break;case 6:if(cn(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){$t(e,e.return,B)}}break;case 3:if(Mu=null,h=Pn,Pn=Vu(n.containerInfo),cn(n,e),Pn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){$t(e,e.return,B)}$h&&($h=!1,vp(e));break;case 4:l=Pn,Pn=Vu(e.stateNode.containerInfo),cn(n,e),hn(e),Pn=l;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rf=_n()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jh(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Ni,F=fe;if(Ni=z||h,fe=F||w,cn(n,e),fe=F,Ni=z,hn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Ni||fe||gr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){$t(w,w.return,B)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(B){$t(w,w.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jh(e,a))));break;case 19:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jh(e,l)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(hp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Xh(e);yu(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var E=Xh(e);yu(e,E,_);break;case 3:case 4:var w=a.stateNode.containerInfo,z=Xh(e);Zh(e,z,w);break;default:throw Error(s(161))}}catch(F){$t(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ia(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)mp(e,n.alternate,n),n=n.sibling}function gr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:na(4,n,n.return),gr(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&up(n,n.return,a),gr(n);break;case 27:xl(n.stateNode);case 26:case 5:Wn(n,n.return),gr(n);break;case 22:n.memoizedState===null&&gr(n);break;case 30:gr(n);break;default:gr(n)}e=e.sibling}}function aa(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:aa(h,f,a),bl(4,f);break;case 1:if(aa(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Km(w[h],E)}catch(z){$t(l,l.return,z)}}a&&_&64&&op(f),wl(f,f.return);break;case 27:fp(f);case 26:case 5:aa(h,f,a),a&&l===null&&_&4&&cp(f),wl(f,f.return);break;case 12:aa(h,f,a);break;case 13:aa(h,f,a),a&&_&4&&yp(h,f);break;case 22:f.memoizedState===null&&aa(h,f,a),wl(f,f.return);break;case 30:break;default:aa(h,f,a)}n=n.sibling}}function Wh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e))}function ti(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ep(e,n,a,l),n=n.sibling}function Ep(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,a,l),h&2048&&bl(9,n);break;case 1:ti(e,n,a,l);break;case 3:ti(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&cl(e)));break;case 12:if(h&2048){ti(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else ti(e,n,a,l);break;case 13:ti(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,a,l):Rl(e,n):f._visibility&2?ti(e,n,a,l):(f._visibility|=2,ss(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&Wh(_,n);break;case 24:ti(e,n,a,l),h&2048&&tf(n.alternate,n);break;default:ti(e,n,a,l)}}function ss(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=a,w=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ss(f,_,E,w,h),bl(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?ss(f,_,E,w,h):Rl(f,_):(F._visibility|=2,ss(f,_,E,w,h)),h&&z&2048&&Wh(_.alternate,_);break;case 24:ss(f,_,E,w,h),h&&z&2048&&tf(_.alternate,_);break;default:ss(f,_,E,w,h)}n=n.sibling}}function Rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&Wh(l.alternate,l);break;case 24:Rl(a,l),h&2048&&tf(l.alternate,l);break;default:Rl(a,l)}n=n.sibling}}var Cl=8192;function ls(e){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)Tp(e),e=e.sibling}function Tp(e){switch(e.tag){case 26:ls(e),e.flags&Cl&&e.memoizedState!==null&&CT(Pn,e.memoizedState,e.memoizedProps);break;case 5:ls(e);break;case 3:case 4:var n=Pn;Pn=Vu(e.stateNode.containerInfo),ls(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,ls(e),Cl=n):ls(e));break;default:ls(e)}}function Ap(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,bp(l,e)}Ap(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sp(e),e=e.sibling}function Sp(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&na(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_u(e)):Dl(e);break;default:Dl(e)}}function _u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,bp(l,e)}Ap(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:na(8,n,n.return),_u(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,_u(n));break;default:_u(n)}e=e.sibling}}function bp(e,n){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:na(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,f=l.return;if(gp(l),l===a){Me=null;break t}if(h!==null){h.return=f,Me=h;break t}Me=f}}}var HE={getCacheForType:function(e){var n=Fe(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},FE=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Dt=null,xt=0,Gt=0,fn=null,ra=!1,os=!1,ef=!1,Ui=0,oe=0,sa=0,pr=0,nf=0,In=0,us=0,Il=null,en=null,af=!1,rf=0,vu=1/0,Eu=null,la=null,ze=0,oa=null,cs=null,hs=0,sf=0,lf=null,wp=null,Vl=0,of=null;function dn(){if((Ft&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var e=Jr;return e!==0?e:gf()}return Hi()}function Rp(){In===0&&(In=(xt&536870912)===0||Bt?ks():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),In}function mn(e,n,a){(e===Wt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(fs(e,0),ua(e,xt,In,!1)),di(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(pr|=a),oe===4&&ua(e,xt,In,!1)),ei(e))}function Cp(e,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ja(e,n),h=l?YE(e,n):hf(e,n,!0),f=l;do{if(h===0){os&&!l&&ua(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!GE(a)){h=hf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=Il;var w=E.current.memoizedState.isDehydrated;if(w&&(fs(E,_).flags|=256),_=hf(E,_,!1),_!==2){if(ef&&!w){E.errorRecoveryDisabledLanes|=f,pr|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){fs(e,0),ua(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ua(l,n,In,!ra);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=rf+300-_n(),10<h)){if(ua(l,n,In,!ra),Ir(l,0,!0)!==0)break t;l.timeoutHandle=ny(Dp.bind(null,l,a,en,Eu,af,n,In,pr,us,ra,f,2,-0,0),h);break t}Dp(l,a,en,Eu,af,n,In,pr,us,ra,f,0,-0,0)}}break}while(!0);ei(e)}function Dp(e,n,a,l,h,f,_,E,w,z,F,Q,k,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:RT},Tp(n),Q=DT(),Q!==null)){e.cancelPendingCommit=Q(Up.bind(null,e,n,f,a,l,h,_,E,w,F,1,k,B)),ua(e,f,_,!z);return}Up(e,n,f,a,l,h,_,E,w)}function GE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ua(e,n,a,l){n&=~nf,n&=~pr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-He(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Bn(e,a,n)}function Tu(){return(Ft&6)===0?(Ol(0),!1):!0}function uf(){if(Dt!==null){if(Gt===0)var e=Dt.return;else e=Dt,Ci=cr=null,wh(e),as=null,Tl=0,e=Dt;for(;e!==null;)lp(e.alternate,e),e=e.return;Dt=null}}function fs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,uT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),uf(),Wt=e,Dt=a=bi(e.current,null),xt=n,Gt=0,fn=null,ra=!1,os=ja(e,n),ef=!1,us=In=nf=pr=sa=oe=0,en=Il=null,af=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-He(l),f=1<<h;n|=e[h],l&=~f}return Ui=n,Ho(),a}function Ip(e,n){St=null,H.H=ou,n===fl||n===Jo?(n=Qm(),Gt=3):n===Hm?(n=Qm(),Gt=4):Gt=n===Yg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Dt===null&&(oe=1,du(e,bn(n,e.current)))}function Vp(){var e=H.H;return H.H=ou,e===null?ou:e}function Op(){var e=H.A;return H.A=HE,e}function cf(){oe=4,ra||(xt&4194048)!==xt&&Dn.current!==null||(os=!0),(sa&134217727)===0&&(pr&134217727)===0||Wt===null||ua(Wt,xt,In,!1)}function hf(e,n,a){var l=Ft;Ft|=2;var h=Vp(),f=Op();(Wt!==e||xt!==n)&&(Eu=null,fs(e,n)),n=!1;var _=oe;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,w=fn;switch(Gt){case 8:uf(),_=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var z=Gt;if(Gt=0,fn=null,ds(e,E,w,z),a&&os){_=0;break t}break;default:z=Gt,Gt=0,fn=null,ds(e,E,w,z)}}QE(),_=oe;break}catch(F){Ip(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ci=cr=null,Ft=l,H.H=h,H.A=f,Dt===null&&(Wt=null,xt=0,Ho()),_}function QE(){for(;Dt!==null;)Mp(Dt)}function YE(e,n){var a=Ft;Ft|=2;var l=Vp(),h=Op();Wt!==e||xt!==n?(Eu=null,vu=_n()+500,fs(e,n)):os=ja(e,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=fn;e:switch(Gt){case 1:Gt=0,fn=null,ds(e,n,f,1);break;case 2:case 9:if(Fm(f)){Gt=0,fn=null,Np(n);break}n=function(){Gt!==2&&Gt!==9||Wt!==e||(Gt=7),ei(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Fm(f)?(Gt=0,fn=null,Np(n)):(Gt=0,fn=null,ds(e,n,f,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var E=Dt;if(!_||my(_)){Gt=0,fn=null;var w=E.sibling;if(w!==null)Dt=w;else{var z=E.return;z!==null?(Dt=z,Au(z)):Dt=null}break e}}Gt=0,fn=null,ds(e,n,f,5);break;case 6:Gt=0,fn=null,ds(e,n,f,6);break;case 8:uf(),oe=6;break t;default:throw Error(s(462))}}KE();break}catch(F){Ip(e,F)}while(!0);return Ci=cr=null,H.H=l,H.A=h,Ft=a,Dt!==null?0:(Wt=null,xt=0,Ho(),oe)}function KE(){for(;Dt!==null&&!Us();)Mp(Dt)}function Mp(e){var n=rp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?Au(e):Dt=n}function Np(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Wg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Wg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:wh(n);default:lp(a,n),n=Dt=xm(n,Ui),n=rp(a,n,Ui)}e.memoizedProps=e.pendingProps,n===null?Au(e):Dt=n}function ds(e,n,a,l){Ci=cr=null,wh(n),as=null,Tl=0;var h=n.return;try{if(LE(e,h,n,a,xt)){oe=1,du(e,bn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;oe=1,du(e,bn(a,e.current)),Dt=null;return}n.flags&32768?(Bt||l===1?e=!0:os||(xt&536870912)!==0?e=!1:(ra=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(n,e)):Au(n)}function Au(e){var n=e;do{if((n.flags&32768)!==0){xp(n,ra);return}e=n.return;var a=kE(n.alternate,n,Ui);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);oe===0&&(oe=5)}function xp(e,n){do{var a=BE(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);oe=6,Dt=null}function Up(e,n,a,l,h,f,_,E,w){e.cancelPendingCommit=null;do Su();while(ze!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=th,qs(e,a,f,_,E,w),e===Wt&&(Dt=Wt=null,xt=0),cs=n,oa=e,hs=a,sf=f,lf=h,wp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,JE(za,function(){return Bp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=et.p,et.p=2,_=Ft,Ft|=4;try{qE(e,n,a)}finally{Ft=_,et.p=h,H.T=l}}ze=1,Pp(),Lp(),zp()}}function Pp(){if(ze===1){ze=0;var e=oa,n=cs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var h=Ft;Ft|=4;try{_p(n,e);var f=Sf,_=bm(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Sm(E.ownerDocument.documentElement,E)){if(w!==null&&Xc(E)){var z=w.start,F=w.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),yt=E.textContent.length,dt=Math.min(w.start,yt),Zt=w.end===void 0?dt:Math.min(w.end,yt);!B.extend&&dt>Zt&&(_=Zt,Zt=dt,dt=_);var U=Am(E,dt),O=Am(E,Zt);if(U&&O&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=Q.createRange();L.setStart(U.node,U.offset),B.removeAllRanges(),dt>Zt?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Uu=!!Af,Sf=Af=null}finally{Ft=h,et.p=l,H.T=a}}e.current=n,ze=2}}function Lp(){if(ze===2){ze=0;var e=oa,n=cs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var h=Ft;Ft|=4;try{mp(e,n.alternate,n)}finally{Ft=h,et.p=l,H.T=a}}ze=3}}function zp(){if(ze===4||ze===3){ze=0,_o();var e=oa,n=cs,a=hs,l=wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,cs=oa=null,kp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(la=null),Vr(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(hs&3)!==0&&Su(),ei(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===of?Vl++:(Vl=0,of=e):Vl=0,Ol(0)}}function kp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,cl(n)))}function Su(e){return Pp(),Lp(),zp(),Bp()}function Bp(){if(ze!==5)return!1;var e=oa,n=sf;sf=0;var a=Vr(hs),l=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=lf,lf=null;var f=oa,_=hs;if(ze=0,cs=oa=null,hs=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,Sp(f.current),Ep(f,f.current,_,a),Ft=E,Ol(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=h,H.T=l,kp(e,n)}}function qp(e,n,a){n=bn(a,n),n=kh(e.stateNode,n,2),e=Ji(e,n,2),e!==null&&(di(e,2),ei(e))}function $t(e,n,a){if(e.tag===3)qp(e,e,a);else for(;n!==null;){if(n.tag===3){qp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){e=bn(a,e),a=Gg(2),l=Ji(n,a,2),l!==null&&(Qg(a,l,n,e),di(l,2),ei(l));break}}n=n.return}}function ff(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new FE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(ef=!0,h.add(a),e=XE.bind(null,e,n,a),n.then(e,e))}function XE(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(xt&a)===a&&(oe===4||oe===3&&(xt&62914560)===xt&&300>_n()-rf?(Ft&2)===0&&fs(e,0):nf|=a,us===xt&&(us=0)),ei(e)}function jp(e,n){n===0&&(n=Bs()),e=Kr(e,n),e!==null&&(di(e,n),ei(e))}function ZE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),jp(e,a)}function $E(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),jp(e,a)}function JE(e,n){return Pa(e,n)}var bu=null,ms=null,df=!1,wu=!1,mf=!1,yr=0;function ei(e){e!==ms&&e.next===null&&(ms===null?bu=ms=e:ms=ms.next=e),wu=!0,df||(df=!0,tT())}function Ol(e,n){if(!mf&&wu){mf=!0;do for(var a=!1,l=bu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qp(l,f))}else f=xt,f=Ir(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ja(l,f)||(a=!0,Qp(l,f));l=l.next}while(a);mf=!1}}function WE(){Hp()}function Hp(){wu=df=!1;var e=0;yr!==0&&(oT()&&(e=yr),yr=0);for(var n=_n(),a=null,l=bu;l!==null;){var h=l.next,f=Fp(l,n);f===0?(l.next=null,a===null?bu=h:a.next=h,h===null&&(ms=a)):(a=l,(e!==0||(f&3)!==0)&&(wu=!0)),l=h}Ol(e)}function Fp(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-He(f),E=1<<_,w=h[_];w===-1?((E&a)===0||(E&l)!==0)&&(h[_]=zs(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=xt,a=Ir(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&La(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ja(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&La(l),Vr(a)){case 2:case 8:a=Cr;break;case 32:a=za;break;case 268435456:a=Dr;break;default:a=za}return l=Gp.bind(null,e),a=Pa(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&La(l),e.callbackPriority=2,e.callbackNode=null,2}function Gp(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Su()&&e.callbackNode!==a)return null;var l=xt;return l=Ir(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cp(e,l,n),Fp(e,_n()),e.callbackNode!=null&&e.callbackNode===a?Gp.bind(null,e):null)}function Qp(e,n){if(Su())return null;Cp(e,n,!0)}function tT(){cT(function(){(Ft&6)!==0?Pa(Ps,WE):Hp()})}function gf(){return yr===0&&(yr=ks()),yr}function Yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pr(""+e)}function Kp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function eT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Yp((h[me]||null).action),_=l.submitter;_&&(n=(n=_[me]||null)?Yp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Lr("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var w=_?Kp(h,_):new FormData(h);xh(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=_?Kp(h,_):new FormData(h),xh(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var pf=0;pf<Wc.length;pf++){var yf=Wc[pf],nT=yf.toLowerCase(),iT=yf[0].toUpperCase()+yf.slice(1);Un(nT,"on"+iT)}Un(Cm,"onAnimationEnd"),Un(Dm,"onAnimationIteration"),Un(Im,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(EE,"onTransitionRun"),Un(TE,"onTransitionStart"),Un(AE,"onTransitionCancel"),Un(Vm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Xp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){fu(F)}h.currentTarget=null,f=w}else for(_=0;_<l.length;_++){if(E=l[_],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){fu(F)}h.currentTarget=null,f=w}}}}function It(e,n){var a=n[Hs];a===void 0&&(a=n[Hs]=new Set);var l=e+"__bubble";a.has(l)||(Zp(n,e,2,!1),a.add(l))}function _f(e,n,a){var l=0;n&&(l|=4),Zp(a,e,l,n)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[Ru]){e[Ru]=!0,Fs.forEach(function(a){a!=="selectionchange"&&(aT.has(a)||_f(a,!1,e),_f(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ru]||(n[Ru]=!0,_f("selectionchange",!1,n))}}function Zp(e,n,a,l){switch(Ey(n)){case 2:var h=OT;break;case 8:h=MT;break;default:h=Nf}a=h.bind(null,n,a,e),h=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ef(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=mi(E),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=f=_;continue t}E=E.parentNode}}l=l.return}Do(function(){var z=f,F=Tn(a),Q=[];t:{var k=Om.get(e);if(k!==void 0){var B=Lr,yt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":B=Hr;break;case"focusin":yt="focus",B=Br;break;case"focusout":yt="blur",B=Br;break;case"beforeblur":case"afterblur":B=Br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Po;break;case Cm:case Dm:case Im:B=qr;break;case Vm:B=zo;break;case"scroll":case"scrollend":B=Io;break;case"wheel":B=Fr;break;case"copy":case"cut":case"paste":B=jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=nl;break;case"toggle":case"beforetoggle":B=Bo}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),U=dt?k!==null?k+"Capture":null:k;dt=[];for(var O=z,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=Za(O,U),G!=null&&dt.push(Nl(O,G,L))),Zt)break;O=O.return}0<dt.length&&(k=new B(k,yt,null,a,F),Q.push({event:k,listeners:dt}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",k&&a!==_i&&(yt=a.relatedTarget||a.fromElement)&&(mi(yt)||yt[vn]))break t;if((B||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=z,yt=yt?mi(yt):null,yt!==null&&(Zt=c(yt),dt=yt.tag,yt!==Zt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(B=null,yt=z),B!==yt)){if(dt=Sn,G="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=nl,G="onPointerLeave",U="onPointerEnter",O="pointer"),Zt=B==null?k:jn(B),L=yt==null?k:jn(yt),k=new dt(G,O+"leave",B,a,F),k.target=Zt,k.relatedTarget=L,G=null,mi(F)===z&&(dt=new dt(U,O+"enter",yt,a,F),dt.target=L,dt.relatedTarget=Zt,G=dt),Zt=G,B&&yt)e:{for(dt=B,U=yt,O=0,L=dt;L;L=gs(L))O++;for(L=0,G=U;G;G=gs(G))L++;for(;0<O-L;)dt=gs(dt),O--;for(;0<L-O;)U=gs(U),L--;for(;O--;){if(dt===U||U!==null&&dt===U.alternate)break e;dt=gs(dt),U=gs(U)}dt=null}else dt=null;B!==null&&$p(Q,k,B,dt,!1),yt!==null&&Zt!==null&&$p(Q,Zt,yt,dt,!0)}}t:{if(k=z?jn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var at=pm;else if(Ae(k))if(ym)at=yE;else{at=gE;var Ct=mE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Xs(z.elementType)&&(at=pm):at=pE;if(at&&(at=at(e,z))){Si(Q,at,a,F);break t}Ct&&Ct(e,k,z),e==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Yi(k,"number",k.value)}switch(Ct=z?jn(z):window,e){case"focusin":(Ae(Ct)||Ct.contentEditable==="true")&&(Gr=Ct,Zc=z,rl=null);break;case"focusout":rl=Zc=Gr=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,wm(Q,a,F);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":wm(Q,a,F)}var ot;if(Xn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Mt?j(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(p&&a.locale!=="ko"&&(Mt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Mt&&(ot=$s()):(Gn=F,Ki="value"in Gn?Gn.value:Gn.textContent,Mt=!0)),Ct=Cu(z,mt),0<Ct.length&&(mt=new tl(mt,e,null,a,F),Q.push({event:mt,listeners:Ct}),ot?mt.data=ot:(ot=W(a),ot!==null&&(mt.data=ot)))),(ot=m?Te(e,a):Nt(e,a))&&(mt=Cu(z,"onBeforeInput"),0<mt.length&&(Ct=new tl("onBeforeInput","beforeinput",null,a,F),Q.push({event:Ct,listeners:mt}),Ct.data=ot)),eT(Q,e,z,a,F)}Xp(Q,n)})}function Nl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Cu(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Za(e,a),h!=null&&l.unshift(Nl(e,h,f)),h=Za(e,n),h!=null&&l.push(Nl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $p(e,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var E=a,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||z===null||(w=z,h?(z=Za(a,f),z!=null&&_.unshift(Nl(a,z,w))):h||(z=Za(a,f),z!=null&&_.push(Nl(a,z,w)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var rT=/\r\n?/g,sT=/\u0000|\uFFFD/g;function Jp(e){return(typeof e=="string"?e:""+e).replace(rT,`
`).replace(sT,"")}function Wp(e,n){return n=Jp(n),Jp(e)===n}function Du(){}function Xt(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(e,""+l);break;case"className":Hn(e,"class",l);break;case"tabIndex":Hn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,a,l);break;case"style":Ks(e,l,f);break;case"data":if(n!=="object"){Hn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Pr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Pr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Du);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Pr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":It("beforetoggle",e),It("toggle",e),Qi(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hc.get(a)||a,Qi(e,a,l))}}function Tf(e,n,a,l,h,f){switch(a){case"style":Ks(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[me]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Qi(e,a,l)}}}function ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,f,_,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),l&&Xt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=_=h=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":_=F;break;case"checked":w=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Xt(e,n,l,F,a,null)}}Ya(e,f,E,w,z,_,h,!1),Ur(e);return;case"select":It("invalid",e),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Xt(e,n,h,E,a,null)}n=f,a=_,e.multiple=!!l,n!=null?yi(e,!!l,n,!1):a!=null&&yi(e,!!l,a,!0);return;case"textarea":It("invalid",e),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,n,_,E,a,null)}Ka(e,l,h,f),Ur(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,w,l,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<Ml.length;l++)It(Ml[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,z,l,a,null)}return;default:if(Xs(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Tf(e,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(e,n,E,l,a,null))}function lT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,w=null,z=null,F=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=Q;default:l.hasOwnProperty(B)||Xt(e,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=a[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":F=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Xt(e,n,k,B,l,Q)}}ln(e,_,E,w,z,F,f,h);return;case"select":B=_=E=k=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==w&&Xt(e,n,h,f,l,w)}n=E,a=_,l=B,k!=null?yi(e,!!a,k,!1):!!l!=!!a&&(n!=null?yi(e,!!a,n,!0):yi(e,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":k=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,n,_,h,l,f)}Yt(e,k,B);return;case"option":for(var yt in a)if(k=a[yt],a.hasOwnProperty(yt)&&k!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Xt(e,n,yt,null,l,k)}for(w in l)if(k=l[w],B=a[w],l.hasOwnProperty(w)&&k!==B&&(k!=null||B!=null))switch(w){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(e,n,w,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)k=a[dt],a.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&Xt(e,n,dt,null,l,k);for(z in l)if(k=l[z],B=a[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Xt(e,n,z,k,l,B)}return;default:if(Xs(n)){for(var Zt in a)k=a[Zt],a.hasOwnProperty(Zt)&&k!==void 0&&!l.hasOwnProperty(Zt)&&Tf(e,n,Zt,void 0,l,k);for(F in l)k=l[F],B=a[F],!l.hasOwnProperty(F)||k===B||k===void 0&&B===void 0||Tf(e,n,F,k,l,B);return}}for(var U in a)k=a[U],a.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Xt(e,n,U,null,l,k);for(Q in l)k=l[Q],B=a[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Xt(e,n,Q,k,l,B)}var Af=null,Sf=null;function Iu(e){return e.nodeType===9?e:e.ownerDocument}function ty(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function bf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function oT(){var e=window.event;return e&&e.type==="popstate"?e===wf?!1:(wf=e,!0):(wf=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(e){return iy.resolve(null).then(e).catch(hT)}:ny;function hT(e){setTimeout(function(){throw e})}function ca(e){return e==="head"}function ay(e,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&xl(_.documentElement),a&2&&xl(_.body),a&4)for(a=_.head,xl(a),_=a.firstChild;_;){var E=_.nextSibling,w=_.nodeName;_[Ha]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(h===0){e.removeChild(f),jl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);jl(n)}function Rf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rf(a),Gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function fT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ha])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function dT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Cf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function mT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Df=null;function ry(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function sy(e,n,a){switch(n=Iu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function xl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Gi(e)}var Vn=new Map,ly=new Set;function Vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=et.d;et.d={f:gT,r:pT,D:yT,C:_T,L:vT,m:ET,X:AT,S:TT,M:ST};function gT(){var e=Pi.f(),n=Tu();return e||n}function pT(e){var n=qn(e);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Pi.r(e)}var ps=typeof document>"u"?null:document;function oy(e,n,a){var l=ps;if(l&&typeof n=="string"&&n){var h=ge(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ly.has(h)||(ly.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",e),ce(n),l.head.appendChild(n)))}}function yT(e){Pi.D(e),oy("dns-prefetch",e,null)}function _T(e,n){Pi.C(e,n),oy("preconnect",e,n)}function vT(e,n,a){Pi.L(e,n,a);var l=ps;if(l&&e&&n){var h='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var f=h;switch(n){case"style":f=ys(e);break;case"script":f=_s(e)}Vn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Vn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),ke(n,"link",e),ce(n),l.head.appendChild(n)))}}function ET(e,n){Pi.m(e,n);var a=ps;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_s(e)}if(!Vn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Vn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}l=a.createElement("link"),ke(l,"link",e),ce(l),a.head.appendChild(l)}}}function TT(e,n,a){Pi.S(e,n,a);var l=ps;if(l&&e){var h=Xe(l).hoistableStyles,f=ys(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Ul(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Vn.get(f))&&If(e,a);var w=_=l.createElement("link");ce(w),ke(w,"link",e),w._p=new Promise(function(z,F){w.onload=z,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function AT(e,n){Pi.X(e,n);var a=ps;if(a&&e){var l=Xe(a).hoistableScripts,h=_s(e),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(e=A({src:e,async:!0},n),(n=Vn.get(h))&&Vf(e,n),f=a.createElement("script"),ce(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ST(e,n){Pi.M(e,n);var a=ps;if(a&&e){var l=Xe(a).hoistableScripts,h=_s(e),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&Vf(e,n),f=a.createElement("script"),ce(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function uy(e,n,a,l){var h=(h=_t.current)?Vu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ys(a.href),a=Xe(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ys(a.href);var f=Xe(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Ul(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),f||bT(h,e,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_s(a),a=Xe(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ys(e){return'href="'+ge(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function cy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function bT(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),ce(n),e.head.appendChild(n))}function _s(e){return'[src="'+ge(e)+'"]'}function Pl(e){return"script[async]"+e}function hy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(l)return n.instance=l,ce(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),ke(l,"style",h),Ou(l,a.precedence,e),n.instance=l;case"stylesheet":h=ys(a.href);var f=e.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=cy(a),(h=Vn.get(h))&&If(l,h),f=(e.ownerDocument||e).createElement("link"),ce(f);var _=f;return _._p=new Promise(function(E,w){_.onload=E,_.onerror=w}),ke(f,"link",l),n.state.loading|=4,Ou(f,a.precedence,e),n.instance=f;case"script":return f=_s(a.src),(h=e.querySelector(Pl(f)))?(n.instance=h,ce(h),h):(l=a,(h=Vn.get(f))&&(l=A({},a),Vf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ke(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,e));return n.instance}function Ou(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Mu=null;function fy(e,n,a){if(Mu===null){var l=new Map,h=Mu=new Map;h.set(a,l)}else h=Mu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ha]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function dy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function wT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function my(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ll=null;function RT(){}function CT(e,n,a){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ys(a.href),f=e.querySelector(Ul(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Nu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=e.ownerDocument||e,a=cy(a),(h=Vn.get(h))&&If(a,h),f=f.createElement("link"),ce(f);var _=f;_._p=new Promise(function(E,w){_.onload=E,_.onerror=w}),ke(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Nu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function DT(){if(Ll===null)throw Error(s(475));var e=Ll;return e.stylesheets&&e.count===0&&Of(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Of(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xu=null;function Of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xu=new Map,n.forEach(IT,e),xu=null,Nu.call(e))}function IT(e,n){if(!(n.state.loading&4)){var a=xu.get(e);if(a)var l=a.get(null);else{a=new Map,xu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Nu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var zl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function VT(e,n,a,l,h,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function gy(e,n,a,l,h,f,_,E,w,z,F,Q){return e=new VT(e,n,a,_,E,w,z,Q),n=1,f===!0&&(n|=24),f=un(3,null,null,n),e.current=f,f.stateNode=e,n=hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},gh(f),e}function py(e){return e?(e=Xr,e):Xr}function yy(e,n,a,l,h,f){h=py(h),l.context===null?l.context=h:l.pendingContext=h,l=$i(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ji(e,l,n),a!==null&&(mn(a,e,n),ml(a,e,n))}function _y(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Mf(e,n){_y(e,n),(e=e.alternate)&&_y(e,n)}function vy(e){if(e.tag===13){var n=Kr(e,67108864);n!==null&&mn(n,e,67108864),Mf(e,67108864)}}var Uu=!0;function OT(e,n,a,l){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Nf(e,n,a,l)}finally{et.p=f,H.T=h}}function MT(e,n,a,l){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Nf(e,n,a,l)}finally{et.p=f,H.T=h}}function Nf(e,n,a,l){if(Uu){var h=xf(l);if(h===null)Ef(e,n,l,Pu,a),Ty(e,l);else if(xT(h,e,n,a,l))l.stopPropagation();else if(Ty(e,l),n&4&&-1<NT.indexOf(e)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Mn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var w=1<<31-He(_);E.entanglements[1]|=w,_&=~w}ei(f),(Ft&6)===0&&(vu=_n()+500,Ol(0))}}break;case 13:E=Kr(f,2),E!==null&&mn(E,f,2),Tu(),Mf(f,2)}if(f=xf(l),f===null&&Ef(e,n,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Ef(e,n,l,null,a)}}function xf(e){return e=Tn(e),Uf(e)}var Pu=null;function Uf(e){if(Pu=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Pu=e,null}function Ey(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lc()){case Ps:return 2;case Cr:return 8;case za:case zc:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var Pf=!1,ha=null,fa=null,da=null,kl=new Map,Bl=new Map,ma=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ty(e,n){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function ql(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&vy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xT(e,n,a,l,h){switch(n){case"focusin":return ha=ql(ha,e,n,a,l,h),!0;case"dragenter":return fa=ql(fa,e,n,a,l,h),!0;case"mouseover":return da=ql(da,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,ql(kl.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Bl.set(f,ql(Bl.get(f)||null,e,n,a,l,h)),!0}return!1}function Ay(e){var n=mi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,To(e.priority,function(){if(a.tag===13){var l=dn();l=ji(l);var h=Kr(a,l);h!==null&&mn(h,a,l),Mf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);_i=l,a.target.dispatchEvent(l),_i=null}else return n=qn(a),n!==null&&vy(n),e.blockedOn=a,!1;n.shift()}return!0}function Sy(e,n,a){Lu(e)&&a.delete(n)}function UT(){Pf=!1,ha!==null&&Lu(ha)&&(ha=null),fa!==null&&Lu(fa)&&(fa=null),da!==null&&Lu(da)&&(da=null),kl.forEach(Sy),Bl.forEach(Sy)}function zu(e,n){e.blockedOn===n&&(e.blockedOn=null,Pf||(Pf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UT)))}var ku=null;function by(e){ku!==e&&(ku=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ku===e&&(ku=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Uf(l||a)===null)continue;break}var f=qn(a);f!==null&&(e.splice(n,3),n-=3,xh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(e){function n(w){return zu(w,e)}ha!==null&&zu(ha,e),fa!==null&&zu(fa,e),da!==null&&zu(da,e),kl.forEach(n),Bl.forEach(n);for(var a=0;a<ma.length;a++){var l=ma[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ma.length&&(a=ma[0],a.blockedOn===null);)Ay(a),a.blockedOn===null&&ma.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[me]||null;if(typeof f=="function")_||by(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[me]||null)E=_.formAction;else if(Uf(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),by(a)}}}function Lf(e){this._internalRoot=e}Bu.prototype.render=Lf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=dn();yy(a,l,e,n,null,null)},Bu.prototype.unmount=Lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yy(e.current,2,null,e,null,null),Tu(),n[vn]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ma.length&&n!==0&&n<ma[a].priority;a++);ma.splice(a,0,e),a===0&&Ay(e)}};var wy=t.version;if(wy!=="19.1.0")throw Error(s(527,wy,"19.1.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var PT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{se=qu.inject(PT),Ht=qu}catch{}}return Fl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=qg,f=jg,_=Hg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=gy(e,1,!1,null,null,a,l,h,f,_,E,null),e[vn]=n.current,vf(e),new Lf(n)},Fl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",f=qg,_=jg,E=Hg,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=gy(e,1,!0,n,a??null,l,h,f,_,E,w,z),n.context=py(null),a=n.current,l=dn(),l=ji(l),h=$i(l),h.callback=null,Ji(a,h,l),a=l,n.current.lanes=a,di(n,a),ei(n),e[vn]=n.current,vf(e),new Bu(n)},Fl.version="19.1.0",Fl}var Uy;function YT(){if(Uy)return Bf.exports;Uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bf.exports=QT(),Bf.exports}var KT=YT();function XT({id:r,type:t,addTask:i}){const[s,o]=ue.useState("");function c(g){o(g.target.value)}function d(g){g.preventDefault(),i(s),o("")}return gt.jsx(gt.Fragment,{children:gt.jsxs("form",{onSubmit:d,children:[gt.jsx("h2",{className:"label-wrapper",children:gt.jsx("label",{htmlFor:r,className:"label__lg",children:"What needs to be done?"})}),gt.jsx("input",{type:t,id:r,className:"input input__lg",name:"text",autoComplete:"off",value:s,onChange:c}),gt.jsx("button",{type:"submit",className:"btn btn__primary btn__lg",children:"Add"})]})})}function ZT(r,t,i){r!="Clear_Storage"?t(r):i()}function $T({val:r,isPressed:t,setFilter:i,handleClearStorage:s}){return gt.jsxs("button",{type:"button",className:"btn toggle-btn","aria-pressed":t,onClick:()=>ZT(r,i,s),children:[gt.jsx("span",{className:"visually-hidden",children:"Show "}),gt.jsx("span",{children:r}),gt.jsx("span",{className:"visually-hidden",children:"tasks"})]})}function JT({name:r,id:t,isChecked:i,toggleTaskCompleted:s,deleteTask:o,editTask:c}){const d=ue.useRef(null),g=ue.useRef(null),[y,v]=ue.useState(!1),[A,C]=ue.useState(r);function V(rt){const lt=ue.useRef();return ue.useEffect(()=>{lt.current=rt}),lt.current}function q(rt){rt.preventDefault(),c(t,A),v(!1)}function Z(rt){C(rt.target.value)}const tt=gt.jsxs("form",{onSubmit:q,children:[gt.jsx("div",{children:gt.jsx("input",{id:`edit-${t}`,type:"text",value:A,onChange:Z,ref:d},t)}),gt.jsxs("div",{className:"btn-group",children:[gt.jsxs("button",{type:"button",className:"btn",onClick:()=>v(!1),children:["Cancel ",gt.jsxs("span",{className:"visually-hidden",children:["renaming ",A]})]}),gt.jsxs("button",{type:"submit",className:"btn btn__danger",children:["Save ",gt.jsxs("span",{className:"visually-hidden",children:["renaming ",A]})]})]})]}),$=gt.jsxs(gt.Fragment,{children:[gt.jsxs("div",{className:"c-cb",children:[gt.jsx("input",{id:`view-${t}`,type:"checkbox",checked:i,onChange:()=>s(t)}),gt.jsx("label",{className:"todo-label",htmlFor:`view-${t}`,children:A})]}),gt.jsxs("div",{className:"btn-group",children:[gt.jsxs("button",{type:"button",className:"btn",onClick:()=>v(!0),ref:g,children:["Edit ",gt.jsx("span",{className:"visually-hidden",children:A})]}),gt.jsxs("button",{type:"button",className:"btn btn__danger",onClick:()=>o(t),children:["Delete ",gt.jsx("span",{className:"visually-hidden",children:A})]})]})]}),ct=V(y);return ue.useEffect(()=>{!ct&&y?d.current.focus():ct&&!y&&g.current.focus()},[ct,y]),gt.jsx(gt.Fragment,{children:y?tt:$})}let WT=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");var Ff,Py;function t1(){if(Py)return Ff;Py=1;var r={linear:function(t,i,s,o){var c=s-i;return c*t/o+i},easeInQuad:function(t,i,s,o){var c=s-i;return c*(t/=o)*t+i},easeOutQuad:function(t,i,s,o){var c=s-i;return-c*(t/=o)*(t-2)+i},easeInOutQuad:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t+i:-c/2*(--t*(t-2)-1)+i},easeInCubic:function(t,i,s,o){var c=s-i;return c*(t/=o)*t*t+i},easeOutCubic:function(t,i,s,o){var c=s-i;return c*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t*t+i:c/2*((t-=2)*t*t+2)+i},easeInQuart:function(t,i,s,o){var c=s-i;return c*(t/=o)*t*t*t+i},easeOutQuart:function(t,i,s,o){var c=s-i;return-c*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t*t*t+i:-c/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(t,i,s,o){var c=s-i;return c*(t/=o)*t*t*t*t+i},easeOutQuint:function(t,i,s,o){var c=s-i;return c*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?c/2*t*t*t*t*t+i:c/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(t,i,s,o){var c=s-i;return-c*Math.cos(t/o*(Math.PI/2))+c+i},easeOutSine:function(t,i,s,o){var c=s-i;return c*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(t,i,s,o){var c=s-i;return-c/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(t,i,s,o){var c=s-i;return t==0?i:c*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(t,i,s,o){var c=s-i;return t==o?i+c:c*(-Math.pow(2,-10*t/o)+1)+i},easeInOutExpo:function(t,i,s,o){var c=s-i;return t===0?i:t===o?i+c:(t/=o/2)<1?c/2*Math.pow(2,10*(t-1))+i:c/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(t,i,s,o){var c=s-i;return-c*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(t,i,s,o){var c=s-i;return c*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(t,i,s,o){var c=s-i;return(t/=o/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+i:c/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(t,i,s,o){var c=s-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o)===1?i+c:(g||(g=o*.3),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),-(d*Math.pow(2,10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g))+i)},easeOutElastic:function(t,i,s,o){var c=s-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o)===1?i+c:(g||(g=o*.3),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),d*Math.pow(2,-10*t)*Math.sin((t*o-y)*(2*Math.PI)/g)+c+i)},easeInOutElastic:function(t,i,s,o){var c=s-i,d,g,y;return y=1.70158,g=0,d=c,t===0?i:(t/=o/2)===2?i+c:(g||(g=o*(.3*1.5)),d<Math.abs(c)?(d=c,y=g/4):y=g/(2*Math.PI)*Math.asin(c/d),t<1?-.5*(d*Math.pow(2,10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g))+i:d*Math.pow(2,-10*(t-=1))*Math.sin((t*o-y)*(2*Math.PI)/g)*.5+c+i)},easeInBack:function(t,i,s,o,c){var d=s-i;return c===void 0&&(c=1.70158),d*(t/=o)*t*((c+1)*t-c)+i},easeOutBack:function(t,i,s,o,c){var d=s-i;return c===void 0&&(c=1.70158),d*((t=t/o-1)*t*((c+1)*t+c)+1)+i},easeInOutBack:function(t,i,s,o,c){var d=s-i;return c===void 0&&(c=1.70158),(t/=o/2)<1?d/2*(t*t*(((c*=1.525)+1)*t-c))+i:d/2*((t-=2)*t*(((c*=1.525)+1)*t+c)+2)+i},easeInBounce:function(t,i,s,o){var c=s-i,d;return d=r.easeOutBounce(o-t,0,c,o),c-d+i},easeOutBounce:function(t,i,s,o){var c=s-i;return(t/=o)<1/2.75?c*(7.5625*t*t)+i:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+i:c*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,s,o){var c=s-i,d;return t<o/2?(d=r.easeInBounce(t*2,0,c,o),d*.5+i):(d=r.easeOutBounce(t*2-o,0,c,o),d*.5+c*.5+i)}};return Ff=r,Ff}var e1=t1();function n1(r){return r*Math.PI/180}function gn(r,t){return r+Math.random()*(t-r)}function i1(r,t){return Math.floor(r+Math.random()*(t-r+1))}var Kl;(function(r){r[r.Circle=0]="Circle",r[r.Square=1]="Square",r[r.Strip=2]="Strip"})(Kl||(Kl={}));var pa;(function(r){r[r.Positive=1]="Positive",r[r.Negative=-1]="Negative"})(pa||(pa={}));const a1=1e3/60;class r1{constructor(t,i,s,o){this.getOptions=i;const{colors:c,initialVelocityX:d,initialVelocityY:g}=this.getOptions();this.context=t,this.x=s,this.y=o,this.w=gn(5,20),this.h=gn(5,20),this.radius=gn(5,10),this.vx=typeof d=="number"?gn(-d,d):gn(d.min,d.max),this.vy=typeof g=="number"?gn(-g,0):gn(g.min,g.max),this.shape=i1(0,2),this.angle=n1(gn(0,360)),this.angularSpin=gn(-.2,.2),this.color=c[Math.floor(Math.random()*c.length)],this.rotateY=gn(0,1),this.rotationDirection=gn(0,1)?pa.Positive:pa.Negative}update(t){const{gravity:i,wind:s,friction:o,opacity:c,drawShape:d}=this.getOptions(),g=t/a1;this.x+=this.vx*g,this.y+=this.vy*g,this.vy+=i*g,this.vx+=s*g,this.vx*=o**g,this.vy*=o**g,this.rotateY>=1&&this.rotationDirection===pa.Positive?this.rotationDirection=pa.Negative:this.rotateY<=-1&&this.rotationDirection===pa.Negative&&(this.rotationDirection=pa.Positive);const y=.1*this.rotationDirection*g;if(this.rotateY+=y,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=c,this.context.lineCap="round",this.context.lineWidth=2,d&&typeof d=="function")d.call(this,this.context);else switch(this.shape){case Kl.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Kl.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Kl.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class s1{constructor(t,i){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=o=>{this.particles.splice(o,1)},this.getParticle=()=>{const o=gn(this.x,this.w+this.x),c=gn(this.y,this.h+this.y);return new r1(this.context,this.getOptions,o,c)},this.animate=o=>{const{canvas:c,context:d,particlesGenerated:g,lastNumberOfPieces:y}=this,{run:v,recycle:A,numberOfPieces:C,debug:V,tweenFunction:q,tweenDuration:Z}=this.getOptions();if(!v)return!1;const tt=this.particles.length,$=A?tt:g;if($<C){y!==C&&(this.tweenProgress=0,this.tweenFrom=$,this.lastNumberOfPieces=C),this.tweenProgress=Math.min(Z,Math.max(0,this.tweenProgress+o));const ct=q(this.tweenProgress,this.tweenFrom,C,Z),rt=Math.round(ct-$);for(let lt=0;lt<rt;lt++)this.particles.push(this.getParticle());this.particlesGenerated+=rt}V&&(d.font="12px sans-serif",d.fillStyle="#333",d.textAlign="right",d.fillText(`Particles: ${tt}`,c.width-10,c.height-20));for(let ct=this.particles.length-1;ct>=0;ct--){const rt=this.particles[ct];rt.update(o),(rt.y>c.height||rt.y<-100||rt.x>c.width+100||rt.x<-100)&&(A&&$<=C?this.particles[ct]=this.getParticle():this.removeParticleAt(ct))}return tt>0||$<C},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=i}}const Cd={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:e1.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class l1{constructor(t,i){this.lastFrameTime=0,this.setOptionsWithDefaults=o=>{const c={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...c,...Cd,...o},Object.assign(this,o.confettiSource)},this.update=(o=0)=>{const{options:{run:c,onConfettiComplete:d,frameRate:g},canvas:y,context:v}=this,A=Math.min(o-this.lastFrameTime,50);if(g&&A<1e3/g){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=o-(g?A%g:0),c&&(v.fillStyle="white",v.clearRect(0,0,y.width,y.height)),this.generator.animate(A)?this.rafId=requestAnimationFrame(this.update):(d&&typeof d=="function"&&this.generator.particlesGenerated>0&&d.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new s1(this.canvas,()=>this.options),this.options=i,this.update()}get options(){return this._options}set options(t){var o,c;const i=(o=this._options)==null?void 0:o.run,s=(c=this._options)==null?void 0:c.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&s===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&i===!1&&this.update()}}const o1=tc.createRef();class Dd extends tc.Component{constructor(t){super(t),this.canvas=tc.createRef(),this.canvas=t.canvasRef||o1}componentDidMount(){if(this.canvas.current){const t=Gf(this.props)[0];this.confetti=new l1(this.canvas.current,t)}}componentDidUpdate(){const t=Gf(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,i]=Gf(this.props),s={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...i.style};return gt.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...i,style:s})}}Dd.defaultProps={...Cd};Dd.displayName="ReactConfetti";function Gf(r){const t={},i={},s={},o=[...Object.keys(Cd),"confettiSource","drawShape","onConfettiComplete","frameRate"],c=["canvasRef"];for(const d in r){const g=r[d];o.includes(d)?t[d]=g:c.includes(d)?c[d]=g:s[d]=g}return[t,s,i]}const u1=tc.forwardRef((r,t)=>gt.jsx(Dd,{canvasRef:t,...r})),c1=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},h1=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let V=(g&15)<<2|v>>6,q=v&63;y||(q=64,d||(V=64)),s.push(i[A],i[C],i[V],i[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(nv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):h1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const C=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||v==null||C==null)throw new f1;const V=c<<2|g>>4;if(s.push(V),v!==64){const q=g<<4&240|v>>2;if(s.push(q),C!==64){const Z=v<<6&192|C;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class f1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d1=function(r){const t=nv(r);return iv.encodeByteArray(t,!0)},ec=function(r){return d1(r).replace(/\./g,"")},m1=function(r){try{return iv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=()=>g1().__FIREBASE_DEFAULTS__,y1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const r=Ly.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&m1(r[1]);return t&&JSON.parse(t)},Id=()=>{try{return c1()||p1()||y1()||_1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v1=r=>{var t,i;return(i=(t=Id())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},E1=r=>{const t=v1(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},av=()=>{var r;return(r=Id())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ec(JSON.stringify(i)),ec(JSON.stringify(d)),""].join(".")}const Xl={};function b1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?r.emulator.push(t):r.prod.push(t);return r}function w1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let zy=!1;function R1(r,t){if(typeof window>"u"||typeof document>"u"||!Vd(window.location.host)||Xl[r]===t||Xl[r]||zy)return;Xl[r]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=b1().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,q){V.setAttribute("width","24"),V.setAttribute("id",q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{zy=!0,d()},V}function A(V,q){V.setAttribute("id",q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function C(){const V=w1(s),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),ct=i("preprendIcon"),rt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const lt=V.element;g(lt),A($,tt);const Ot=v();y(rt,ct),lt.append(rt,Z,$,Ot),document.body.appendChild(lt)}c?(Z.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){var r;const t=(r=Id())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function V1(){return!D1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rv(){try{return typeof indexedDB=="object"}catch{return!1}}function sv(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}function O1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="FirebaseError";class Ma extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=M1,Object.setPrototypeOf(this,Ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?N1(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ma(o,g,s)}}function N1(r,t){return r.replace(x1,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const x1=/\{\$([^}]+)}/g;function eo(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=t[o];if(ky(c)&&ky(d)){if(!eo(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function ky(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e3,P1=2,L1=4*60*60*1e3,z1=.5;function By(r,t=U1,i=P1){const s=t*Math.pow(i,r),o=Math.round(z1*s*(Math.random()-.5)*2);return Math.min(L1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r){return r&&r._delegate?r._delegate:r}class Li{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new T1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(q1(t))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=_r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_r){return this.instances.has(t)}getOptions(t=_r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=_r){return this.component?this.component.multipleInstances?t:_r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(r){return r===_r?void 0:r}function q1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new k1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const H1={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},F1=Pt.INFO,G1={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Q1=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=G1[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Od{constructor(t){this.name=t,this._logLevel=F1,this._logHandler=Q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?H1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const Y1=(r,t)=>t.some(i=>r instanceof i);let qy,jy;function K1(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X1(){return jy||(jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lv=new WeakMap,id=new WeakMap,ov=new WeakMap,Qf=new WeakMap,Md=new WeakMap;function Z1(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(_a(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&lv.set(i,r)}).catch(()=>{}),Md.set(t,r),t}function $1(r){if(id.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});id.set(r,t)}let ad={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return id.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ov.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _a(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function J1(r){ad=r(ad)}function W1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Yf(this),t,...i);return ov.set(s,t.sort?t.sort():[t]),_a(s)}:X1().includes(r)?function(...t){return r.apply(Yf(this),t),_a(lv.get(this))}:function(...t){return _a(r.apply(Yf(this),t))}}function tA(r){return typeof r=="function"?W1(r):(r instanceof IDBTransaction&&$1(r),Y1(r,K1())?new Proxy(r,ad):r)}function _a(r){if(r instanceof IDBRequest)return Z1(r);if(Qf.has(r))return Qf.get(r);const t=tA(r);return t!==r&&(Qf.set(r,t),Md.set(t,r)),t}const Yf=r=>Md.get(r);function uv(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=_a(d);return s&&d.addEventListener("upgradeneeded",y=>{s(_a(d.result),y.oldVersion,y.newVersion,_a(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const eA=["get","getKey","getAll","getAllKeys","count"],nA=["put","add","delete","clear"],Kf=new Map;function Hy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Kf.get(t))return Kf.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=nA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||eA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return Kf.set(t,c),c}J1(r=>({...r,get:(t,i,s)=>Hy(t,i)||r.get(t,i,s),has:(t,i)=>!!Hy(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function aA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rd="@firebase/app",Fy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Od("@firebase/app"),rA="@firebase/app-compat",sA="@firebase/analytics-compat",lA="@firebase/analytics",oA="@firebase/app-check-compat",uA="@firebase/app-check",cA="@firebase/auth",hA="@firebase/auth-compat",fA="@firebase/database",dA="@firebase/data-connect",mA="@firebase/database-compat",gA="@firebase/functions",pA="@firebase/functions-compat",yA="@firebase/installations",_A="@firebase/installations-compat",vA="@firebase/messaging",EA="@firebase/messaging-compat",TA="@firebase/performance",AA="@firebase/performance-compat",SA="@firebase/remote-config",bA="@firebase/remote-config-compat",wA="@firebase/storage",RA="@firebase/storage-compat",CA="@firebase/firestore",DA="@firebase/ai",IA="@firebase/firestore-compat",VA="firebase",OA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",MA={[rd]:"fire-core",[rA]:"fire-core-compat",[lA]:"fire-analytics",[sA]:"fire-analytics-compat",[uA]:"fire-app-check",[oA]:"fire-app-check-compat",[cA]:"fire-auth",[hA]:"fire-auth-compat",[fA]:"fire-rtdb",[dA]:"fire-data-connect",[mA]:"fire-rtdb-compat",[gA]:"fire-fn",[pA]:"fire-fn-compat",[yA]:"fire-iid",[_A]:"fire-iid-compat",[vA]:"fire-fcm",[EA]:"fire-fcm-compat",[TA]:"fire-perf",[AA]:"fire-perf-compat",[SA]:"fire-rc",[bA]:"fire-rc-compat",[wA]:"fire-gcs",[RA]:"fire-gcs-compat",[CA]:"fire-fst",[IA]:"fire-fst-compat",[DA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,NA=new Map,ld=new Map;function Gy(r,t){try{r.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Sa(r){const t=r.name;if(ld.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;ld.set(t,r);for(const i of nc.values())Gy(i,r);for(const i of NA.values())Gy(i,r);return!0}function uo(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function xA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new yc("app","Firebase",UA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=OA;function cv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:sd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw va.create("bad-app-name",{appName:String(o)});if(i||(i=av()),!i)throw va.create("no-options");const c=nc.get(o);if(c){if(eo(i,c.options)&&eo(s,c.config))return c;throw va.create("duplicate-app",{appName:o})}const d=new j1(o);for(const y of ld.values())d.addComponent(y);const g=new PA(i,s,d);return nc.set(o,g),g}function hv(r=sd){const t=nc.get(r);if(!t&&r===sd&&av())return cv();if(!t)throw va.create("no-app",{appName:r});return t}function ii(r,t,i){var s;let o=(s=MA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}Sa(new Li(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",kA=1,no="firebase-heartbeat-store";let Xf=null;function fv(){return Xf||(Xf=uv(zA,kA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(r=>{throw va.create("idb-open",{originalErrorMessage:r.message})})),Xf}async function BA(r){try{const i=(await fv()).transaction(no),s=await i.objectStore(no).get(dv(r));return await i.done,s}catch(t){if(t instanceof Ma)zi.warn(t.message);else{const i=va.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}async function Qy(r,t){try{const s=(await fv()).transaction(no,"readwrite");await s.objectStore(no).put(t,dv(r)),await s.done}catch(i){if(i instanceof Ma)zi.warn(i.message);else{const s=va.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});zi.warn(s.message)}}}function dv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=1024,jA=30;class HA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Yy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>jA){const d=QA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Yy(),{heartbeatsToSend:s,unsentEntries:o}=FA(this._heartbeatsCache.heartbeats),c=ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return zi.warn(i),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function FA(r,t=qA){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Ky(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ky(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class GA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rv()?sv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ky(r){return ec(JSON.stringify({version:2,heartbeats:r})).length}function QA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r){Sa(new Li("platform-logger",t=>new iA(t),"PRIVATE")),Sa(new Li("heartbeat",t=>new HA(t),"PRIVATE")),ii(rd,Fy,r),ii(rd,Fy,"esm2017"),ii("fire-js","")}YA("");var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,mv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,b){function S(){}S.prototype=b.prototype,N.D=b.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(D,M,x){for(var R=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)R[wt-2]=arguments[wt];return b.prototype[M].apply(D,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,S){S||(S=0);var D=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)D[M]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(M=0;16>M;++M)D[M]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=N.g[0],S=N.g[1],M=N.g[2];var x=N.g[3],R=b+(x^S&(M^x))+D[0]+3614090360&4294967295;b=S+(R<<7&4294967295|R>>>25),R=x+(M^b&(S^M))+D[1]+3905402710&4294967295,x=b+(R<<12&4294967295|R>>>20),R=M+(S^x&(b^S))+D[2]+606105819&4294967295,M=x+(R<<17&4294967295|R>>>15),R=S+(b^M&(x^b))+D[3]+3250441966&4294967295,S=M+(R<<22&4294967295|R>>>10),R=b+(x^S&(M^x))+D[4]+4118548399&4294967295,b=S+(R<<7&4294967295|R>>>25),R=x+(M^b&(S^M))+D[5]+1200080426&4294967295,x=b+(R<<12&4294967295|R>>>20),R=M+(S^x&(b^S))+D[6]+2821735955&4294967295,M=x+(R<<17&4294967295|R>>>15),R=S+(b^M&(x^b))+D[7]+4249261313&4294967295,S=M+(R<<22&4294967295|R>>>10),R=b+(x^S&(M^x))+D[8]+1770035416&4294967295,b=S+(R<<7&4294967295|R>>>25),R=x+(M^b&(S^M))+D[9]+2336552879&4294967295,x=b+(R<<12&4294967295|R>>>20),R=M+(S^x&(b^S))+D[10]+4294925233&4294967295,M=x+(R<<17&4294967295|R>>>15),R=S+(b^M&(x^b))+D[11]+2304563134&4294967295,S=M+(R<<22&4294967295|R>>>10),R=b+(x^S&(M^x))+D[12]+1804603682&4294967295,b=S+(R<<7&4294967295|R>>>25),R=x+(M^b&(S^M))+D[13]+4254626195&4294967295,x=b+(R<<12&4294967295|R>>>20),R=M+(S^x&(b^S))+D[14]+2792965006&4294967295,M=x+(R<<17&4294967295|R>>>15),R=S+(b^M&(x^b))+D[15]+1236535329&4294967295,S=M+(R<<22&4294967295|R>>>10),R=b+(M^x&(S^M))+D[1]+4129170786&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^M&(b^S))+D[6]+3225465664&4294967295,x=b+(R<<9&4294967295|R>>>23),R=M+(b^S&(x^b))+D[11]+643717713&4294967295,M=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(M^x))+D[0]+3921069994&4294967295,S=M+(R<<20&4294967295|R>>>12),R=b+(M^x&(S^M))+D[5]+3593408605&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^M&(b^S))+D[10]+38016083&4294967295,x=b+(R<<9&4294967295|R>>>23),R=M+(b^S&(x^b))+D[15]+3634488961&4294967295,M=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(M^x))+D[4]+3889429448&4294967295,S=M+(R<<20&4294967295|R>>>12),R=b+(M^x&(S^M))+D[9]+568446438&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^M&(b^S))+D[14]+3275163606&4294967295,x=b+(R<<9&4294967295|R>>>23),R=M+(b^S&(x^b))+D[3]+4107603335&4294967295,M=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(M^x))+D[8]+1163531501&4294967295,S=M+(R<<20&4294967295|R>>>12),R=b+(M^x&(S^M))+D[13]+2850285829&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^M&(b^S))+D[2]+4243563512&4294967295,x=b+(R<<9&4294967295|R>>>23),R=M+(b^S&(x^b))+D[7]+1735328473&4294967295,M=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(M^x))+D[12]+2368359562&4294967295,S=M+(R<<20&4294967295|R>>>12),R=b+(S^M^x)+D[5]+4294588738&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^M)+D[8]+2272392833&4294967295,x=b+(R<<11&4294967295|R>>>21),R=M+(x^b^S)+D[11]+1839030562&4294967295,M=x+(R<<16&4294967295|R>>>16),R=S+(M^x^b)+D[14]+4259657740&4294967295,S=M+(R<<23&4294967295|R>>>9),R=b+(S^M^x)+D[1]+2763975236&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^M)+D[4]+1272893353&4294967295,x=b+(R<<11&4294967295|R>>>21),R=M+(x^b^S)+D[7]+4139469664&4294967295,M=x+(R<<16&4294967295|R>>>16),R=S+(M^x^b)+D[10]+3200236656&4294967295,S=M+(R<<23&4294967295|R>>>9),R=b+(S^M^x)+D[13]+681279174&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^M)+D[0]+3936430074&4294967295,x=b+(R<<11&4294967295|R>>>21),R=M+(x^b^S)+D[3]+3572445317&4294967295,M=x+(R<<16&4294967295|R>>>16),R=S+(M^x^b)+D[6]+76029189&4294967295,S=M+(R<<23&4294967295|R>>>9),R=b+(S^M^x)+D[9]+3654602809&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^M)+D[12]+3873151461&4294967295,x=b+(R<<11&4294967295|R>>>21),R=M+(x^b^S)+D[15]+530742520&4294967295,M=x+(R<<16&4294967295|R>>>16),R=S+(M^x^b)+D[2]+3299628645&4294967295,S=M+(R<<23&4294967295|R>>>9),R=b+(M^(S|~x))+D[0]+4096336452&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~M))+D[7]+1126891415&4294967295,x=b+(R<<10&4294967295|R>>>22),R=M+(b^(x|~S))+D[14]+2878612391&4294967295,M=x+(R<<15&4294967295|R>>>17),R=S+(x^(M|~b))+D[5]+4237533241&4294967295,S=M+(R<<21&4294967295|R>>>11),R=b+(M^(S|~x))+D[12]+1700485571&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~M))+D[3]+2399980690&4294967295,x=b+(R<<10&4294967295|R>>>22),R=M+(b^(x|~S))+D[10]+4293915773&4294967295,M=x+(R<<15&4294967295|R>>>17),R=S+(x^(M|~b))+D[1]+2240044497&4294967295,S=M+(R<<21&4294967295|R>>>11),R=b+(M^(S|~x))+D[8]+1873313359&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~M))+D[15]+4264355552&4294967295,x=b+(R<<10&4294967295|R>>>22),R=M+(b^(x|~S))+D[6]+2734768916&4294967295,M=x+(R<<15&4294967295|R>>>17),R=S+(x^(M|~b))+D[13]+1309151649&4294967295,S=M+(R<<21&4294967295|R>>>11),R=b+(M^(S|~x))+D[4]+4149444226&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~M))+D[11]+3174756917&4294967295,x=b+(R<<10&4294967295|R>>>22),R=M+(b^(x|~S))+D[2]+718787259&4294967295,M=x+(R<<15&4294967295|R>>>17),R=S+(x^(M|~b))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var S=b-this.blockSize,D=this.B,M=this.h,x=0;x<b;){if(M==0)for(;x<=S;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<b;)if(D[M++]=N.charCodeAt(x++),M==this.blockSize){o(this,D),M=0;break}}else for(;x<b;)if(D[M++]=N[x++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var S=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=S&255,S/=256;for(this.u(N),N=Array(16),b=S=0;4>b;++b)for(var D=0;32>D;D+=8)N[S++]=this.g[b]>>>D&255;return N};function c(N,b){var S=g;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=b(N)}function d(N,b){this.h=b;for(var S=[],D=!0,M=N.length-1;0<=M;M--){var x=N[M]|0;D&&x==b||(S[M]=x,D=!1)}this.g=S}var g={};function y(N){return-128<=N&&128>N?c(N,function(b){return new d([b|0],0>b?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return $(v(-N));for(var b=[],S=1,D=0;N>=S;D++)b[D]=N/S|0,S*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return $(A(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(b,8)),D=C,M=0;M<N.length;M+=8){var x=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+x),b);8>x?(x=v(Math.pow(b,x)),D=D.j(x).add(v(R))):(D=D.j(S),D=D.add(v(R)))}return D}var C=y(0),V=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(tt(this))return-$(this).m();for(var N=0,b=1,S=0;S<this.g.length;S++){var D=this.i(S);N+=(0<=D?D:4294967296+D)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(tt(this))return"-"+$(this).toString(N);for(var b=v(Math.pow(N,6)),S=this,D="";;){var M=Ot(S,b).g;S=ct(S,M.j(b));var x=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=M,Z(S))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function tt(N){return N.h==-1}r.l=function(N){return N=ct(this,N),tt(N)?-1:Z(N)?0:1};function $(N){for(var b=N.g.length,S=[],D=0;D<b;D++)S[D]=~N.g[D];return new d(S,~N.h).add(V)}r.abs=function(){return tt(this)?$(this):this},r.add=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],D=0,M=0;M<=b;M++){var x=D+(this.i(M)&65535)+(N.i(M)&65535),R=(x>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);D=R>>>16,x&=65535,R&=65535,S[M]=R<<16|x}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ct(N,b){return N.add($(b))}r.j=function(N){if(Z(this)||Z(N))return C;if(tt(this))return tt(N)?$(this).j($(N)):$($(this).j(N));if(tt(N))return $(this.j($(N)));if(0>this.l(q)&&0>N.l(q))return v(this.m()*N.m());for(var b=this.g.length+N.g.length,S=[],D=0;D<2*b;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<N.g.length;M++){var x=this.i(D)>>>16,R=this.i(D)&65535,wt=N.i(M)>>>16,Qt=N.i(M)&65535;S[2*D+2*M]+=R*Qt,rt(S,2*D+2*M),S[2*D+2*M+1]+=x*Qt,rt(S,2*D+2*M+1),S[2*D+2*M+1]+=R*wt,rt(S,2*D+2*M+1),S[2*D+2*M+2]+=x*wt,rt(S,2*D+2*M+2)}for(D=0;D<b;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=b;D<2*b;D++)S[D]=0;return new d(S,0)};function rt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function lt(N,b){this.g=N,this.h=b}function Ot(N,b){if(Z(b))throw Error("division by zero");if(Z(N))return new lt(C,C);if(tt(N))return b=Ot($(N),b),new lt($(b.g),$(b.h));if(tt(b))return b=Ot(N,$(b)),new lt($(b.g),b.h);if(30<N.g.length){if(tt(N)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var S=V,D=b;0>=D.l(N);)S=vt(S),D=vt(D);var M=Lt(S,1),x=Lt(D,1);for(D=Lt(D,2),S=Lt(S,2);!Z(D);){var R=x.add(D);0>=R.l(N)&&(M=M.add(S),x=R),D=Lt(D,1),S=Lt(S,1)}return b=ct(N,M.j(b)),new lt(M,b)}for(M=C;0<=N.l(b);){for(S=Math.max(1,Math.floor(N.m()/b.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=v(S),R=x.j(b);tt(R)||0<R.l(N);)S-=D,x=v(S),R=x.j(b);Z(x)&&(x=V),M=M.add(x),N=ct(N,R)}return new lt(M,N)}r.A=function(N){return Ot(this,N).h},r.and=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],D=0;D<b;D++)S[D]=this.i(D)&N.i(D);return new d(S,this.h&N.h)},r.or=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],D=0;D<b;D++)S[D]=this.i(D)|N.i(D);return new d(S,this.h|N.h)},r.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],D=0;D<b;D++)S[D]=this.i(D)^N.i(D);return new d(S,this.h^N.h)};function vt(N){for(var b=N.g.length+1,S=[],D=0;D<b;D++)S[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(S,N.h)}function Lt(N,b){var S=b>>5;b%=32;for(var D=N.g.length-S,M=[],x=0;x<D;x++)M[x]=0<b?N.i(x+S)>>>b|N.i(x+S+1)<<32-b:N.i(x+S);return new d(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ea=d}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gv,Gl,pv,Ku,od,yv,_v,vv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var p=0,T=!1,P={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function V(u,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,V.apply(null,arguments)}function q(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,P,j){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[P].apply(T,W)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const P=u.length||0,j=T.length||0;u.length=P+j;for(let W=0;W<j;W++)u[P+W]=T[W]}else u.push(T)}}class ct{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ot(u){return Ot[" "](u),u}Ot[" "]=function(){};var vt=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let j=0;j<S.length;j++)p=S[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=kt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,p){const T=Qt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Qt=new ct(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,kt=new wt,I=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){x(p)}var m=Qt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Rt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Ot(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,J);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function kn(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++Jt,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,p,T,P){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=Pa(u,m,T,P);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new kn(m,this.src,j,!!T,P),m.fa=p,u.push(m)),m};function Ua(u,m){var p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=P)&&Array.prototype.splice.call(T,P,1),j&&(qi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Pa(u,m,p,T){for(var P=0;P<u.length;++P){var j=u[P];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return P}return-1}var La="closure_lm_"+(1e6*Math.random()|0),Us={};function _o(u,m,p,T,P){if(Array.isArray(m)){for(var j=0;j<m.length;j++)_o(u,m[j],p,T,P);return null}return p=vo(p),u&&u[De]?u.K(m,p,v(T)?!!T.capture:!1,P):_n(u,m,p,!1,T,P)}function _n(u,m,p,T,P,j){if(!m)throw Error("Invalid event type");var W=v(P)?!!P.capture:!!P,Mt=Dr(u);if(Mt||(u[La]=Mt=new hi(u)),p=Mt.add(m,p,T,W,j),p.proxy)return p;if(T=Lc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ht||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(za(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Lc(){function u(p){return m.call(u.src,u.listener,p)}const m=zc;return u}function Ps(u,m,p,T,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)Ps(u,m[j],p,T,P);else T=v(T)?!!T.capture:!!T,p=vo(p),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=Pa(j,p,T,P),-1<p&&(qi(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Dr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pa(m,p,T,P)),(p=-1<u?m[u]:null)&&Cr(p))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Ua(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(za(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Dr(m))?(Ua(p,u),p.h==0&&(p.src=null,m[La]=null)):qi(u)}}}function za(u){return u in Us?Us[u]:Us[u]="on"+u}function zc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Cr(u),u=p.call(T,m)}return u}function Dr(u){return u=u[La],u instanceof hi?u:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(u){return typeof u=="function"?u:(u[Ls]||(u[Ls]=function(m){return u.handleEvent(m)}),u[Ls])}function se(){nt.call(this),this.i=new hi(this),this.M=this,this.F=null}Z(se,nt),se.prototype[De]=!0,se.prototype.removeEventListener=function(u,m,p,T){Ps(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var P=m;m=new J(T,u),D(m,P)}if(P=!0,p)for(var j=p.length-1;0<=j;j--){var W=m.g=p[j];P=sn(W,T,!0,m)&&P}if(W=m.g=u,P=sn(W,T,!0,m)&&P,P=sn(W,T,!1,m)&&P,p)for(j=0;j<p.length;j++)W=m.g=p[j],P=sn(W,T,!1,m)&&P}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)qi(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function sn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==p){var Mt=W.listener,Te=W.ha||W.src;W.fa&&Ua(u.i,W),P=Mt.call(Te,T)!==!1&&P}}return P&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=V(u,p));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Eo(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){nt.call(this),this.h=u,this.g={}}Z(ka,nt);var Ba=[];function qa(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Cr(m)},u),u.g={}}ka.prototype.N=function(){ka.aa.N.call(this),qa(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,Ir=g.JSON.parse,ja=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function zs(){}zs.prototype.h=null;function ks(u){return u.h||(u.h=u.i())}function Bs(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){J.call(this,"d")}Z(di,J);function qs(){J.call(this,"c")}Z(qs,J);var Bn={},js=null;function ji(){return js=js||new se}Bn.La="serverreachability";function Vr(u){J.call(this,Bn.La,u)}Z(Vr,J);function Hi(u){const m=ji();Ht(m,new Vr(m))}Bn.STAT_EVENT="statevent";function To(u,m){J.call(this,Bn.STAT_EVENT,u),this.stat=m}Z(To,J);function ne(u){const m=ji();Ht(m,new To(m,u))}Bn.Ma="timingevent";function Ee(u,m){J.call(this,Bn.Ma,u),this.size=m}Z(Ee,J);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Hs(u,m,p,T,P,j){u.info(function(){if(u.g)if(j)for(var W="",Mt=j.split("&"),Te=0;Te<Mt.length;Te++){var Nt=Mt[Te].split("=");if(1<Nt.length){var Ve=Nt[0];Nt=Nt[1];var Ae=Ve.split("_");W=2<=Ae.length&&Ae[1]=="type"?W+(Ve+"="+Nt+"&"):W+(Ve+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+W})}function Bc(u,m,p,T,P,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+j+" "+W})}function Fi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ha(u,p)+(T?" "+T:"")})}function Ao(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function Ha(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var j=P[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<P.length;W++)P[W]=""}}}}return Mn(p)}catch{return m}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}Z(jn,zs),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Fs={},Or={};function Nn(u,m,p){u.L=1,u.v=Ka(ln(m)),u.m=p,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Fa(u),u.A=ln(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Zs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=zo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new kc(V(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ba[0]=P.toString()),P=Ba);for(var j=0;j<P.length;j++){var W=_o(p,P[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Hi(),Hs(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Sn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Vo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Si?Hi(3):Hi(2)),Qi(this);var p=this.g.Z();this.X=p;e:if(So(this)){var T=Vo(this.g);u="";var P=T.length,j=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Hn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Bc(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Mt)){var Nt=Mt;break e}}Nt=null}if(p=Nt)Fi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ga(this,p);else{this.o=!1,this.s=3,ne(12),Ue(this),Hn(this);break t}}if(this.P){p=!0;let Pe;for(;!this.J&&this.C<W.length;)if(Pe=bo(this,W),Pe==Or){Ae==4&&(this.s=4,ne(14),p=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Fs){this.s=4,ne(15),Fi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Fi(this.i,this.l,Pe,null),Ga(this,Pe);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||W.length!=0||this.h.h||(this.s=1,ne(16),p=!1),this.o=this.o&&p,!p)Fi(this.i,this.l,W,"[Invalid Chunked Response]"),Ue(this),Hn(this);else if(0<W.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),nr(Ve),Ve.M=!0,ne(11))}}else Fi(this.i,this.l,W,null),Ga(this,W);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Uo(this.j,this):(this.o=!1,Fa(this)))}else Gc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ue(this),Hn(this)}}}catch{}finally{}};function So(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Or:(p=Number(m.substring(p,T)),isNaN(p)?Fs:(T+=1,T+p>m.length?Or:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Fa(u){u.S=Date.now()+u.I,wo(u,u.I)}function wo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(V(u.ba,u),m)}function Qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ao(this.i,this.A),this.L!=2&&(Hi(),ne(17)),Ue(this),this.s=2,Hn(this)):wo(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Uo(u.j,u)}function Ue(u){Qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ga(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Gs(p.h,u))){if(!u.K&&Gs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Hr(p),qr(p);else break t;el(p),ne(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(V(p.Za,p),6e3));if(1>=Nr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ai(p,11)}else if((u.K||p.g==u)&&Hr(p),!rt(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let Nt=P[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ve=Nt[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const Ae=Nt[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const Si=Nt[5];Si!=null&&typeof Si=="number"&&0<Si&&(T=1.5*Si,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pe=u.g;if(Pe){const Zn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var j=T.h;j.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(xr(j,j.h),j.h=null))}if(T.D){const il=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(T.ya=il,Yt(T.I,T.D,il))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=Lo(T,T.J?T.ia:null,T.W),W.K){Ze(T.h,W);var Mt=W,Te=T.L;Te&&(Mt.I=Te),Mt.B&&(Qi(Mt),Fa(Mt)),T.g=W}else No(T);0<p.i.length&&jr(p)}else Nt[0]!="stop"&&Nt[0]!="close"||Ai(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Ai(p,7):Ws(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}Hi(4)}catch{}}var Ro=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nr(u){return u.h?1:u.g?u.g.size:0}function Gs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xr(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=Qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function qc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ur(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ys(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ur(u),T=qc(u),P=T.length,j=0;j<P;j++)m.call(void 0,T[j],p&&p[j],u)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),P=null;if(0<=T){var j=u[p].substring(0,T);P=u[p].substring(T+1)}else j=u[p];m(j,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Ya(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.s),this.l=u.l;var m=u.i,p=new _i;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),yi(this,p),this.m=u.m}else u&&(m=String(u).match(Qa))?(this.h=!1,Ya(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),Yi(this,m[4]),this.l=En(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xa(m,Ks,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xa(m,Ks,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Xa(p,p.charAt(0)=="/"?Hc:Xs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Xa(p,Pr)),u.join("")};function ln(u){return new ge(u)}function Ya(u,m,p){u.j=p?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,p){m instanceof _i?(u.i=m,Do(u.i,u.h)):(p||(m=Xa(m,Fc)),u.i=new _i(m,u.h))}function Yt(u,m,p){u.i.set(m,p)}function Ka(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Co),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Co(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,Xs=/[#\?:]/g,Hc=/[#\?]/g,Fc=/[#\?@]/g,Pr=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&jc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=_i.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Fn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function vi(u,m){Tn(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return Tn(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const P=u[T];for(let j=0;j<P.length;j++)p.push(m[T])}return p},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Fn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Zs(u,m,p){vi(u,m),0<p.length&&(u.i=null,u.g.set(Fn(u,m),tt(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var P=j;W[T]!==""&&(P+="="+encodeURIComponent(String(W[T]))),u.push(P)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Do(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(p,T){var P=T.toLowerCase();T!=P&&(vi(this,T),Zs(this,P,p))},u)),u.j=m}function Za(u,m){const p=new vn;if(g.Image){const T=new Image;T.onload=q(An,p,"TestLoadImage: loaded",!0,m,T),T.onerror=q(An,p,"TestLoadImage: error",!1,m,T),T.onabort=q(An,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(An,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xn(u,m){const p=new vn,T=new AbortController,P=setTimeout(()=>{T.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(P),j.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(p,"TestPingServer: error",!1,m)})}function An(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function $a(){this.g=new ja}function Gn(u,m,p){const T=p||"";try{Ys(u,function(P,j){let W=P;v(P)&&(W=Mn(P)),m.push(T+j+"="+encodeURIComponent(W))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Ki(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(Ki,zs),Ki.prototype.g=function(){return new Ti(this.l,this.j)},Ki.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ti,se),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&$s(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Js(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ie(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Js(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Yt(u,m,p))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,se);var Lr=/^https?$/i,Ja=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ks(this.o):ks(qn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Io(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ja,m,void 0))||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of p)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Io(this,j)}};function Io(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zr(u),Kn(u)}function zr(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Kn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?kr(this):this.bb())},r.bb=function(){kr(this)};function kr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)He(u.Ea,0,u);else if(Ht(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var P=String(u.D).match(Qa)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Lr.test(P?P.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var j=2<Sn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",zr(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Wa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function Wa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ir(m)}};function Vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gc(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(rt(u[T]))continue;var p=M(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[P]||[];m[P]=j,j.push(p)}N(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Br(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tr("baseRetryDelayMs",5e3,u),this.cb=tr("retryDelaySeedMs",1e4,u),this.Wa=tr("forwardChannelMaxRetries",2,u),this.wa=tr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new $a,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Br.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){ne(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Lo(this,null,this.W),jr(this)};function Ws(u){if(Oo(u),u.G==3){var m=u.U++,p=ln(u.I);if(Yt(p,"SID",u.K),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),er(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=Ka(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=zo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fa(m)}Po(u)}function qr(u){u.g&&(nr(u),u.g.cancel(),u.g=null)}function Oo(u){qr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Hr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function jr(u){if(!Mr(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||I(),ut||(et(),ut=!0),kt.add(m,u),u.B=0}}function Qc(u,m){return Nr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(V(u.Ga,u,m),nl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Xe(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),D(j,this.S)):j=this.S),this.m!==null||this.O||(P.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Mo(this,P,m),p=ln(this.I),Yt(p,"RID",u),Yt(p,"CVER",22),this.D&&Yt(p,"X-HTTP-Session-Id",this.D),er(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Js(j)))+"&"+m:this.m&&Ie(p,this.m,j)),xr(this.h,P),this.Ua&&Yt(p,"TYPE","init"),this.P?(Yt(p,"$req",m),Yt(p,"SID","null"),P.T=!0,Nn(P,p,null)):Nn(P,p,m),this.G=2}}else this.G==3&&(u?tl(this,u):this.i.length==0||Mr(this.h)||tl(this))};function tl(u,m){var p;m?p=m.l:p=u.U++;const T=ln(u.I);Yt(T,"SID",u.K),Yt(T,"RID",p),Yt(T,"AID",u.T),er(u,T),u.m&&u.o&&Ie(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Mo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xr(u.h,p),Nn(p,T,m)}function er(u,m){u.H&&Lt(u.H,function(p,T){Yt(m,T,p)}),u.l&&Ys({},function(p,T){Yt(m,T,p)})}function Mo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?V(u.l.Na,u.l,u):null;t:{var P=u.i;let j=-1;for(;;){const W=["count="+p];j==-1?0<p?(j=P[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Mt=!0;for(let Te=0;Te<p;Te++){let Nt=P[Te].g;const Ve=P[Te].map;if(Nt-=j,0>Nt)j=Math.max(0,P[Te].g-100),Mt=!1;else try{Gn(Ve,W,"req"+Nt+"_")}catch{T&&T(Ve)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function No(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||I(),ut||(et(),ut=!0),kt.add(m,u),u.v=0}}function el(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(V(u.Fa,u),nl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(V(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),qr(this),xo(this))};function nr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),er(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ka(ln(m)),p.m=null,p.P=!0,gi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,qr(this),el(this),ne(19))};function Hr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Uo(u,m){var p=null;if(u.g==m){Hr(u),nr(u),u.g=null;var T=2}else if(Gs(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=ji(),Ht(T,new Ee(T,p)),jr(u)}else No(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Qc(u,m)||T==2&&el(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function nl(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var p=V(u.fb,u),T=u.Xa;const P=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ya(T,"https"),Ka(T),P?Za(T.toString(),p):xn(T.toString(),p)}else ne(2);u.G=0,u.l&&u.l.sa(m),Po(u),Oo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Po(u){if(u.G=0,u.ka=[],u.l){const m=Qs(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function Lo(u,m,p){var T=p instanceof ge?ln(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var j=new ge(null);T&&Ya(j,T),m&&(j.g=m),P&&Yi(j,P),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Yt(T,p,m),Yt(T,"VER",u.la),er(u,T),T}function zo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Ki({eb:p})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}r=ko.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fr(){}Fr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Br(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!rt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}Z($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ws(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Mn(u),u=p);m.i.push(new Ro(m.Ya++,u)),m.G==3&&jr(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,$e.aa.N.call(this)};function Bo(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Bo,di);function qo(){qs.call(this),this.status=1}Z(qo,qs);function Xn(u){this.g=u}Z(Xn,ko),Xn.prototype.ua=function(){Ht(this.g,"a")},Xn.prototype.ta=function(u){Ht(this.g,new Bo(u))},Xn.prototype.sa=function(u){Ht(this.g,new qo)},Xn.prototype.ra=function(){Ht(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,vv=function(){return new Fr},_v=function(){return ji()},yv=Bn,od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Ku=Gi,mi.COMPLETE="complete",pv=mi,Bs.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",se.prototype.listen=se.prototype.K,Gl=Bs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,gv=qt}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore",$y="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Od("@firebase/firestore");function vs(){return Tr.logLevel}function it(r,...t){if(Tr.logLevel<=Pt.DEBUG){const i=t.map(Nd);Tr.debug(`Firestore (${Os}): ${r}`,...i)}}function ki(r,...t){if(Tr.logLevel<=Pt.ERROR){const i=t.map(Nd);Tr.error(`Firestore (${Os}): ${r}`,...i)}}function ba(r,...t){if(Tr.logLevel<=Pt.WARN){const i=t.map(Nd);Tr.warn(`Firestore (${Os}): ${r}`,...i)}}function Nd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,Ev(r,s,i)}function Ev(r,t,i){let s=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ki(s),new Error(s)}function jt(r,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||Ev(t,o,s)}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ma{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class XA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ZA{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ta,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ta)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new Tv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class $A{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JA{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new $A(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function bt(r,t){return r<t?-1:r>t?1:0}function ud(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),o=t.codePointAt(i);if(s!==o){if(s<128&&o<128)return bt(s,o);{const c=Av(),d=eS(c.encode(Wy(r,i)),c.encode(Wy(t,i)));return d!==0?d:bt(s,o)}}i+=s>65535?2:1}return bt(r.length,t.length)}function Wy(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function eS(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return bt(r[i],t[i]);return bt(r.length,t.length)}function Rs(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="__name__";class ni{constructor(t,i,s){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&pt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=ni.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return bt(t.length,i.length)}static compareSegments(t,i){const s=ni.isNumericId(t),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(t).compare(ni.extractNumericId(i)):ud(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ea.fromString(t.substring(4,t.length-2))}}class te extends ni{construct(t,i,s){return new te(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const nS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ni{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return nS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t_}static keyField(){return new qe([t_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(te.fromString(t))}static fromName(t){return new ft(te.fromString(t).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(r,t,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function iS(r,t,i,s){if(t===!0&&s===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function e_(r){if(!ft.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function n_(r){if(ft.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function bv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function wa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ud(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function co(r,t){if(!bv(r))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,a_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*a_);return new ee(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<i_)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(co(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-i_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:ve("string",ee._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ee(0,0))}static max(){return new Et(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function aS(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Ra(o,ft.empty(),t)}function rS(r){return new Ra(r.readTime,r.key,io)}class Ra{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ra(Et.min(),ft.empty(),io)}static max(){return new Ra(Et.max(),ft.empty(),io)}}function sS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==lS)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Y.reject(i)}static resolve(t){return new Y((i,s)=>{i(t)})}static reject(t){return new Y((i,s)=>{s(t)})}static waitFor(t){return new Y((i,s)=>{let o=0,c=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>s(y))}),d=!0,c===o&&i()})}static or(t){let i=Y.resolve(!1);for(const s of t)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new Y((s,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>o(A))}})}static doWhile(t,i){return new Y((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function uS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ns(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}_c.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function vc(r){return r==null}function ic(r){return r===0&&1/r==-1/0}function cS(r){return typeof r=="number"&&Number.isInteger(r)&&!ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="";function hS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=r_(t)),t=fS(r.get(i),t);return r_(t)}function fS(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case wv:i+="";break;default:i+=c}}return i}function r_(r){return r+wv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Na(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Rv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hu(this.root,t,this.comparator,!0)}}class Hu{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new Be(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,s,o,c){return this}insert(t,i,s){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(t){return new l_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class l_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new pn([])}unionWith(t){let i=new Ce(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Rs(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cv("Invalid base64 string: "+c):c}}(t);return new je(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const dS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const i=dS.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Da(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="server_timestamp",Iv="__type__",Vv="__previous_value__",Ov="__local_write_time__";function Ld(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Iv])===null||i===void 0?void 0:i.stringValue)===Dv}function Ec(r){const t=r.mapValue.fields[Vv];return Ld(t)?Ec(t):t}function ao(r){const t=Ca(r.mapValue.fields[Ov].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,i,s,o,c,d,g,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const ac="(default)";class ro{constructor(t,i){this.projectId=t,this.database=i||ac}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===ac}isEqual(t){return t instanceof ro&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="__type__",gS="__max__",Fu={mapValue:{}},Nv="__vector__",rc="value";function Ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ld(r)?4:yS(r)?9007199254740991:pS(r)?10:11:pt(28295,{value:r})}function ui(r,t){if(r===t)return!0;const i=Ia(r);if(i!==Ia(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ao(r).isEqual(ao(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ca(o.timestampValue),g=Ca(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Da(o.bytesValue).isEqual(Da(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=de(o.doubleValue),g=de(c.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Rs(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(s_(d)!==s_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ui(d[y],g[y])))return!1;return!0}(r,t);default:return pt(52216,{left:r})}}function so(r,t){return(r.values||[]).find(i=>ui(i,t))!==void 0}function Cs(r,t){if(r===t)return 0;const i=Ia(r),s=Ia(t);if(i!==s)return bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=de(c.integerValue||c.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,t);case 3:return o_(r.timestampValue,t.timestampValue);case 4:return o_(ao(r),ao(t));case 5:return ud(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Da(c),y=Da(d);return g.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const A=bt(g[v],y[v]);if(A!==0)return A}return bt(g.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=bt(de(c.latitude),de(d.latitude));return g!==0?g:bt(de(c.longitude),de(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return u_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,y,v,A;const C=c.fields||{},V=d.fields||{},q=(g=C[rc])===null||g===void 0?void 0:g.arrayValue,Z=(y=V[rc])===null||y===void 0?void 0:y.arrayValue,tt=bt(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:u_(q,Z)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===Fu.mapValue&&d===Fu.mapValue)return 0;if(c===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let C=0;C<y.length&&C<A.length;++C){const V=ud(y[C],A[C]);if(V!==0)return V;const q=Cs(g[y[C]],v[A[C]]);if(q!==0)return q}return bt(y.length,A.length)}(r.mapValue,t.mapValue);default:throw pt(23264,{le:i})}}function o_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return bt(r,t);const i=Ca(r),s=Ca(t),o=bt(i.seconds,s.seconds);return o!==0?o:bt(i.nanos,s.nanos)}function u_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Cs(i[o],s[o]);if(c)return c}return bt(i.length,s.length)}function Ds(r){return cd(r)}function cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ca(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Da(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ft.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=cd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${cd(i.fields[d])}`;return o+"}"}(r.mapValue):pt(61005,{value:r})}function Xu(r){switch(Ia(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ec(r);return t?16+Xu(t):16;case 5:return 2*r.stringValue.length;case 6:return Da(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Xu(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Na(s.fields,(c,d)=>{o+=c.length+Xu(d)}),o}(r.mapValue);default:throw pt(13486,{value:r})}}function hd(r){return!!r&&"integerValue"in r}function zd(r){return!!r&&"arrayValue"in r}function c_(r){return!!r&&"nullValue"in r}function h_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zu(r){return!!r&&"mapValue"in r}function pS(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Mv])===null||i===void 0?void 0:i.stringValue)===Nv}function Zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Na(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Zl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function yS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Zu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(i)}setAll(t){let i=qe.emptyPath(),s={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Zl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Na(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new an(Zl(this.value))}}function xv(r){const t=[];return Na(r.fields,(i,s)=>{const o=new qe([i]);if(Zu(s)){const c=xv(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,o,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,Et.min(),Et.min(),Et.min(),an.empty(),0)}static newFoundDocument(t,i,s,o){return new Ke(t,1,i,Et.min(),s,o,0)}static newNoDocument(t,i){return new Ke(t,2,i,Et.min(),Et.min(),an.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,Et.min(),Et.min(),an.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,i){this.position=t,this.inclusive=i}}function f_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=Cs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function d_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,i="asc"){this.field=t,this.dir=i}}function _S(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{}class we extends Uv{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new ES(t,i,s):i==="array-contains"?new SS(t,s):i==="in"?new bS(t,s):i==="not-in"?new wS(t,s):i==="array-contains-any"?new RS(t,s):new we(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new TS(t,s):new AS(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cs(i,this.value)):i!==null&&Ia(this.value)===Ia(i)&&this.matchesComparison(Cs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Uv{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new ci(t,i)}matches(t){return Pv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Pv(r){return r.op==="and"}function Lv(r){return vS(r)&&Pv(r)}function vS(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function fd(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Ds(r.value);if(Lv(r))return r.filters.map(t=>fd(t)).join(",");{const t=r.filters.map(i=>fd(i)).join(",");return`${r.op}(${t})`}}function zv(r,t){return r instanceof we?function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,t):r instanceof ci?function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&zv(d,o.filters[g]),!0):!1}(r,t):void pt(19439)}function kv(r){return r instanceof we?function(i){return`${i.field.canonicalString()} ${i.op} ${Ds(i.value)}`}(r):r instanceof ci?function(i){return i.op.toString()+" {"+i.getFilters().map(kv).join(" ,")+"}"}(r):"Filter"}class ES extends we{constructor(t,i,s){super(t,i,s),this.key=ft.fromName(s.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class TS extends we{constructor(t,i){super(t,"in",i),this.keys=Bv("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class AS extends we{constructor(t,i){super(t,"not-in",i),this.keys=Bv("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Bv(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ft.fromName(s.referenceValue))}class SS extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zd(i)&&so(i.arrayValue,this.value)}}class bS extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class wS extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class RS extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>so(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,i=null,s=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function m_(r,t=null,i=[],s=[],o=null,c=null,d=null){return new CS(r,t,i,s,o,c,d)}function kd(r){const t=Tt(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>fd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),vc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ds(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ds(s)).join(",")),t.Pe=i}return t.Pe}function Bd(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!_S(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!zv(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!d_(r.startAt,t.startAt)&&d_(r.endAt,t.endAt)}function dd(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function DS(r,t,i,s,o,c,d,g){return new Tc(r,t,i,s,o,c,d,g)}function qv(r){return new Tc(r)}function g_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function IS(r){return r.collectionGroup!==null}function $l(r){const t=Tt(r);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(qe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new lc(c,s))}),i.has(qe.keyField().canonicalString())||t.Te.push(new lc(qe.keyField(),s))}return t.Te}function ai(r){const t=Tt(r);return t.Ie||(t.Ie=VS(t,$l(r))),t.Ie}function VS(r,t){if(r.limitType==="F")return m_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new lc(o.field,c)});const i=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return m_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function md(r,t,i){return new Tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ac(r,t){return Bd(ai(r),ai(t))&&r.limitType===t.limitType}function jv(r){return`${kd(ai(r))}|lt:${r.limitType}`}function Es(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>kv(o)).join(", ")}]`),vc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ds(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ds(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Sc(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of $l(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(d,g,y){const v=f_(d,g,y);return d.inclusive?v<=0:v<0}(s.startAt,$l(s),o)||s.endAt&&!function(d,g,y){const v=f_(d,g,y);return d.inclusive?v>=0:v>0}(s.endAt,$l(s),o))}(r,t)}function OS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hv(r){return(t,i)=>{let s=!1;for(const o of $l(r)){const c=MS(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function MS(r,t,i){const s=r.field.isKeyField()?ft.comparator(t.key,i.key):function(c,d,g){const y=d.data.field(c),v=g.data.field(c);return y!==null&&v!==null?Cs(y,v):pt(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Na(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return Rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new re(ft.comparator);function Bi(){return NS}const Fv=new re(ft.comparator);function Ql(...r){let t=Fv;for(const i of r)t=t.insert(i.key,i);return t}function Gv(r){let t=Fv;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function vr(){return Jl()}function Qv(){return Jl()}function Jl(){return new wr(r=>r.toString(),(r,t)=>r.isEqual(t))}const xS=new re(ft.comparator),US=new Ce(ft.comparator);function Vt(...r){let t=US;for(const i of r)t=t.add(i);return t}const PS=new Ce(bt);function LS(){return PS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(t)?"-0":t}}function Yv(r){return{integerValue:""+r}}function zS(r,t){return cS(t)?Yv(t):qd(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function kS(r,t,i){return r instanceof oc?function(o,c){const d={fields:{[Iv]:{stringValue:Dv},[Ov]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ld(c)&&(c=Ec(c)),c&&(d.fields[Vv]=c),{mapValue:d}}(i,t):r instanceof lo?Xv(r,t):r instanceof oo?Zv(r,t):function(o,c){const d=Kv(o,c),g=p_(d)+p_(o.Ee);return hd(d)&&hd(o.Ee)?Yv(g):qd(o.serializer,g)}(r,t)}function BS(r,t,i){return r instanceof lo?Xv(r,t):r instanceof oo?Zv(r,t):i}function Kv(r,t){return r instanceof uc?function(s){return hd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class oc extends bc{}class lo extends bc{constructor(t){super(),this.elements=t}}function Xv(r,t){const i=$v(t);for(const s of r.elements)i.some(o=>ui(o,s))||i.push(s);return{arrayValue:{values:i}}}class oo extends bc{constructor(t){super(),this.elements=t}}function Zv(r,t){let i=$v(t);for(const s of r.elements)i=i.filter(o=>!ui(o,s));return{arrayValue:{values:i}}}class uc extends bc{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function p_(r){return de(r.integerValue||r.doubleValue)}function $v(r){return zd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qS(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof lo&&o instanceof lo||s instanceof oo&&o instanceof oo?Rs(s.elements,o.elements,ui):s instanceof uc&&o instanceof uc?ui(s.Ee,o.Ee):s instanceof oc&&o instanceof oc}(r.transform,t.transform)}class jS{constructor(t,i){this.version=t,this.transformResults=i}}class zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $u(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class wc{}function Jv(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new jd(r.key,zn.none()):new ho(r.key,r.data,zn.none());{const i=r.data,s=an.empty();let o=new Ce(qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new xa(r.key,s,new pn(o.toArray()),zn.none())}}function HS(r,t,i){r instanceof ho?function(o,c,d){const g=o.value.clone(),y=__(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof xa?function(o,c,d){if(!$u(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=__(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Wv(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function Wl(r,t,i,s){return r instanceof ho?function(c,d,g,y){if(!$u(c.precondition,d))return g;const v=c.value.clone(),A=v_(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,i,s):r instanceof xa?function(c,d,g,y){if(!$u(c.precondition,d))return g;const v=v_(c.fieldTransforms,y,d),A=d.data;return A.setAll(Wv(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,t,i,s):function(c,d,g){return $u(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function FS(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=Kv(s.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(s.field,c))}return i||null}function y_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rs(s,o,(c,d)=>qS(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ho extends wc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xa extends wc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Wv(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function __(r,t,i){const s=new Map;jt(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);s.set(c.field,BS(d,g,i[o]))}return s}function v_(r,t,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,kS(c,d,t))}return s}class jd extends wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GS extends wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&HS(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Wl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Wl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Qv();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=Jv(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Rs(this.mutations,t.mutations,(i,s)=>y_(i,s))&&Rs(this.baseMutations,t.baseMutations,(i,s)=>y_(i,s))}}class Hd{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){jt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return xS}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Hd(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function XS(r){switch(r){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function t0(r){if(r===void 0)return ki("GRPC error has no .code"),X.UNKNOWN;switch(r){case _e.OK:return X.OK;case _e.CANCELLED:return X.CANCELLED;case _e.UNKNOWN:return X.UNKNOWN;case _e.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _e.INTERNAL:return X.INTERNAL;case _e.UNAVAILABLE:return X.UNAVAILABLE;case _e.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _e.NOT_FOUND:return X.NOT_FOUND;case _e.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _e.ABORTED:return X.ABORTED;case _e.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _e.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:r})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Ea([4294967295,4294967295],0);function E_(r){const t=Av().encode(r),i=new mv;return i.update(t),new Uint8Array(i.digest())}function T_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ea([i,s],0),new Ea([o,c],0)]}class Fd{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Ea.fromNumber(this.fe)}pe(t,i,s){let o=t.add(i.multiply(Ea.fromNumber(s)));return o.compare(ZS)===1&&(o=new Ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=E_(t),[s,o]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.fe===0)return;const i=E_(t),[s,o]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,fo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Rc(Et.min(),o,new re(bt),Bi(),Vt())}}class fo{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new fo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,i,s,o){this.Se=t,this.removedTargetIds=i,this.key=s,this.be=o}}class e0{constructor(t,i){this.targetId=t,this.De=i}}class n0{constructor(t,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class A_{constructor(){this.ve=0,this.Ce=S_(),this.Fe=je.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Vt(),i=Vt(),s=Vt();return this.Ce.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:c})}}),new fo(this.Fe,this.Me,t,i,s)}ke(){this.xe=!1,this.Ce=S_()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $S{constructor(t){this.We=t,this.Ge=new Map,this.ze=Bi(),this.je=Gu(),this.Je=Gu(),this.He=new re(bt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,i=>{const s=this.tt(i);switch(t.state){case 0:this.nt(i)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(t){const i=t.targetId,s=t.De.count,o=this.st(i);if(o){const c=o.target;if(dd(c))if(s===0){const d=new ft(c.path);this.Xe(i,d,Ke.newNoDocument(d,Et.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(t),y=g?this.ut(g,t,d):1;if(y!==0){this.rt(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Da(s).toUint8Array()}catch(y){if(y instanceof Cv)return ba("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Fd(d,o,c)}catch(y){return ba(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(t,i,s){return i.De.count===s-this.ht(t,i.targetId)?0:2}ht(t,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(i,c,null),o++)}),o}Pt(t){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&dd(g.target)){const y=new ft(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,Ke.newNoDocument(y,t))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let s=Vt();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const v=this.st(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(t));const o=new Rc(t,i,this.He,this.ze,s);return this.ze=Bi(),this.je=Gu(),this.Je=Gu(),this.He=new re(bt),o}Ze(t,i){if(!this.nt(t))return;const s=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new A_,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Ce(bt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Ce(bt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new A_),this.We.getRemoteKeysForTarget(t).forEach(i=>{this.Xe(t,i,null)})}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Gu(){return new re(ft.comparator)}function S_(){return new re(ft.comparator)}const JS={asc:"ASCENDING",desc:"DESCENDING"},WS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tb={and:"AND",or:"OR"};class eb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gd(r,t){return r.useProto3Json||vc(t)?t:{value:t}}function cc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function i0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function nb(r,t){return cc(r,t.toTimestamp())}function ri(r){return jt(!!r,49232),Et.fromTimestamp(function(i){const s=Ca(i);return new ee(s.seconds,s.nanos)}(r))}function Gd(r,t){return pd(r,t).canonicalString()}function pd(r,t){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function a0(r){const t=te.fromString(r);return jt(u0(t),10190,{key:t.toString()}),t}function yd(r,t){return Gd(r.databaseId,t.path)}function Zf(r,t){const i=a0(t);if(i.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(s0(i))}function r0(r,t){return Gd(r.databaseId,t)}function ib(r){const t=a0(r);return t.length===4?te.emptyPath():s0(t)}function _d(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s0(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b_(r,t,i){return{name:yd(r,t),fields:i.value.mapValue.fields}}function ab(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:t0(v.code);return new st(A,v.message||"")}(d);i=new n0(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zf(r,s.document.name),c=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):Et.min(),g=new an({mapValue:{fields:s.document.fields}}),y=Ke.newFoundDocument(o,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Ju(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Zf(r,s.document),c=s.readTime?ri(s.readTime):Et.min(),d=Ke.newNoDocument(o,c),g=s.removedTargetIds||[];i=new Ju([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Zf(r,s.document),c=s.removedTargetIds||[];i=new Ju([],c,o,null)}else{if(!("filter"in t))return pt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new KS(o,c),g=s.targetId;i=new e0(g,d)}}return i}function rb(r,t){let i;if(t instanceof ho)i={update:b_(r,t.key,t.value)};else if(t instanceof jd)i={delete:yd(r,t.key)};else if(t instanceof xa)i={update:b_(r,t.key,t.data),updateMask:mb(t.fieldMask)};else{if(!(t instanceof GS))return pt(16599,{Rt:t.type});i={verify:yd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw pt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:nb(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)}(r,t.precondition)),i}function sb(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(i=>function(o,c){let d=o.updateTime?ri(o.updateTime):ri(c);return d.isEqual(Et.min())&&(d=ri(c)),new jS(d,o.transformResults||[])}(i,t))):[]}function lb(r,t){return{documents:[r0(r,t.path)]}}function ob(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=r0(r,o);const c=function(v){if(v.length!==0)return o0(ci.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(V){return{field:Ts(V.field),direction:hb(V.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{Vt:i,parent:o}}function ub(r){let t=ib(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const V=l0(C);return V instanceof ci&&Lv(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(V=>function(Z){return new lc(As(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(C){let V;return V=typeof C=="object"?C.value:C,vc(V)?null:V}(i.limit));let y=null;i.startAt&&(y=function(C){const V=!!C.before,q=C.values||[];return new sc(q,V)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const V=!C.before,q=C.values||[];return new sc(q,V)}(i.endAt)),DS(t,o,d,c,g,"F",y,v)}function cb(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function l0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=As(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=As(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=As(i.unaryFilter.field);return we.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=As(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(r):r.fieldFilter!==void 0?function(i){return we.create(As(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ci.create(i.compositeFilter.filters.map(s=>l0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(r):pt(30097,{filter:r})}function hb(r){return JS[r]}function fb(r){return WS[r]}function db(r){return tb[r]}function Ts(r){return{fieldPath:r.canonicalString()}}function As(r){return qe.fromServerFormat(r.fieldPath)}function o0(r){return r instanceof we?function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(i.field),op:fb(i.op),value:i.value}}}(r):r instanceof ci?function(i){const s=i.getFilters().map(o=>o0(o));return s.length===1?s[0]:{compositeFilter:{op:db(i.op),filters:s}}}(r):pt(54877,{filter:r})}function mb(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function u0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,i,s,o,c=Et.min(),d=Et.min(),g=je.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t){this.gt=t}}function pb(r){const t=ub({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.Dn=new _b}addToCollectionParentIndex(t,i){return this.Dn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Ra.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Ra.min())}updateCollectionGroup(t,i,s){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class _b{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Ce(te.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c0=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(c0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Is(0)}static ur(){return new Is(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",vb=1048576;function C_([r,t],[i,s]){const o=bt(r,i);return o===0?bt(t,s):o}class Eb{constructor(t){this.Tr=t,this.buffer=new Ce(C_),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();C_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Tb{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){it(R_,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ns(i)?it(R_,"Ignoring IndexedDB error during garbage collection: ",i):await Ms(i)}await this.Rr(3e5)})}}class Ab{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(_c.ue);const s=new Eb(i);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(w_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.pr(t,i))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let s,o,c,d,g,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(t,o))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,i))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(v=Date.now(),vs()<=Pt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${C} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:C})))}}function Sb(r,t){return new Ab(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.changes=new wr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&Wl(s.mutation,o,pn.empty(),ee.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Vt()){const o=vr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let d=Ql();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=vr();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Vt()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,o){let c=Bi();const d=Jl(),g=function(){return Jl()}();return i.forEach((y,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof xa)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Wl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new wb(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const s=Jl();let o=new re((d,g)=>d-g),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const v=i.get(y);if(v===null)return;let A=s.get(y)||pn.empty();A=g.applyToLocalView(v,A),s.set(y,A);const C=(o.get(g.batchId)||Vt()).add(y);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,A=y.value,C=Qv();A.forEach(V=>{if(!c.has(V)){const q=Jv(i.get(V),s.get(V));q!==null&&C.set(V,q),c=c.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):IS(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):Y.resolve(vr());let g=io,y=c;return d.next(v=>Y.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next(V=>{y=y.insert(A,V)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,y,v,Vt())).next(A=>({batchId:g,changes:Gv(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(t,c).next(g=>Y.forEach(g,y=>{const v=function(C,V){return new Tc(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,o).next(A=>{A.forEach((C,V)=>{d=d.insert(C,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(d=>{c.forEach((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=Ql();return d.forEach((y,v)=>{const A=c.get(y);A!==void 0&&Wl(A.mutation,v,pn.empty(),ee.now()),Sc(i,v)&&(g=g.insert(y,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:pb(o.bundledQuery),readTime:ri(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.overlays=new re(ft.comparator),this.kr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const s=vr();return Y.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.wt(t,i,c)}),Y.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(t,i,s){const o=vr(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new re((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=vr(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}wt(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new YS(i,s));let c=this.kr.get(i);c===void 0&&(c=Vt(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.qr=new Ce(xe.Qr),this.$r=new Ce(xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const s=new xe(t,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Wr(new xe(t,i))}Gr(t,i){t.forEach(s=>this.removeReference(s,i))}zr(t){const i=new ft(new te([])),s=new xe(i,t),o=new xe(i,t+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new ft(new te([])),s=new xe(i,t),o=new xe(i,t+1);let c=Vt();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new xe(t,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return ft.comparator(t.key,i.key)||bt(t.Hr,i.Hr)}static Ur(t,i){return bt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ce(xe.Qr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QS(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Pd:this.er-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ce(bt);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const d=new xe(new ft(c),0);let g=new Ce(bt);return this.Yr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Hr)),!0)},d),Y.resolve(this.ei(g))}ei(t){const i=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){jt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,i){const s=new xe(i,0),o=this.Yr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t){this.ni=t,this.docs=function(){return new re(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=Bi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=Bi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||sS(rS(A),s)<=0||(o.has(A.key)||Sc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,s,o){pt(9500)}ri(t,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Mb(this)}getSize(t){return Y.resolve(this.size)}}class Mb extends bb{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),Y.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.persistence=t,this.ii=new wr(i=>kd(i),Bd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new Qd,this.targetCount=0,this._i=Is.ar()}forEachTarget(t,i){return this.ii.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),Y.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new Is(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.hr(i),Y.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),Y.waitFor(c).next(()=>o)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const s=this.ii.get(i)||null;return Y.resolve(s)}addMatchingKeys(t,i,s){return this.oi.Kr(i,s),Y.resolve()}removeMatchingKeys(t,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const s=this.oi.Jr(i);return Y.resolve(s)}containsKey(t,i){return Y.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i){this.ai={},this.overlays={},this.ui=new _c(0),this.ci=!1,this.ci=!0,this.li=new Ib,this.referenceDelegate=t(this),this.hi=new Nb(this),this.indexManager=new yb,this.remoteDocumentCache=function(o){return new Ob(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new gb(i),this.Ti=new Cb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Db,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ai[t.toKey()];return s||(s=new Vb(i,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const o=new xb(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(t,i){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,i)))}}class xb extends oS{constructor(t){super(),this.currentSequenceNumber=t}}class Yd{constructor(t){this.persistence=t,this.Ai=new Qd,this.Ri=null}static Vi(t){return new Yd(t)}get mi(){if(this.Ri)return this.Ri;throw pt(60996)}addReference(t,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),Y.resolve()}removeReference(t,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const o=ft.fromPath(s);return this.fi(t,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.Ri=null,i.apply(t)))}updateLimboDocument(t,i){return this.fi(t,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(t){return 0}fi(t,i){return Y.or([()=>Y.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class hc{constructor(t,i){this.persistence=t,this.gi=new wr(s=>hS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Sb(this,i)}static Vi(t,i){return new hc(t,i)}Ii(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}yr(t){let i=0;return this.gr(t,s=>{i++}).next(()=>i)}gr(t,i){return Y.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(c=>c?Y.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(t,d=>this.Sr(t,d,i).next(g=>{g||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),Y.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Xu(t.data.value)),i}Sr(t,i,s){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.gi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Is=s,this.ds=o}static Es(t,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Kd(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return V1()?8:uS(C1())>0?6:4}()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.ps(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(t,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Ub;return this.ws(t,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,i,d,g.size)})}).next(()=>c.result)}Ss(t,i,s,o){return s.documentReadCount<this.Vs?(vs()<=Pt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Es(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(vs()<=Pt.DEBUG&&it("QueryEngine","Query:",Es(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vs()<=Pt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Es(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(i))):Y.resolve())}ps(t,i){if(g_(i))return Y.resolve(null);let s=ai(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=md(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Vt(...c);return this.gs.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const v=this.bs(i,g);return this.Ds(i,v,d,y.readTime)?this.ps(t,md(i,null,"F")):this.vs(t,v,i,y)}))})))}ys(t,i,s,o){return g_(i)||o.isEqual(Et.min())?Y.resolve(null):this.gs.getDocuments(t,s).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,s,o)?Y.resolve(null):(vs()<=Pt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Es(i)),this.vs(t,d,i,aS(o,io)).next(g=>g))})}bs(t,i){let s=new Ce(Hv(t));return i.forEach((o,c)=>{Sc(t,c)&&(s=s.add(c))}),s}Ds(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(t,i,s){return vs()<=Pt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Es(i)),this.gs.getDocumentsMatchingQuery(t,i,Ra.min(),s)}vs(t,i,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="LocalStore",Lb=3e8;class zb{constructor(t,i,s,o){this.persistence=t,this.Cs=i,this.serializer=o,this.Fs=new re(bt),this.Ms=new wr(c=>kd(c),Bd),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Rb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Fs))}}function kb(r,t,i,s){return new zb(r,t,i,s)}async function f0(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=Vt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function Bb(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,y,v,A){const C=v.batch,V=C.keys();let q=Y.resolve();return V.forEach(Z=>{q=q.next(()=>A.getEntry(y,Z)).next(tt=>{const $=v.docVersions.get(Z);jt($!==null,48541),tt.version.compareTo($)<0&&(C.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(y,C))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function d0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.hi.getLastRemoteSnapshotVersion(i))}function qb(r,t){const i=Tt(r),s=t.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];t.targetChanges.forEach((A,C)=>{const V=o.get(C);if(!V)return;g.push(i.hi.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.hi.addMatchingKeys(c,A.addedDocuments,C)));let q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?q=q.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(C,q),function(tt,$,ct){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Lb?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0}(V,q,A)&&g.push(i.hi.updateTargetData(c,q))});let y=Bi(),v=Vt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(jb(c,d,t.documentUpdates).next(A=>{y=A.Ls,v=A.ks})),!s.isEqual(Et.min())){const A=i.hi.getLastRemoteSnapshotVersion(c).next(C=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(i.Fs=o,c))}function jb(r,t,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Bi();return i.forEach((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):it(Xd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)}),{Ls:d,ks:o}})}function Hb(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Pd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Fb(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,t).next(c=>c?(o=c,Y.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new ya(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(t,s.targetId)),s})}async function vd(r,t,i){const s=Tt(r),o=s.Fs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ns(d))throw d;it(Xd,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function D_(r,t,i){const s=Tt(r);let o=Et.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,A){const C=Tt(y),V=C.Ms.get(A);return V!==void 0?Y.resolve(C.Fs.get(V)):C.hi.getTargetData(v,A)}(s,d,ai(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:Vt())).next(g=>(Gb(s,OS(t),g),{documents:g,qs:c})))}function Gb(r,t,i){let s=r.xs.get(t)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(t,s)}class I_{constructor(){this.activeTargetIds=LS()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Qb{constructor(){this.Fo=new I_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,s){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new I_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class O_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){it(V_,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){it(V_,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Ed(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RestConnection",Kb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xb{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===ac?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,i,s,o,c){const d=Ed(),g=this.Go(t,i.toUriEncodedString());it($f,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,c);const{host:v}=new URL(g),A=Vd(v);return this.jo(t,g,y,s,A).then(C=>(it($f,`Received RPC '${t}' ${d}: `,C),C),C=>{throw ba($f,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Jo(t,i,s,o,c,d){return this.Wo(t,i,s,o,c)}zo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Os}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}Go(t,i){const s=Kb[t];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class $b extends Xb{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,s,o,c){const d=Ed();return new Promise((g,y)=>{const v=new gv;v.setWithCredentials(!0),v.listenOnce(pv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ku.NO_ERROR:const C=v.getResponseJson();it(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case Ku.TIMEOUT:it(Qe,`RPC '${t}' ${d} timed out`),y(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const V=v.getStatus();if(it(Qe,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q==null?void 0:q.error;if(Z&&Z.status&&Z.message){const tt=function(ct){const rt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(rt)>=0?rt:X.UNKNOWN}(Z.status);y(new st(tt,Z.message))}else y(new st(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new st(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{c_:t,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{it(Qe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(o);it(Qe,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}P_(t,i,s){const o=Ed(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vv(),g=_v(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Qe,`Creating RPC '${t}' stream ${o}: ${A}`,y);const C=d.createWebChannel(A,y);this.T_(C);let V=!1,q=!1;const Z=new Zb({Ho:$=>{q?it(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(V||(it(Qe,`Opening RPC '${t}' stream ${o} transport.`),C.open(),V=!0),it(Qe,`RPC '${t}' stream ${o} sending:`,$),C.send($))},Yo:()=>C.close()}),tt=($,ct,rt)=>{$.listen(ct,lt=>{try{rt(lt)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return tt(C,Gl.EventType.OPEN,()=>{q||(it(Qe,`RPC '${t}' stream ${o} transport opened.`),Z.s_())}),tt(C,Gl.EventType.CLOSE,()=>{q||(q=!0,it(Qe,`RPC '${t}' stream ${o} transport closed`),Z.__(),this.I_(C))}),tt(C,Gl.EventType.ERROR,$=>{q||(q=!0,ba(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),Z.__(new st(X.UNAVAILABLE,"The operation could not be completed")))}),tt(C,Gl.EventType.MESSAGE,$=>{var ct;if(!q){const rt=$.data[0];jt(!!rt,16349);const lt=rt,Ot=(lt==null?void 0:lt.error)||((ct=lt[0])===null||ct===void 0?void 0:ct.error);if(Ot){it(Qe,`RPC '${t}' stream ${o} received error:`,Ot);const vt=Ot.status;let Lt=function(S){const D=_e[S];if(D!==void 0)return t0(D)}(vt),N=Ot.message;Lt===void 0&&(Lt=X.INTERNAL,N="Unknown error status: "+vt+" with message "+Ot.message),q=!0,Z.__(new st(Lt,N)),C.close()}else it(Qe,`RPC '${t}' stream ${o} received:`,rt),Z.a_(rt)}}),tt(g,yv.STAT_EVENT,$=>{$.stat===od.PROXY?it(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===od.NOPROXY&&it(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.o_()},0),Z}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(i=>i===t)}}function Jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r){return new eb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class g0{constructor(t,i,s,o,c,d,g,y){this.Fi=t,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new m0(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{t(()=>{const o=new st(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,i){const s=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return it(M_,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget(()=>this.b_===t?i():(it(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jb extends g0{constructor(t,i,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=ab(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ri(d.readTime):Et.min()}(t);return this.listener.J_(i,s)}H_(t){const i={};i.database=_d(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=dd(y)?{documents:lb(c,y)}:{query:ob(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=i0(c,d.resumeToken);const v=gd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=cc(c,d.snapshotVersion.toTimestamp());const v=gd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=cb(this.serializer,t);s&&(i.labels=s),this.k_(i)}Y_(t){const i={};i.database=_d(this.serializer),i.removeTarget=t,this.k_(i)}}class Wb extends g0{constructor(t,i,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=sb(t.writeResults,t.commitTime),s=ri(t.commitTime);return this.listener.ta(s,i)}na(){const t={};t.database=_d(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>rb(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{}class e2 extends t2{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,pd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(X.UNKNOWN,c.toString())})}Jo(t,i,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(t,pd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class n2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ki(i),this._a=!1):it("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="RemoteStore";class i2{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Rr(this)&&(it(Ar,"Restarting streams for network reachability change."),await async function(y){const v=Tt(y);v.Ia.add(4),await mo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Dc(v)}(this))})}),this.Aa=new n2(s,o)}}async function Dc(r){if(Rr(r))for(const t of r.da)await t(!0)}async function mo(r){for(const t of r.da)await t(!1)}function p0(r,t){const i=Tt(r);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Wd(i)?Jd(i):xs(i).x_()&&$d(i,t))}function Zd(r,t){const i=Tt(r),s=xs(i);i.Ta.delete(t),s.x_()&&y0(i,t),i.Ta.size===0&&(s.x_()?s.B_():Rr(i)&&i.Aa.set("Unknown"))}function $d(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}xs(r).H_(t)}function y0(r,t){r.Ra.$e(t),xs(r).Y_(t)}function Jd(r){r.Ra=new $S({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),xs(r).start(),r.Aa.aa()}function Wd(r){return Rr(r)&&!xs(r).M_()&&r.Ta.size>0}function Rr(r){return Tt(r).Ia.size===0}function _0(r){r.Ra=void 0}async function a2(r){r.Aa.set("Online")}async function r2(r){r.Ta.forEach((t,i)=>{$d(r,t)})}async function s2(r,t){_0(r),Wd(r)?(r.Aa.la(t),Jd(r)):r.Aa.set("Unknown")}async function l2(r,t,i){if(r.Aa.set("Online"),t instanceof n0&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(r,t)}catch(s){it(Ar,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fc(r,s)}else if(t instanceof Ju?r.Ra.Ye(t):t instanceof e0?r.Ra.it(t):r.Ra.et(t),!i.isEqual(Et.min()))try{const s=await d0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ta.get(v);A&&c.Ta.set(v,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,v)=>{const A=c.Ta.get(y);if(!A)return;c.Ta.set(y,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),y0(c,y);const C=new ya(A.target,y,v,A.sequenceNumber);$d(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){it(Ar,"Failed to raise snapshot:",s),await fc(r,s)}}async function fc(r,t,i){if(!Ns(t))throw t;r.Ia.add(1),await mo(r),r.Aa.set("Offline"),i||(i=()=>d0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Ar,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await Dc(r)})}function v0(r,t){return t().catch(i=>fc(r,i,t))}async function Ic(r){const t=Tt(r),i=Va(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Pd;for(;o2(t);)try{const o=await Hb(t.localStore,s);if(o===null){t.Pa.length===0&&i.B_();break}s=o.batchId,u2(t,o)}catch(o){await fc(t,o)}E0(t)&&T0(t)}function o2(r){return Rr(r)&&r.Pa.length<10}function u2(r,t){r.Pa.push(t);const i=Va(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function E0(r){return Rr(r)&&!Va(r).M_()&&r.Pa.length>0}function T0(r){Va(r).start()}async function c2(r){Va(r).na()}async function h2(r){const t=Va(r);for(const i of r.Pa)t.X_(i.mutations)}async function f2(r,t,i){const s=r.Pa.shift(),o=Hd.from(s,t,i);await v0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ic(r)}async function d2(r,t){t&&Va(r).Z_&&await async function(s,o){if(function(d){return XS(d)&&d!==X.ABORTED}(o.code)){const c=s.Pa.shift();Va(s).N_(),await v0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Ic(s)}}(r,t),E0(r)&&T0(r)}async function N_(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),it(Ar,"RemoteStore received new credentials");const s=Rr(i);i.Ia.add(3),await mo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Dc(i)}async function m2(r,t){const i=Tt(r);t?(i.Ia.delete(2),await Dc(i)):t||(i.Ia.add(2),await mo(i),i.Aa.set("Unknown"))}function xs(r){return r.Va||(r.Va=function(i,s,o){const c=Tt(i);return c.ia(),new Jb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:a2.bind(null,r),e_:r2.bind(null,r),n_:s2.bind(null,r),J_:l2.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Wd(r)?Jd(r):r.Aa.set("Unknown")):(await r.Va.stop(),_0(r))})),r.Va}function Va(r){return r.ma||(r.ma=function(i,s,o){const c=Tt(i);return c.ia(),new Wb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:c2.bind(null,r),n_:d2.bind(null,r),ea:h2.bind(null,r),ta:f2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await Ic(r)):(await r.ma.stop(),r.Pa.length>0&&(it(Ar,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const d=Date.now()+s,g=new tm(t,i,d,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(r,t){if(ki("AsyncQueue",`${t}: ${r}`),Ns(r))return new st(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(t){return new Ss(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ss)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ss;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.fa=new re(ft.comparator)}track(t){const i=t.doc.key,s=this.fa.get(i);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(i,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(i):t.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):pt(63341,{At:t,ga:s}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal((i,s)=>{t.push(s)}),t}}class Vs{constructor(t,i,s,o,c,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Vs(t,i,Ss.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ac(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class p2{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=Tt(i),c=o.queries;o.queries=U_(),c.forEach((d,g)=>{for(const y of g.wa)y.onError(s)})})(this,new st(X.ABORTED,"Firestore shutting down"))}}function U_(){return new wr(r=>jv(r),Ac)}async function y2(r,t){const i=Tt(r);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.ba()&&(s=2):(c=new g2,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=em(d,`Initialization of query '${Es(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.wa.push(t),t.va(i.onlineState),c.ya&&t.Ca(c.ya)&&nm(i)}async function _2(r,t){const i=Tt(r),s=t.query;let o=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=t.ba()?0:1:!c.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function v2(r,t){const i=Tt(r);let s=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&nm(i)}function E2(r,t,i){const s=Tt(r),o=s.queries.get(t);if(o)for(const c of o.wa)c.onError(i);s.queries.delete(t)}function nm(r){r.Da.forEach(t=>{t.next()})}var Td,P_;(P_=Td||(Td={})).Fa="default",P_.Cache="cache";class T2{constructor(t,i,s){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Vs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=Vs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t){this.key=t}}class S0{constructor(t){this.key=t}}class A2{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=Hv(t),this.eu=new Ss(this.Xa)}get tu(){return this.Ha}nu(t,i){const s=i?i.ru:new x_,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,C)=>{const V=o.get(A),q=Sc(this.query,C)?C:null,Z=!!V&&this.mutatedKeys.has(V.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;V&&q?V.data.isEqual(q.data)?Z!==tt&&(s.track({type:3,doc:q}),$=!0):this.iu(V,q)||(s.track({type:2,doc:q}),$=!0,(y&&this.Xa(q,y)>0||v&&this.Xa(q,v)<0)&&(g=!0)):!V&&q?(s.track({type:0,doc:q}),$=!0):V&&!q&&(s.track({type:1,doc:V}),$=!0,(y||v)&&(g=!0)),$&&(q?(d=d.add(q),c=tt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort((A,C)=>function(q,Z){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{At:$})}};return tt(q)-tt(Z)}(A.type,C.type)||this.Xa(A.doc,C.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,v=y!==this.Ya;return this.Ya=y,d.length!==0||v?{snapshot:new Vs(this.query,t.eu,c,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new x_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Vt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return t.forEach(s=>{this.Za.has(s)||i.push(new S0(s))}),this.Za.forEach(s=>{t.has(s)||i.push(new A0(s))}),i}uu(t){this.Ha=t.qs,this.Za=Vt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return Vs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const im="SyncEngine";class S2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class b2{constructor(t){this.key=t,this.lu=!1}}class w2{constructor(t,i,s,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new wr(g=>jv(g),Ac),this.Tu=new Map,this.Iu=new Set,this.du=new re(ft.comparator),this.Eu=new Map,this.Au=new Qd,this.Ru={},this.Vu=new Map,this.mu=Is.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function R2(r,t,i=!0){const s=I0(r);let o;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await b0(s,t,i,!0),o}async function C2(r,t){const i=I0(r);await b0(i,t,!0,!1)}async function b0(r,t,i,s){const o=await Fb(r.localStore,ai(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await D2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&p0(r.remoteStore,o),g}async function D2(r,t,i,s,o){r.gu=(C,V,q)=>async function(tt,$,ct,rt){let lt=$.view.nu(ct);lt.Ds&&(lt=await D_(tt.localStore,$.query,!1).then(({documents:N})=>$.view.nu(N,lt)));const Ot=rt&&rt.targetChanges.get($.targetId),vt=rt&&rt.targetMismatches.get($.targetId)!=null,Lt=$.view.applyChanges(lt,tt.isPrimaryClient,Ot,vt);return z_(tt,$.targetId,Lt._u),Lt.snapshot}(r,C,V,q);const c=await D_(r.localStore,t,!0),d=new A2(t,c.qs),g=d.nu(c.documents),y=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,y);z_(r,i,v._u);const A=new S2(t,i,d);return r.Pu.set(t,A),r.Tu.has(i)?r.Tu.get(i).push(t):r.Tu.set(i,[t]),v.snapshot}async function I2(r,t,i){const s=Tt(r),o=s.Pu.get(t),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!Ac(d,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Zd(s.remoteStore,o.targetId),Ad(s,o.targetId)}).catch(Ms)):(Ad(s,o.targetId),await vd(s.localStore,o.targetId,!0))}async function V2(r,t){const i=Tt(r),s=i.Pu.get(t),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Zd(i.remoteStore,s.targetId))}async function O2(r,t,i){const s=z2(r);try{const o=await function(d,g){const y=Tt(d),v=ee.now(),A=g.reduce((q,Z)=>q.add(Z.key),Vt());let C,V;return y.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=Bi(),tt=Vt();return y.Os.getEntries(q,A).next($=>{Z=$,Z.forEach((ct,rt)=>{rt.isValidDocument()||(tt=tt.add(ct))})}).next(()=>y.localDocuments.getOverlayedDocuments(q,Z)).next($=>{C=$;const ct=[];for(const rt of g){const lt=FS(rt,C.get(rt.key).overlayedDocument);lt!=null&&ct.push(new xa(rt.key,lt,xv(lt.value.mapValue),zn.exists(!0)))}return y.mutationQueue.addMutationBatch(q,v,ct,g)}).next($=>{V=$;const ct=$.applyToLocalDocumentSet(C,tt);return y.documentOverlayCache.saveOverlays(q,$.batchId,ct)})}).then(()=>({batchId:V.batchId,changes:Gv(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let v=d.Ru[d.currentUser.toKey()];v||(v=new re(bt)),v=v.insert(g,y),d.Ru[d.currentUser.toKey()]=v}(s,o.batchId,i),await go(s,o.changes),await Ic(s.remoteStore)}catch(o){const c=em(o,"Failed to persist write");i.reject(c)}}async function w0(r,t){const i=Tt(r);try{const s=await qb(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?jt(d.lu,14607):o.removedDocuments.size>0&&(jt(d.lu,42227),d.lu=!1))}),await go(i,s,t)}catch(s){await Ms(s)}}function L_(r,t,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=Tt(d);y.onlineState=g;let v=!1;y.queries.forEach((A,C)=>{for(const V of C.wa)V.va(g)&&(v=!0)}),v&&nm(y)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function M2(r,t,i){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Eu.get(t),c=o&&o.key;if(c){let d=new re(ft.comparator);d=d.insert(c,Ke.newNoDocument(c,Et.min()));const g=Vt().add(c),y=new Rc(Et.min(),new Map,new re(bt),d,g);await w0(s,y),s.du=s.du.remove(c),s.Eu.delete(t),am(s)}else await vd(s.localStore,t,!1).then(()=>Ad(s,t,i)).catch(Ms)}async function N2(r,t){const i=Tt(r),s=t.batch.batchId;try{const o=await Bb(i.localStore,t);C0(i,s,null),R0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Ms(o)}}async function x2(r,t,i){const s=Tt(r);try{const o=await function(d,g){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return y.mutationQueue.lookupMutationBatch(v,g).next(C=>(jt(C!==null,37113),A=C.keys(),y.mutationQueue.removeMutationBatch(v,C))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>y.localDocuments.getDocuments(v,A))})}(s.localStore,t);C0(s,t,i),R0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await go(s,o)}catch(o){await Ms(o)}}function R0(r,t){(r.Vu.get(t)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(t)}function C0(r,t,i){const s=Tt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Ad(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),i&&r.hu.pu(s,i);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||D0(r,s)})}function D0(r,t){r.Iu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Zd(r.remoteStore,i),r.du=r.du.remove(t),r.Eu.delete(i),am(r))}function z_(r,t,i){for(const s of i)s instanceof A0?(r.Au.addReference(s.key,t),U2(r,s)):s instanceof S0?(it(im,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||D0(r,s.key)):pt(19791,{yu:s})}function U2(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Iu.has(s)||(it(im,"New document in limbo: "+i),r.Iu.add(s),am(r))}function am(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const i=new ft(te.fromString(t)),s=r.mu.next();r.Eu.set(s,new b2(i)),r.du=r.du.insert(i,s),p0(r.remoteStore,new ya(ai(qv(i.path)),s,"TargetPurposeLimboResolution",_c.ue))}}async function go(r,t,i){const s=Tt(r),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,y)=>{d.push(s.gu(y,t,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(v){o.push(v);const C=Kd.Es(y.targetId,v);c.push(C)}}))}),await Promise.all(d),s.hu.J_(o),await async function(y,v){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Y.forEach(v,V=>Y.forEach(V.Is,q=>A.persistence.referenceDelegate.addReference(C,V.targetId,q)).next(()=>Y.forEach(V.ds,q=>A.persistence.referenceDelegate.removeReference(C,V.targetId,q)))))}catch(C){if(!Ns(C))throw C;it(Xd,"Failed to update sequence numbers: "+C)}for(const C of v){const V=C.targetId;if(!C.fromCache){const q=A.Fs.get(V),Z=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(Z);A.Fs=A.Fs.insert(V,tt)}}}(s.localStore,c))}async function P2(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){it(im,"User change. New user:",t.toKey());const s=await f0(i.localStore,t);i.currentUser=t,function(c,d){c.Vu.forEach(g=>{g.forEach(y=>{y.reject(new st(X.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await go(i,s.Bs)}}function L2(r,t){const i=Tt(r),s=i.Eu.get(t);if(s&&s.lu)return Vt().add(s.key);{let o=Vt();const c=i.Tu.get(t);if(!c)return o;for(const d of c){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function I0(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=M2.bind(null,t),t.hu.J_=v2.bind(null,t.eventManager),t.hu.pu=E2.bind(null,t.eventManager),t}function z2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=N2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,t),t}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return kb(this.persistence,new Pb,t.initialUser,this.serializer)}Du(t){return new h0(Yd.Vi,this.serializer)}bu(t){return new Qb}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class k2 extends dc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){jt(this.persistence.referenceDelegate instanceof hc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Tb(s,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new h0(s=>hc.Vi(s,i),this.serializer)}}class Sd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>L_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=P2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new p2}()}createDatastore(t){const i=Cc(t.databaseInfo.databaseId),s=function(c){return new $b(c)}(t.databaseInfo);return function(c,d,g,y){return new e2(c,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,d,g){return new i2(s,o,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>L_(this.syncEngine,i,0),function(){return O_.C()?new O_:new Yb}())}createSyncEngine(t,i){return function(o,c,d,g,y,v,A){const C=new w2(o,c,d,g,y,v);return A&&(C.fu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=Tt(o);it(Ar,"RemoteStore shutting down."),c.Ia.add(5),await mo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Sd.provider={build:()=>new Sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class q2{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(Oa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Oa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=em(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Wf(r,t){r.asyncQueue.verifyOperationInProgress(),it(Oa,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await f0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{ba("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{it("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ba("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function k_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await j2(r);it(Oa,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>N_(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>N_(t.remoteStore,o)),r._onlineComponents=t}async function j2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Oa,"Using user provided OfflineComponentProvider");try{await Wf(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ba("Error using user provided cache. Falling back to memory cache: "+i),await Wf(r,new dc)}}else it(Oa,"Using default OfflineComponentProvider"),await Wf(r,new k2(void 0));return r._offlineComponents}async function V0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Oa,"Using user provided OnlineComponentProvider"),await k_(r,r._uninitializedComponentsProvider._online)):(it(Oa,"Using default OnlineComponentProvider"),await k_(r,new Sd))),r._onlineComponents}function H2(r){return V0(r).then(t=>t.syncEngine)}async function F2(r){const t=await V0(r),i=t.eventManager;return i.onListen=R2.bind(null,t.syncEngine),i.onUnlisten=I2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=C2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=V2.bind(null,t.syncEngine),i}function G2(r,t,i={}){const s=new Ta;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,v){const A=new B2({next:V=>{A.Ou(),d.enqueueAndForget(()=>_2(c,C)),V.fromCache&&y.source==="server"?v.reject(new st(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(V)},error:V=>v.reject(V)}),C=new T2(g,A,{includeMetadataChanges:!0,ka:!0});return y2(c,C)}(await F2(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="firestore.googleapis.com",q_=!0;class j_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M0,this.ssl=q_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:q_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=c0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vb)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KA;switch(s.type){case"firstParty":return new JA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=B_.get(i);s&&(it("ComponentProvider","Removing Datastore"),B_.delete(i),s.terminate())}(this),Promise.resolve()}}function Q2(r,t,i,s={}){var o;r=wa(r,Vc);const c=Vd(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${i}`;c&&(A1(`https://${y}`),R1("Firestore",!0)),d.host!==M0&&d.host!==y&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!eo(v,g)&&(r._setSettings(v),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=Ye.MOCK_USER;else{A=S1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ye(V)}r._authCredentials=new XA(new Tv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Oc(this.firestore,t,this._query)}}class Re{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(co(i,Re._jsonSchema))return new Re(t,s||null,new ft(te.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:ve("string",Re._jsonSchemaVersion),referencePath:ve("string")};class Aa extends Oc{constructor(t,i,s){super(t,i,qv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ft(t))}withConverter(t){return new Aa(this.firestore,t,this._path)}}function N0(r,t,...i){if(r=oi(r),Sv("collection","path",t),r instanceof Vc){const s=te.fromString(t,...i);return n_(s),new Aa(r,null,s)}{if(!(r instanceof Re||r instanceof Aa))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return n_(s),new Aa(r.firestore,null,s)}}function rm(r,t,...i){if(r=oi(r),arguments.length===1&&(t=xd.newId()),Sv("doc","path",t),r instanceof Vc){const s=te.fromString(t,...i);return e_(s),new Re(r,null,new ft(s))}{if(!(r instanceof Re||r instanceof Aa))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return e_(s),new Re(r.firestore,r instanceof Aa?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class F_{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new m0(this,"async_queue_retry"),this.oc=()=>{const s=Jf();s&&it(H_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const i=Jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Ta;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Ns(t))throw t;it(H_,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const i=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,ki("INTERNAL UNHANDLED ERROR: ",G_(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(t,i,s){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const o=tm.createAndSchedule(this,t,i,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&pt(47125,{hc:G_(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function G_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class po extends Vc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new F_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new F_(t),this._firestoreClient=void 0,await t}}}function Y2(r,t){const i=typeof r=="object"?r:hv(),s=typeof r=="string"?r:ac,o=uo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=E1("firestore");c&&Q2(o,...c)}return o}function x0(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||K2(r),r._firestoreClient}function K2(r){var t,i,s;const o=r._freezeSettings(),c=function(g,y,v,A){return new mS(g,y,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,O0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new q2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(je.fromBase64String(t))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new On(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(co(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ve("string",On._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(t){if(co(t,si._jsonSchema))return new si(t.latitude,t.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:ve("string",si._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(co(t,li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new li(t.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:ve("string",li._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=/^__.*__$/;class Z2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new xa(t,this.data,this.fieldMask,i,this.fieldTransforms):new ho(t,this.data,i,this.fieldTransforms)}}class U0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new xa(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function P0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ec:r})}}class lm{constructor(t,i,s,o,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new lm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return mc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(P0(this.Ec)&&X2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class $2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Cc(t)}Dc(t,i,s,o=!1){return new lm({Ec:t,methodName:i,bc:s,path:qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L0(r){const t=r._freezeSettings(),i=Cc(r._databaseId);return new $2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function J2(r,t,i,s,o,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,t,i,o);om("Data must be an object, but it was:",d,s);const g=z0(s,d);let y,v;if(c.merge)y=new pn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const V=bd(t,C,i);if(!d.contains(V))throw new st(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);B0(A,V)||A.push(V)}y=new pn(A),v=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,v=d.fieldTransforms;return new Z2(new an(g),y,v)}class Nc extends sm{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nc}}function W2(r,t,i,s){const o=r.Dc(1,t,i);om("Data must be an object, but it was:",o,s);const c=[],d=an.empty();Na(s,(y,v)=>{const A=um(t,y,i);v=oi(v);const C=o.gc(A);if(v instanceof Nc)c.push(A);else{const V=xc(v,C);V!=null&&(c.push(A),d.set(A,V))}});const g=new pn(c);return new U0(d,g,o.fieldTransforms)}function tw(r,t,i,s,o,c){const d=r.Dc(1,t,i),g=[bd(t,s,i)],y=[o];if(c.length%2!=0)throw new st(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(bd(t,c[V])),y.push(c[V+1]);const v=[],A=an.empty();for(let V=g.length-1;V>=0;--V)if(!B0(v,g[V])){const q=g[V];let Z=y[V];Z=oi(Z);const tt=d.gc(q);if(Z instanceof Nc)v.push(q);else{const $=xc(Z,tt);$!=null&&(v.push(q),A.set(q,$))}}const C=new pn(v);return new U0(A,C,d.fieldTransforms)}function xc(r,t){if(k0(r=oi(r)))return om("Unsupported field value:",t,r),z0(r,t);if(r instanceof sm)return function(s,o){if(!P0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let y=xc(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ee.fromDate(s);return{timestampValue:cc(o.serializer,c)}}if(s instanceof ee){const c=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(o.serializer,c)}}if(s instanceof si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:i0(o.serializer,s._byteString)};if(s instanceof Re){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return function(d,g){return{mapValue:{fields:{[Mv]:{stringValue:Nv},[rc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return qd(g.serializer,v)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Ud(s)}`)}(r,t)}function z0(r,t){const i={};return Rv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Na(r,(s,o)=>{const c=xc(o,t.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function k0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof si||r instanceof On||r instanceof Re||r instanceof sm||r instanceof li)}function om(r,t,i){if(!k0(i)||!bv(i)){const s=Ud(i);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function bd(r,t,i){if((t=oi(t))instanceof Mc)return t._internalPath;if(typeof t=="string")return um(r,t);throw mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const ew=new RegExp("[~\\*/\\[\\]]");function um(r,t,i){if(t.search(ew)>=0)throw mc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Mc(...t.split("."))._internalPath}catch{throw mc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function mc(r,t,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new st(X.INVALID_ARGUMENT,g+r+y)}function B0(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(j0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nw extends q0{data(){return super.data()}}function j0(r,t){return typeof t=="string"?um(r,t):t instanceof Mc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aw{convertValue(t,i="none"){switch(Ia(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Na(t,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,o;const c=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[rc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new li(c)}convertGeoPoint(t){return new si(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Ec(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(t));default:return null}}convertTimestamp(t){const i=Ca(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=te.fromString(t);jt(u0(s),9688,{name:t});const o=new ro(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return o.isEqual(i)||ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Yu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bs extends q0{constructor(t,i,s,o,c,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(j0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:ve("string",bs._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Wu extends bs{data(t={}){return super.data(t)}}class ws{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new Wu(this._firestore,this._userDataWriter,s.key,s,new Yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:sw(g.type),doc:y,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ws._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:ve("string",ws._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class lw extends aw{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function H0(r){r=wa(r,Oc);const t=wa(r.firestore,po),i=x0(t),s=new lw(t);return iw(r._query),G2(i,r._query).then(o=>new ws(t,s,r,o))}function ow(r,t,i){r=wa(r,Re);const s=wa(r.firestore,po),o=rw(r.converter,t);return cm(s,[J2(L0(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,zn.none())])}function uw(r,t,i,...s){r=wa(r,Re);const o=wa(r.firestore,po),c=L0(o);let d;return d=typeof(t=oi(t))=="string"||t instanceof Mc?tw(c,"updateDoc",r._key,t,i,s):W2(c,"updateDoc",r._key,t),cm(o,[d.toMutation(r._key,zn.exists(!0))])}function F0(r){return cm(wa(r.firestore,po),[new jd(r._key,zn.none())])}function cm(r,t){return function(s,o){const c=new Ta;return s.asyncQueue.enqueueAndForget(async()=>O2(await H2(s),o,c)),c.promise}(x0(r),t)}(function(t,i=!0){(function(o){Os=o})(LA),Sa(new Li("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new po(new ZA(s.getProvider("auth-internal")),new WA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(v.options.projectId,A)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ii(Zy,$y,t),ii(Zy,$y,"esm2017")})();var cw="firebase",hw="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(cw,hw,"app");const G0="@firebase/installations",hm="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=1e4,Y0=`w:${hm}`,K0="FIS_v2",fw="https://firebaseinstallations.googleapis.com/v1",dw=60*60*1e3,mw="installations",gw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Sr=new yc(mw,gw,pw);function X0(r){return r instanceof Ma&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0({projectId:r}){return`${fw}/projects/${r}/installations`}function $0(r){return{token:r.token,requestStatus:2,expiresIn:_w(r.expiresIn),creationTime:Date.now()}}async function J0(r,t){const s=(await t.json()).error;return Sr.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function W0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function yw(r,{refreshToken:t}){const i=W0(r);return i.append("Authorization",vw(t)),i}async function tE(r){const t=await r();return t.status>=500&&t.status<600?r():t}function _w(r){return Number(r.replace("s","000"))}function vw(r){return`${K0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const s=Z0(r),o=W0(r),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:K0,appId:r.appId,sdkVersion:Y0},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await tE(()=>fetch(s,g));if(y.ok){const v=await y.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:$0(v.authToken)}}else throw await J0("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=/^[cdef][\w-]{21}$/,wd="";function Sw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=bw(r);return Aw.test(i)?i:wd}catch{return wd}}function bw(r){return Tw(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function iE(r,t){const i=Uc(r);aE(i,t),ww(i,t)}function aE(r,t){const i=nE.get(r);if(i)for(const s of i)s(t)}function ww(r,t){const i=Rw();i&&i.postMessage({key:r,fid:t}),Cw()}let Er=null;function Rw(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=r=>{aE(r.data.key,r.data.fid)}),Er}function Cw(){nE.size===0&&Er&&(Er.close(),Er=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebase-installations-database",Iw=1,br="firebase-installations-store";let td=null;function fm(){return td||(td=uv(Dw,Iw,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(br)}}})),td}async function gc(r,t){const i=Uc(r),o=(await fm()).transaction(br,"readwrite"),c=o.objectStore(br),d=await c.get(i);return await c.put(t,i),await o.done,(!d||d.fid!==t.fid)&&iE(r,t.fid),t}async function rE(r){const t=Uc(r),s=(await fm()).transaction(br,"readwrite");await s.objectStore(br).delete(t),await s.done}async function Pc(r,t){const i=Uc(r),o=(await fm()).transaction(br,"readwrite"),c=o.objectStore(br),d=await c.get(i),g=t(d);return g===void 0?await c.delete(i):await c.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&iE(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(r){let t;const i=await Pc(r.appConfig,s=>{const o=Vw(s),c=Ow(r,o);return t=c.registrationPromise,c.installationEntry});return i.fid===wd?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Vw(r){const t=r||{fid:Sw(),registrationStatus:0};return sE(t)}function Ow(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Sr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=Mw(r,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Nw(r)}:{installationEntry:t}}async function Mw(r,t){try{const i=await Ew(r,t);return gc(r.appConfig,i)}catch(i){throw X0(i)&&i.customData.serverCode===409?await rE(r.appConfig):await gc(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Nw(r){let t=await Q_(r.appConfig);for(;t.registrationStatus===1;)await eE(100),t=await Q_(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await dm(r);return s||i}return t}function Q_(r){return Pc(r,t=>{if(!t)throw Sr.create("installation-not-found");return sE(t)})}function sE(r){return xw(r)?{fid:r.fid,registrationStatus:0}:r}function xw(r){return r.registrationStatus===1&&r.registrationTime+Q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw({appConfig:r,heartbeatServiceProvider:t},i){const s=Pw(r,i),o=yw(r,i),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:Y0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await tE(()=>fetch(s,g));if(y.ok){const v=await y.json();return $0(v)}else throw await J0("Generate Auth Token",y)}function Pw(r,{fid:t}){return`${Z0(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(r,t=!1){let i;const s=await Pc(r.appConfig,c=>{if(!lE(c))throw Sr.create("not-registered");const d=c.authToken;if(!t&&kw(d))return c;if(d.requestStatus===1)return i=Lw(r,t),c;{if(!navigator.onLine)throw Sr.create("app-offline");const g=qw(c);return i=zw(r,g),g}});return i?await i:s.authToken}async function Lw(r,t){let i=await Y_(r.appConfig);for(;i.authToken.requestStatus===1;)await eE(100),i=await Y_(r.appConfig);const s=i.authToken;return s.requestStatus===0?mm(r,t):s}function Y_(r){return Pc(r,t=>{if(!lE(t))throw Sr.create("not-registered");const i=t.authToken;return jw(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function zw(r,t){try{const i=await Uw(r,t),s=Object.assign(Object.assign({},t),{authToken:i});return await gc(r.appConfig,s),i}catch(i){if(X0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await rE(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await gc(r.appConfig,s)}throw i}}function lE(r){return r!==void 0&&r.registrationStatus===2}function kw(r){return r.requestStatus===2&&!Bw(r)}function Bw(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+dw}function qw(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function jw(r){return r.requestStatus===1&&r.requestTime+Q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(r){const t=r,{installationEntry:i,registrationPromise:s}=await dm(t);return s?s.catch(console.error):mm(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(r,t=!1){const i=r;return await Gw(i),(await mm(i,t)).token}async function Gw(r){const{registrationPromise:t}=await dm(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){if(!r||!r.options)throw ed("App Configuration");if(!r.name)throw ed("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw ed(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ed(r){return Sr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="installations",Yw="installations-internal",Kw=r=>{const t=r.getProvider("app").getImmediate(),i=Qw(t),s=uo(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Xw=r=>{const t=r.getProvider("app").getImmediate(),i=uo(t,oE).getImmediate();return{getId:()=>Hw(i),getToken:o=>Fw(i,o)}};function Zw(){Sa(new Li(oE,Kw,"PUBLIC")),Sa(new Li(Yw,Xw,"PRIVATE"))}Zw();ii(G0,hm);ii(G0,hm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="analytics",$w="firebase_id",Jw="origin",Ww=60*1e3,tR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Od("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new yc("analytics","Analytics",eR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){if(!r.startsWith(gm)){const t=yn.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(t.message),""}return r}function uE(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function iR(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function aR(r,t){const i=iR("firebase-js-sdk-policy",{createScriptURL:nR}),s=document.createElement("script"),o=`${gm}?l=${r}&id=${t}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function rR(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function sR(r,t,i,s,o,c){const d=s[o];try{if(d)await t[d];else{const y=(await uE(i)).find(v=>v.measurementId===o);y&&await t[y.appId]}}catch(g){rn.error(g)}r("config",o,c)}async function lR(r,t,i,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await uE(i);for(const y of d){const v=g.find(C=>C.measurementId===y),A=v&&t[v.appId];if(A)c.push(A);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,o||{})}catch(c){rn.error(c)}}function oR(r,t,i,s){async function o(c,...d){try{if(c==="event"){const[g,y]=d;await lR(r,t,i,g,y)}else if(c==="config"){const[g,y]=d;await sR(r,t,i,s,g,y)}else if(c==="consent"){const[g,y]=d;r("consent",g,y)}else if(c==="get"){const[g,y,v]=d;r("get",g,y,v)}else if(c==="set"){const[g]=d;r("set",g)}else r(c,...d)}catch(g){rn.error(g)}}return o}function uR(r,t,i,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=oR(c,r,t,i),{gtagCore:c,wrappedGtag:window[o]}}function cR(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(gm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=30,fR=1e3;class dR{constructor(t={},i=fR){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const cE=new dR;function mR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function gR(r){var t;const{appId:i,apiKey:s}=r,o={method:"GET",headers:mR(s)},c=tR.replace("{app-id}",i),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let g="";try{const y=await d.json();!((t=y.error)===null||t===void 0)&&t.message&&(g=y.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function pR(r,t=cE,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw yn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw yn.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new vR;return setTimeout(async()=>{g.abort()},Ww),hE({appId:s,apiKey:o,measurementId:c},d,g,t)}async function hE(r,{throttleEndTimeMillis:t,backoffCount:i},s,o=cE){var c;const{appId:d,measurementId:g}=r;try{await yR(s,t)}catch(y){if(g)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:g};throw y}try{const y=await gR(r);return o.deleteThrottleMetadata(d),y}catch(y){const v=y;if(!_R(v)){if(o.deleteThrottleMetadata(d),g)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw y}const A=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?By(i,o.intervalMillis,hR):By(i,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,C),rn.debug(`Calling attemptFetch again in ${A} millis`),hE(r,C,s,o)}}function yR(r,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(yn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function _R(r){if(!(r instanceof Ma)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class vR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function ER(r,t,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await t,d=Object.assign(Object.assign({},s),{send_to:c});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(){if(rv())try{await sv()}catch(r){return rn.warn(yn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return rn.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AR(r,t,i,s,o,c,d){var g;const y=pR(r);y.then(q=>{i[q.measurementId]=q.appId,r.options.measurementId&&q.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(q=>rn.error(q)),t.push(y);const v=TR().then(q=>{if(q)return s.getId()}),[A,C]=await Promise.all([y,v]);cR(c)||aR(c,A.measurementId),o("js",new Date);const V=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return V[Jw]="firebase",V.update=!0,C!=null&&(V[$w]=C),o("config",A.measurementId,V),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.app=t}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},K_=[];const X_={};let nd="dataLayer",bR="gtag",Z_,fE,$_=!1;function wR(){const r=[];if(I1()&&r.push("This is a browser extension environment."),O1()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=yn.create("invalid-analytics-context",{errorInfo:t});rn.warn(i.message)}}function RR(r,t,i){wR();const s=r.options.appId;if(!s)throw yn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(to[s]!=null)throw yn.create("already-exists",{id:s});if(!$_){rR(nd);const{wrappedGtag:c,gtagCore:d}=uR(to,K_,X_,nd,bR);fE=c,Z_=d,$_=!0}return to[s]=AR(r,K_,X_,t,Z_,nd,i),new SR(r)}function CR(r=hv()){r=oi(r);const t=uo(r,pc);return t.isInitialized()?t.getImmediate():DR(r)}function DR(r,t={}){const i=uo(r,pc);if(i.isInitialized()){const o=i.getImmediate();if(eo(t,i.getOptions()))return o;throw yn.create("already-initialized")}return i.initialize({options:t})}function IR(r,t,i,s){r=oi(r),ER(fE,to[r.app.options.appId],t,i,s).catch(o=>rn.error(o))}const J_="@firebase/analytics",W_="0.10.17";function VR(){Sa(new Li(pc,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return RR(s,o,i)},"PUBLIC")),Sa(new Li("analytics-internal",r,"PRIVATE")),ii(J_,W_),ii(J_,W_,"esm2017");function r(t){try{const i=t.getProvider(pc).getImmediate();return{logEvent:(s,o,c)=>IR(i,s,o,c)}}catch(i){throw yn.create("interop-component-reg-failed",{reason:i})}}}VR();const OR={apiKey:"AIzaSyCSquv_Q4h-uMn6a8SJ-AnI4KQcNKjk7Og",authDomain:"my-react-app-firebase-793b1.firebaseapp.com",projectId:"my-react-app-firebase-793b1",storageBucket:"my-react-app-firebase-793b1.firebasestorage.app",messagingSenderId:"525119036648",appId:"1:525119036648:web:2e8484125bf9069d473d5d",measurementId:"G-54TSXS7PJK"},dE=cv(OR);CR(dE);const yo=Y2(dE);async function tv(r,t,i){const s=rm(yo,i,r);await uw(s,t)}async function MR(r){try{const t=await H0(N0(yo,r));await Promise.all(t.docs.map(i=>F0(i.ref)))}catch(t){throw console.error("Error cleaning all documents:",t),t}}async function NR(r,t){await F0(rm(yo,r,t))}async function ev(r){const t=await H0(N0(yo,r)),i=[];return t.forEach(s=>{i.push({id:s.id,...s.data()})}),i}async function xR(r,t,i){const s=rm(yo,r,t);await ow(s,i)}function UR(){const[r,t]=ue.useState([]),[i,s]=ue.useState(()=>prompt("Enter your name"));ue.useEffect(()=>{async function S(){const D=await ev(i);t(D||[])}S().catch(D=>console.error("Failed to fetch data",D))},[i]),ue.useEffect(()=>{async function S(){const M=await ev(i),x=M.map(wt=>wt.id),R=r.map(wt=>wt.id);for(const wt of r)if(x.includes(wt.id)){const Qt=M.find(H=>H.id===wt.id);(Qt&&Qt.name!=wt.name||Qt.isChecked!=wt.isChecked)&&(Qt.name!=wt.name?await tv(wt.id,{name:wt.name},i):Qt.isChecked!=wt.isChecked&&await tv(wt.id,{isChecked:wt.isChecked},i))}else await xR(i,wt.id,{name:wt.name,isChecked:wt.isChecked});for(const wt of M)R.includes(wt.id)||await NR(i,wt.id);alert("Synced data")}const D=setTimeout(()=>{S().catch(console.error)},300);return()=>{clearTimeout(D)}},[r,i]);const[o,c]=ue.useState(!1);async function d(){if(prompt("Enter secret admin password")!=="1234")alert("You don't have permission to clear the local storage");else try{await MR(i),t([]),c(!0)}catch(D){console.error("Failed to clear Firestore:",D),alert("Failed to clear database storage")}}ue.useEffect(()=>{o&&setTimeout(()=>{alert("Database storage cleared"),c(!1)},300)},[o]);function g(S,D){const M=r.map(x=>S===x.id?{...x,name:D}:x);t(M)}function y(S){const D=r.filter(M=>S!==M.id);q--,t(D)}function v(S){if(S!=""){const D={id:`todo-${WT()}`,name:S,isChecked:!1};t([...r,D]),q++}else alert("You must enter a task")}const[A,C]=ue.useState(!1);function V(S){let D=!0;const M=r.map(x=>S===x.id?(x.isChecked==!0&&(D=!1),{...x,isChecked:!x.isChecked}):x);C(!!D),console.log("Confetti triggered?",A),t(M)}ue.useEffect(()=>{if(A){const S=setTimeout(()=>C(!1),3e3);return()=>clearTimeout(S)}},[A]);let q=r.length,Z="tasks";const[tt,$]=ue.useState("All"),ct={All:()=>!0,Active:S=>!S.isChecked,Completed:S=>S.isChecked,Clear_Storage:()=>!0},lt=Object.keys(ct).map(S=>gt.jsx($T,{val:S,isPressed:S===tt,setFilter:$,setValues:t,handleClearStorage:d},S)),Ot=r.filter(ct[tt]);q=Ot.length,q==1&&(Z="task");let vt=!1;q==0&&(vt=!0);function Lt(S){const D=ue.useRef();return ue.useEffect(()=>{D.current=S}),D.current}const N=ue.useRef(null),b=Lt(q);return ue.useEffect(()=>{q<b&&N.current.focus()},[q,b]),gt.jsxs("div",{className:"todoapp stack-la  rge",children:[gt.jsx("h1",{children:"TodoMatic"}),A&&gt.jsx("div",{id:"confetti",children:gt.jsx(u1,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:800,gravity:.95})}),gt.jsx(XT,{id:"new-todo-input",type:"text",addTask:v}),gt.jsx("div",{className:"filters btn-group stack-exception",children:lt}),gt.jsx("h2",{id:"list-heading",tabIndex:"-1",ref:N,children:vt?gt.jsx(gt.Fragment,{children:"No tasks remaining"}):gt.jsxs(gt.Fragment,{children:[q," ",Z," remaining"]})}),gt.jsx("ul",{role:"list",className:"todo-list stack-large stack-exception","aria-labelledby":"list-heading",children:Ot.map(S=>gt.jsx("li",{className:"todo stack-small",children:gt.jsx(JT,{id:S.id,name:S.name,isChecked:S.isChecked,toggleTaskCompleted:V,deleteTask:y,editTask:g})},S.id))})]})}KT.createRoot(document.getElementById("root")).render(gt.jsx(UR,{}));
